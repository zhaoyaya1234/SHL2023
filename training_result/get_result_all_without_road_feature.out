nohup: ignoring input
1 --------------------- 原始训练集当训练集,原始验证集当测试集的实验---------------------
the all length of training set:4202104
the all length of test set:575840
begin training all
training set:all_train_set,the 0th training set
begin training
X_train: (4202104, 160)
y_train: 4202104
Training rf...
Time elapsed for training rf: 4775.24
Training LightGBM...
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Warning] Auto-choosing col-wise multi-threading, the overhead of testing was 4.122909 seconds.
You can set `force_col_wise=true` to remove the overhead.
[LightGBM] [Info] Total Bins 37576
[LightGBM] [Info] Number of data points in the train set: 3361683, number of used features: 160
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Info] Start training from score -2.151152
[LightGBM] [Info] Start training from score -2.146884
[LightGBM] [Info] Start training from score -2.235344
[LightGBM] [Info] Start training from score -2.191041
[LightGBM] [Info] Start training from score -1.889558
[LightGBM] [Info] Start training from score -2.003927
[LightGBM] [Info] Start training from score -1.905625
[LightGBM] [Info] Start training from score -2.177067
[1]	valid_0's multi_logloss: 1.57647
[2]	valid_0's multi_logloss: 1.30785
[3]	valid_0's multi_logloss: 1.11727
[4]	valid_0's multi_logloss: 0.972706
[5]	valid_0's multi_logloss: 0.859298
[6]	valid_0's multi_logloss: 0.765593
[7]	valid_0's multi_logloss: 0.687353
[8]	valid_0's multi_logloss: 0.621212
[9]	valid_0's multi_logloss: 0.566056
[10]	valid_0's multi_logloss: 0.518412
[11]	valid_0's multi_logloss: 0.476947
[12]	valid_0's multi_logloss: 0.44254
[13]	valid_0's multi_logloss: 0.412673
[14]	valid_0's multi_logloss: 0.386599
[15]	valid_0's multi_logloss: 0.36245
[16]	valid_0's multi_logloss: 0.341771
[17]	valid_0's multi_logloss: 0.323206
[18]	valid_0's multi_logloss: 0.306991
[19]	valid_0's multi_logloss: 0.291262
[20]	valid_0's multi_logloss: 0.278097
[21]	valid_0's multi_logloss: 0.266106
[22]	valid_0's multi_logloss: 0.25396
[23]	valid_0's multi_logloss: 0.244116
[24]	valid_0's multi_logloss: 0.234377
[25]	valid_0's multi_logloss: 0.225897
[26]	valid_0's multi_logloss: 0.217826
[27]	valid_0's multi_logloss: 0.210006
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[28]	valid_0's multi_logloss: 0.203226
[29]	valid_0's multi_logloss: 0.195301
[30]	valid_0's multi_logloss: 0.188921
[31]	valid_0's multi_logloss: 0.183627
[32]	valid_0's multi_logloss: 0.178417
[33]	valid_0's multi_logloss: 0.172854
[34]	valid_0's multi_logloss: 0.16663
[35]	valid_0's multi_logloss: 0.161811
[36]	valid_0's multi_logloss: 0.157741
[37]	valid_0's multi_logloss: 0.153739
[38]	valid_0's multi_logloss: 0.149291
[39]	valid_0's multi_logloss: 0.146329
[40]	valid_0's multi_logloss: 0.142646
[41]	valid_0's multi_logloss: 0.138316
[42]	valid_0's multi_logloss: 0.135363
[43]	valid_0's multi_logloss: 0.132285
[44]	valid_0's multi_logloss: 0.129689
[45]	valid_0's multi_logloss: 0.126728
[46]	valid_0's multi_logloss: 0.124362
[47]	valid_0's multi_logloss: 0.121879
[48]	valid_0's multi_logloss: 0.118985
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[49]	valid_0's multi_logloss: 0.116647
[50]	valid_0's multi_logloss: 0.114327
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[51]	valid_0's multi_logloss: 0.111859
[52]	valid_0's multi_logloss: 0.109825
[53]	valid_0's multi_logloss: 0.107955
[54]	valid_0's multi_logloss: 0.106033
[55]	valid_0's multi_logloss: 0.104375
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[56]	valid_0's multi_logloss: 0.102638
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[57]	valid_0's multi_logloss: 0.101142
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[58]	valid_0's multi_logloss: 0.0988332
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[59]	valid_0's multi_logloss: 0.0971739
[60]	valid_0's multi_logloss: 0.0958857
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[61]	valid_0's multi_logloss: 0.0942512
[62]	valid_0's multi_logloss: 0.0927586
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[63]	valid_0's multi_logloss: 0.0913691
[64]	valid_0's multi_logloss: 0.0899477
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[65]	valid_0's multi_logloss: 0.0888579
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[66]	valid_0's multi_logloss: 0.0877613
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[67]	valid_0's multi_logloss: 0.0865859
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[68]	valid_0's multi_logloss: 0.0853316
[69]	valid_0's multi_logloss: 0.0842129
[70]	valid_0's multi_logloss: 0.0830923
[71]	valid_0's multi_logloss: 0.081767
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[72]	valid_0's multi_logloss: 0.0803757
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[73]	valid_0's multi_logloss: 0.0793008
[74]	valid_0's multi_logloss: 0.0782579
[75]	valid_0's multi_logloss: 0.07713
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[76]	valid_0's multi_logloss: 0.0760353
[77]	valid_0's multi_logloss: 0.0749386
[78]	valid_0's multi_logloss: 0.0738657
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[79]	valid_0's multi_logloss: 0.073041
[80]	valid_0's multi_logloss: 0.0720936
[81]	valid_0's multi_logloss: 0.0709827
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[82]	valid_0's multi_logloss: 0.0702208
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[83]	valid_0's multi_logloss: 0.0694166
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[84]	valid_0's multi_logloss: 0.0684242
[85]	valid_0's multi_logloss: 0.0675588
[86]	valid_0's multi_logloss: 0.0667582
[87]	valid_0's multi_logloss: 0.0661546
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[88]	valid_0's multi_logloss: 0.0652768
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[89]	valid_0's multi_logloss: 0.0646913
[90]	valid_0's multi_logloss: 0.0638539
[91]	valid_0's multi_logloss: 0.0632437
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[92]	valid_0's multi_logloss: 0.0625684
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[93]	valid_0's multi_logloss: 0.0618467
[94]	valid_0's multi_logloss: 0.0612412
[95]	valid_0's multi_logloss: 0.0604394
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[96]	valid_0's multi_logloss: 0.0597465
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[97]	valid_0's multi_logloss: 0.0592377
[98]	valid_0's multi_logloss: 0.0585876
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[99]	valid_0's multi_logloss: 0.057876
[100]	valid_0's multi_logloss: 0.0572198
Time elapsed for training LightGBM: 3638.66
Training XGBoost...
[03:16:26] WARNING: /workspace/src/gbm/gbtree.cc:139: Tree method is automatically selected to be 'approx' for faster speed. To use old behavior (exact greedy algorithm on single machine), set tree_method to 'exact'.
Time elapsed for training XGBoost: 5566.29
begin testing
training set : all_train_set ; testing set : all_test_set; test order: 0
X_val  : (575840, 160)
y_val  : 575840
predict rf
Time elapsed for testing rf 5.62
predict lgb
Time elapsed for testing lgb: 7.71
predict xgb
Time elapsed for testing xgb: 13.72
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : all_train_set ; testing set : all_test_set  testing result
tree_model.pred_mean
[[104098   2051     95    604    495   2045   7981   1991]
 [  5333  92334     72   2696    181    291   2581   1084]
 [     0   6828   3825    443      0      0      0      0]
 [  1859   4588      0  29993   4853   5936    899      0]
 [  1198    225      0    195  60931   8504  10843      0]
 [   845    168      0     46   7230  25286   3145      0]
 [  3135    309      0    140   1505   4555  73923   3673]
 [     0     23      0      0      0      0  24521  62284]]
              precision    recall  f1-score   support

       Still       0.89      0.87      0.88    119360
     Walking       0.87      0.88      0.87    104572
         Run       0.96      0.34      0.51     11096
        Bike       0.88      0.62      0.73     48128
         Car       0.81      0.74      0.78     81896
         Bus       0.54      0.69      0.61     36720
       Train       0.60      0.85      0.70     87240
      Subway       0.90      0.72      0.80     86828

    accuracy                           0.79    575840
   macro avg       0.81      0.72      0.73    575840
weighted avg       0.81      0.79      0.79    575840

test over
get importance point
single experiment feature importance :{'norm_acc_std_window_20_mean': 0.3770220295769508, 'latitude': 0.21022269514925965, 'speed_wd_max_log': 0.19919552864775641, 'norm_acc_cal_range': 0.17146953374938195, 'norm_acc_entropy': 0.12838370370778374, 'norm_mag_peak_frequency_window_20_mean': 0.11642509984155315, 'north': 0.10924777014575791, 'speed_square': 0.09457503100954055, 'norm_acc_energy': 0.06786712984368604, 'ACC_y_std_window_20_mean': 0.0632615462224691, 'MAG_y_cal_range': 0.05743309129620599, 'speed_log': 0.054796310762388445, 'norm_acc_std': 0.05380118420780515, 'speed_dif': 0.05009813364452539, 'MAG_x_std': 0.047755904245447865, 'east': 0.041967369209540535, 'ACC_y_entropy': 0.04022872032657356, 'longitude': 0.036329081256108425, 'norm_gyr_min_window_20_mean': 0.028100030200783246, 'number_window_20_mean': 0.026431063196144165, 'ACC_y_energy': 0.025261642086290267, 'gps_snr_mean_window_20_mean': 0.025218680436969336, 'GYR_z_entropy': 0.025124419038879922, 'longitude_window_20_mean': 0.02388726764063124, 'ACC_x_std': 0.023589281891531963, 'norm_acc_min': 0.023257435141910678, 'is_stop': 0.022732180129540938, 'number': 0.02251081930658553, 'ACC_y_peak_frequency': 0.022468244889436613, 'norm_gyr_median_window_20_mean': 0.022052520875034273, 'norm_mag_avg_frequency': 0.02182744315089128, 'norm_acc_peak_frequency': 0.02083072247645386, 'acc_wd_std': 0.020700930549726396, 'GYR_x_entropy': 0.01969495536371895, 'MAG_z_cal_range': 0.019331368509711105, 'ACC_z_std': 0.0191143351434385, 'ACC_y_std': 0.019012332696019586, 'norm_gyr_median': 0.01890646314768543, 'longitude_window_20_std': 0.01871354858990423, 'ACC_y_cal_range': 0.01859985585915601, 'norm_acc_max': 0.016645615423054875, 'ACC_z_median': 0.015462624410559137, 'acc_wd_max_log': 0.01490696280572686, 'norm_acc_mean': 0.014529182253180385, 'norm_gyr_entropy': 0.014464459644844342, 'ACC_z_mean': 0.013338380472653429, 'speed': 0.013218461019487497, 'accuracy': 0.012755614109475745, 'gps_snr_max': 0.012501413300758504, 'MAG_x_cal_range': 0.01249828972815146, 'GYR_z_std': 0.01187997268056573, 'distance': 0.01145529492212995, 'altitude': 0.011312960159008983, 'speed_wd_std': 0.010935814232804111, 'ACC_x_cal_range': 0.010834477549341148, 'ACC_y_max': 0.010613051008683934, 'GYR_z_avg_frequency': 0.010057106295174006, 'norm_mag_cal_range': 0.009997523606394054, 'GYR_y_peak_frequency': 0.009860976690707299, 'availability': 0.009857407767370062, 'norm_mag_median': 0.00935374681512336, 'GYR_z_peak_frequency': 0.008816395184343033, 'GYR_x_max': 0.008801529919233523, 'ACC_x_peak_frequency': 0.008736879680295127, 'norm_mag_min': 0.00870754180353586, 'norm_mag_energy': 0.007622650369345768, 'MAG_x_entropy': 0.007418910712676836, 'ACC_z_max': 0.007411073500958059, 'norm_mag_std': 0.00723375484626663, 'gps_snr_std': 0.007187528667249047, 'ACC_x_energy': 0.0069321264521716025, 'MAG_x_mean': 0.006830808964923383, 'GYR_y_std': 0.006706440237455873, 'MAG_x_energy': 0.006509750123132872, 'norm_mag_mean': 0.006343847896996303, 'norm_gyr_mean': 0.006286800805380027, 'ACC_y_avg_frequency': 0.006250773208090709, 'ACC_y_mean': 0.006219076412621384, 'ACC_x_entropy': 0.006215272519145554, 'east_dlt': 0.00605026283933877, 'norm_mag_max': 0.005992565114382023, 'gps_snr_mean': 0.005935044229439274, 'MAG_y_energy': 0.005753308172617174, 'ACC_x_avg_frequency': 0.005665284219202809, 'GYR_y_std_window_20_mean': 0.005630768360236962, 'ACC_z_energy': 0.005411027895444941, 'norm_gyr_avg_frequency': 0.005037609811915016, 'GYR_x_peak_frequency': 0.005033142077790471, 'north_speed': 0.005020297644748888, 'GYR_y_entropy': 0.0049198949786401595, 'ACC_z_peak_frequency': 0.00491672755362098, 'ACC_y_median': 0.004881857176978719, 'MAG_y_std': 0.004607112315073189, 'ACC_x_mean': 0.004564272187220714, 'ACC_x_max': 0.004437107231633262, 'ACC_z_cal_range': 0.004417468560665529, 'GYR_x_std': 0.004243524791827636, 'MAG_z_entropy': 0.004152257316129244, 'GYR_y_energy': 0.004138548679610139, 'MAG_z_avg_frequency': 0.003915808661309913, 'ACC_y_min': 0.0038622534764580973, 'norm_acc_kurtosis': 0.0037205429784163595, 'MAG_z_max': 0.0036389284312616167, 'MAG_z_std': 0.0034077306081458873, 'GYR_y_avg_frequency': 0.003384318363329068, 'norm_acc_avg_frequency': 0.003296248914476285, 'GYR_y_max': 0.003248557555217794, 'north_dlt': 0.0029816168984310694, 'ACC_x_median': 0.0028286699618301912, 'MAG_z_min': 0.002730764083999422, 'ACC_z_avg_frequency': 0.0026504924756905607, 'east_speed': 0.0026482244566188523, 'GYR_z_min': 0.0026364767036514717, 'MAG_x_max': 0.002610068183778063, 'gps_snr_min': 0.0025583844857632533, 'ACC_z_min': 0.002498144413111386, 'MAG_x_avg_frequency': 0.0024030794431859947, 'norm_mag_entropy': 0.00238172941248942, 'norm_gyr_energy': 0.0022751936999100067, 'norm_gyr_std': 0.002274075838256947, 'GYR_x_avg_frequency': 0.0021705152330156983, 'MAG_y_avg_frequency': 0.0021566161224511058, 'ACC_x_min': 0.002140128740761486, 'MAG_y_max': 0.002129951280087374, 'GYR_y_min': 0.002117633025170378, 'norm_gyr_cal_range': 0.002094698433391491, 'norm_acc_median': 0.0020304757830792676, 'MAG_z_median': 0.0019624397687971985, 'ACC_z_entropy': 0.0018706362576200106, 'ACC_z_kurtosis': 0.001801283169280729, 'GYR_z_cal_range': 0.0017826642058118543, 'norm_gyr_max': 0.0016205797419668552, 'MAG_x_min': 0.0014050827198970922, 'speed_dlt': 0.0013897268181279887, 'MAG_z_energy': 0.0012210806765211887, 'GYR_x_cal_range': 0.001130186801046723, 'GYR_z_energy': 0.0010755384532258792, 'GYR_x_min': 0.0010704645481086055, 'MAG_y_median': 0.0010284277329952456, 'MAG_y_entropy': 0.0009628459190601666, 'MAG_z_mean': 0.0009483363606046454, 'ACC_z_skewness': 0.0008791781639330854, 'norm_mag_peak_frequency': 0.0008454066665210145, 'GYR_x_energy': 0.0008235643661730351, 'GYR_z_kurtosis': 0.0007760894222330905, 'norm_acc_skewness': 0.0007398640192485188, 'norm_gyr_peak_frequency': 0.0006937398727620355, 'MAG_y_mean': 0.0006735480836154877, 'ACC_y_kurtosis': 0.0006193126261061904, 'acc': 0.0005358505459356331, 'MAG_y_min': 0.00046381612020474756, 'MAG_x_median': 0.0004149623587552625, 'time_dlt': 0.0003320861625076013, 'GYR_y_cal_range': 0.00032483544596712834, 'norm_gyr_min': 0.00031453379308632505, 'valid_dlt': 0.00024608166012852643, 'distance_change': 0.0001272000223630876, 'GYR_z_max': 0.00011885546173212705, 'GYR_y_median': 3.317255904169331e-05, 'GYR_x_kurtosis': 1.3372358900341233e-05}
importance feature add well
training set : all_train_set ; testing set : Torso; test order: 1
X_val  : (143960, 160)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.44
predict lgb
Time elapsed for testing lgb: 2.09
predict xgb
Time elapsed for testing xgb: 4.0
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : all_train_set ; testing set : Torso  testing result
tree_model.pred_mean
[[25664   296     0    13    58  1215  2410   184]
 [ 1552 22900     6   263    53   173   969   227]
 [    0  1774   887   113     0     0     0     0]
 [  426   482     0  7410  2737   344   633     0]
 [  379    46     0     0 15904  2314  1831     0]
 [  605    51     0     0   187  6543  1794     0]
 [ 1782    24     0     0     0  2358 16748   898]
 [    0     3     0     0     0     0 11099 10605]]
              precision    recall  f1-score   support

       Still       0.84      0.86      0.85     29840
     Walking       0.90      0.88      0.89     26143
         Run       0.99      0.32      0.48      2774
        Bike       0.95      0.62      0.75     12032
         Car       0.84      0.78      0.81     20474
         Bus       0.51      0.71      0.59      9180
       Train       0.47      0.77      0.58     21810
      Subway       0.89      0.49      0.63     21707

    accuracy                           0.74    143960
   macro avg       0.80      0.68      0.70    143960
weighted avg       0.79      0.74      0.75    143960

test over
get importance point
single experiment feature importance :{'norm_acc_std_window_20_mean': 0.3770220295769508, 'latitude': 0.21022269514925965, 'speed_wd_max_log': 0.19919552864775641, 'norm_acc_cal_range': 0.17146953374938195, 'norm_acc_entropy': 0.12838370370778374, 'norm_mag_peak_frequency_window_20_mean': 0.11642509984155315, 'north': 0.10924777014575791, 'speed_square': 0.09457503100954055, 'norm_acc_energy': 0.06786712984368604, 'ACC_y_std_window_20_mean': 0.0632615462224691, 'MAG_y_cal_range': 0.05743309129620599, 'speed_log': 0.054796310762388445, 'norm_acc_std': 0.05380118420780515, 'speed_dif': 0.05009813364452539, 'MAG_x_std': 0.047755904245447865, 'east': 0.041967369209540535, 'ACC_y_entropy': 0.04022872032657356, 'longitude': 0.036329081256108425, 'norm_gyr_min_window_20_mean': 0.028100030200783246, 'number_window_20_mean': 0.026431063196144165, 'ACC_y_energy': 0.025261642086290267, 'gps_snr_mean_window_20_mean': 0.025218680436969336, 'GYR_z_entropy': 0.025124419038879922, 'longitude_window_20_mean': 0.02388726764063124, 'ACC_x_std': 0.023589281891531963, 'norm_acc_min': 0.023257435141910678, 'is_stop': 0.022732180129540938, 'number': 0.02251081930658553, 'ACC_y_peak_frequency': 0.022468244889436613, 'norm_gyr_median_window_20_mean': 0.022052520875034273, 'norm_mag_avg_frequency': 0.02182744315089128, 'norm_acc_peak_frequency': 0.02083072247645386, 'acc_wd_std': 0.020700930549726396, 'GYR_x_entropy': 0.01969495536371895, 'MAG_z_cal_range': 0.019331368509711105, 'ACC_z_std': 0.0191143351434385, 'ACC_y_std': 0.019012332696019586, 'norm_gyr_median': 0.01890646314768543, 'longitude_window_20_std': 0.01871354858990423, 'ACC_y_cal_range': 0.01859985585915601, 'norm_acc_max': 0.016645615423054875, 'ACC_z_median': 0.015462624410559137, 'acc_wd_max_log': 0.01490696280572686, 'norm_acc_mean': 0.014529182253180385, 'norm_gyr_entropy': 0.014464459644844342, 'ACC_z_mean': 0.013338380472653429, 'speed': 0.013218461019487497, 'accuracy': 0.012755614109475745, 'gps_snr_max': 0.012501413300758504, 'MAG_x_cal_range': 0.01249828972815146, 'GYR_z_std': 0.01187997268056573, 'distance': 0.01145529492212995, 'altitude': 0.011312960159008983, 'speed_wd_std': 0.010935814232804111, 'ACC_x_cal_range': 0.010834477549341148, 'ACC_y_max': 0.010613051008683934, 'GYR_z_avg_frequency': 0.010057106295174006, 'norm_mag_cal_range': 0.009997523606394054, 'GYR_y_peak_frequency': 0.009860976690707299, 'availability': 0.009857407767370062, 'norm_mag_median': 0.00935374681512336, 'GYR_z_peak_frequency': 0.008816395184343033, 'GYR_x_max': 0.008801529919233523, 'ACC_x_peak_frequency': 0.008736879680295127, 'norm_mag_min': 0.00870754180353586, 'norm_mag_energy': 0.007622650369345768, 'MAG_x_entropy': 0.007418910712676836, 'ACC_z_max': 0.007411073500958059, 'norm_mag_std': 0.00723375484626663, 'gps_snr_std': 0.007187528667249047, 'ACC_x_energy': 0.0069321264521716025, 'MAG_x_mean': 0.006830808964923383, 'GYR_y_std': 0.006706440237455873, 'MAG_x_energy': 0.006509750123132872, 'norm_mag_mean': 0.006343847896996303, 'norm_gyr_mean': 0.006286800805380027, 'ACC_y_avg_frequency': 0.006250773208090709, 'ACC_y_mean': 0.006219076412621384, 'ACC_x_entropy': 0.006215272519145554, 'east_dlt': 0.00605026283933877, 'norm_mag_max': 0.005992565114382023, 'gps_snr_mean': 0.005935044229439274, 'MAG_y_energy': 0.005753308172617174, 'ACC_x_avg_frequency': 0.005665284219202809, 'GYR_y_std_window_20_mean': 0.005630768360236962, 'ACC_z_energy': 0.005411027895444941, 'norm_gyr_avg_frequency': 0.005037609811915016, 'GYR_x_peak_frequency': 0.005033142077790471, 'north_speed': 0.005020297644748888, 'GYR_y_entropy': 0.0049198949786401595, 'ACC_z_peak_frequency': 0.00491672755362098, 'ACC_y_median': 0.004881857176978719, 'MAG_y_std': 0.004607112315073189, 'ACC_x_mean': 0.004564272187220714, 'ACC_x_max': 0.004437107231633262, 'ACC_z_cal_range': 0.004417468560665529, 'GYR_x_std': 0.004243524791827636, 'MAG_z_entropy': 0.004152257316129244, 'GYR_y_energy': 0.004138548679610139, 'MAG_z_avg_frequency': 0.003915808661309913, 'ACC_y_min': 0.0038622534764580973, 'norm_acc_kurtosis': 0.0037205429784163595, 'MAG_z_max': 0.0036389284312616167, 'MAG_z_std': 0.0034077306081458873, 'GYR_y_avg_frequency': 0.003384318363329068, 'norm_acc_avg_frequency': 0.003296248914476285, 'GYR_y_max': 0.003248557555217794, 'north_dlt': 0.0029816168984310694, 'ACC_x_median': 0.0028286699618301912, 'MAG_z_min': 0.002730764083999422, 'ACC_z_avg_frequency': 0.0026504924756905607, 'east_speed': 0.0026482244566188523, 'GYR_z_min': 0.0026364767036514717, 'MAG_x_max': 0.002610068183778063, 'gps_snr_min': 0.0025583844857632533, 'ACC_z_min': 0.002498144413111386, 'MAG_x_avg_frequency': 0.0024030794431859947, 'norm_mag_entropy': 0.00238172941248942, 'norm_gyr_energy': 0.0022751936999100067, 'norm_gyr_std': 0.002274075838256947, 'GYR_x_avg_frequency': 0.0021705152330156983, 'MAG_y_avg_frequency': 0.0021566161224511058, 'ACC_x_min': 0.002140128740761486, 'MAG_y_max': 0.002129951280087374, 'GYR_y_min': 0.002117633025170378, 'norm_gyr_cal_range': 0.002094698433391491, 'norm_acc_median': 0.0020304757830792676, 'MAG_z_median': 0.0019624397687971985, 'ACC_z_entropy': 0.0018706362576200106, 'ACC_z_kurtosis': 0.001801283169280729, 'GYR_z_cal_range': 0.0017826642058118543, 'norm_gyr_max': 0.0016205797419668552, 'MAG_x_min': 0.0014050827198970922, 'speed_dlt': 0.0013897268181279887, 'MAG_z_energy': 0.0012210806765211887, 'GYR_x_cal_range': 0.001130186801046723, 'GYR_z_energy': 0.0010755384532258792, 'GYR_x_min': 0.0010704645481086055, 'MAG_y_median': 0.0010284277329952456, 'MAG_y_entropy': 0.0009628459190601666, 'MAG_z_mean': 0.0009483363606046454, 'ACC_z_skewness': 0.0008791781639330854, 'norm_mag_peak_frequency': 0.0008454066665210145, 'GYR_x_energy': 0.0008235643661730351, 'GYR_z_kurtosis': 0.0007760894222330905, 'norm_acc_skewness': 0.0007398640192485188, 'norm_gyr_peak_frequency': 0.0006937398727620355, 'MAG_y_mean': 0.0006735480836154877, 'ACC_y_kurtosis': 0.0006193126261061904, 'acc': 0.0005358505459356331, 'MAG_y_min': 0.00046381612020474756, 'MAG_x_median': 0.0004149623587552625, 'time_dlt': 0.0003320861625076013, 'GYR_y_cal_range': 0.00032483544596712834, 'norm_gyr_min': 0.00031453379308632505, 'valid_dlt': 0.00024608166012852643, 'distance_change': 0.0001272000223630876, 'GYR_z_max': 0.00011885546173212705, 'GYR_y_median': 3.317255904169331e-05, 'GYR_x_kurtosis': 1.3372358900341233e-05}
importance feature add well
training set : all_train_set ; testing set : Bag; test order: 2
X_val  : (143960, 160)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.42
predict lgb
Time elapsed for testing lgb: 2.13
predict xgb
Time elapsed for testing xgb: 3.67
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : all_train_set ; testing set : Bag  testing result
tree_model.pred_mean
[[27440   430    95     0   105   210   616   944]
 [ 1408 23094     4   712    89    66   546   224]
 [    0  1740   878   156     0     0     0     0]
 [  456   963     0  4445  1699  4469     0     0]
 [  141    36     0     0 18368  1548   381     0]
 [    4    39     0    20  2760  6083   274     0]
 [  481    58     0   114   214   609 19432   902]
 [    0     4     0     0     0     0  2323 19380]]
              precision    recall  f1-score   support

       Still       0.92      0.92      0.92     29840
     Walking       0.88      0.88      0.88     26143
         Run       0.90      0.32      0.47      2774
        Bike       0.82      0.37      0.51     12032
         Car       0.79      0.90      0.84     20474
         Bus       0.47      0.66      0.55      9180
       Train       0.82      0.89      0.86     21810
      Subway       0.90      0.89      0.90     21707

    accuracy                           0.83    143960
   macro avg       0.81      0.73      0.74    143960
weighted avg       0.84      0.83      0.82    143960

test over
get importance point
single experiment feature importance :{'norm_acc_std_window_20_mean': 0.3770220295769508, 'latitude': 0.21022269514925965, 'speed_wd_max_log': 0.19919552864775641, 'norm_acc_cal_range': 0.17146953374938195, 'norm_acc_entropy': 0.12838370370778374, 'norm_mag_peak_frequency_window_20_mean': 0.11642509984155315, 'north': 0.10924777014575791, 'speed_square': 0.09457503100954055, 'norm_acc_energy': 0.06786712984368604, 'ACC_y_std_window_20_mean': 0.0632615462224691, 'MAG_y_cal_range': 0.05743309129620599, 'speed_log': 0.054796310762388445, 'norm_acc_std': 0.05380118420780515, 'speed_dif': 0.05009813364452539, 'MAG_x_std': 0.047755904245447865, 'east': 0.041967369209540535, 'ACC_y_entropy': 0.04022872032657356, 'longitude': 0.036329081256108425, 'norm_gyr_min_window_20_mean': 0.028100030200783246, 'number_window_20_mean': 0.026431063196144165, 'ACC_y_energy': 0.025261642086290267, 'gps_snr_mean_window_20_mean': 0.025218680436969336, 'GYR_z_entropy': 0.025124419038879922, 'longitude_window_20_mean': 0.02388726764063124, 'ACC_x_std': 0.023589281891531963, 'norm_acc_min': 0.023257435141910678, 'is_stop': 0.022732180129540938, 'number': 0.02251081930658553, 'ACC_y_peak_frequency': 0.022468244889436613, 'norm_gyr_median_window_20_mean': 0.022052520875034273, 'norm_mag_avg_frequency': 0.02182744315089128, 'norm_acc_peak_frequency': 0.02083072247645386, 'acc_wd_std': 0.020700930549726396, 'GYR_x_entropy': 0.01969495536371895, 'MAG_z_cal_range': 0.019331368509711105, 'ACC_z_std': 0.0191143351434385, 'ACC_y_std': 0.019012332696019586, 'norm_gyr_median': 0.01890646314768543, 'longitude_window_20_std': 0.01871354858990423, 'ACC_y_cal_range': 0.01859985585915601, 'norm_acc_max': 0.016645615423054875, 'ACC_z_median': 0.015462624410559137, 'acc_wd_max_log': 0.01490696280572686, 'norm_acc_mean': 0.014529182253180385, 'norm_gyr_entropy': 0.014464459644844342, 'ACC_z_mean': 0.013338380472653429, 'speed': 0.013218461019487497, 'accuracy': 0.012755614109475745, 'gps_snr_max': 0.012501413300758504, 'MAG_x_cal_range': 0.01249828972815146, 'GYR_z_std': 0.01187997268056573, 'distance': 0.01145529492212995, 'altitude': 0.011312960159008983, 'speed_wd_std': 0.010935814232804111, 'ACC_x_cal_range': 0.010834477549341148, 'ACC_y_max': 0.010613051008683934, 'GYR_z_avg_frequency': 0.010057106295174006, 'norm_mag_cal_range': 0.009997523606394054, 'GYR_y_peak_frequency': 0.009860976690707299, 'availability': 0.009857407767370062, 'norm_mag_median': 0.00935374681512336, 'GYR_z_peak_frequency': 0.008816395184343033, 'GYR_x_max': 0.008801529919233523, 'ACC_x_peak_frequency': 0.008736879680295127, 'norm_mag_min': 0.00870754180353586, 'norm_mag_energy': 0.007622650369345768, 'MAG_x_entropy': 0.007418910712676836, 'ACC_z_max': 0.007411073500958059, 'norm_mag_std': 0.00723375484626663, 'gps_snr_std': 0.007187528667249047, 'ACC_x_energy': 0.0069321264521716025, 'MAG_x_mean': 0.006830808964923383, 'GYR_y_std': 0.006706440237455873, 'MAG_x_energy': 0.006509750123132872, 'norm_mag_mean': 0.006343847896996303, 'norm_gyr_mean': 0.006286800805380027, 'ACC_y_avg_frequency': 0.006250773208090709, 'ACC_y_mean': 0.006219076412621384, 'ACC_x_entropy': 0.006215272519145554, 'east_dlt': 0.00605026283933877, 'norm_mag_max': 0.005992565114382023, 'gps_snr_mean': 0.005935044229439274, 'MAG_y_energy': 0.005753308172617174, 'ACC_x_avg_frequency': 0.005665284219202809, 'GYR_y_std_window_20_mean': 0.005630768360236962, 'ACC_z_energy': 0.005411027895444941, 'norm_gyr_avg_frequency': 0.005037609811915016, 'GYR_x_peak_frequency': 0.005033142077790471, 'north_speed': 0.005020297644748888, 'GYR_y_entropy': 0.0049198949786401595, 'ACC_z_peak_frequency': 0.00491672755362098, 'ACC_y_median': 0.004881857176978719, 'MAG_y_std': 0.004607112315073189, 'ACC_x_mean': 0.004564272187220714, 'ACC_x_max': 0.004437107231633262, 'ACC_z_cal_range': 0.004417468560665529, 'GYR_x_std': 0.004243524791827636, 'MAG_z_entropy': 0.004152257316129244, 'GYR_y_energy': 0.004138548679610139, 'MAG_z_avg_frequency': 0.003915808661309913, 'ACC_y_min': 0.0038622534764580973, 'norm_acc_kurtosis': 0.0037205429784163595, 'MAG_z_max': 0.0036389284312616167, 'MAG_z_std': 0.0034077306081458873, 'GYR_y_avg_frequency': 0.003384318363329068, 'norm_acc_avg_frequency': 0.003296248914476285, 'GYR_y_max': 0.003248557555217794, 'north_dlt': 0.0029816168984310694, 'ACC_x_median': 0.0028286699618301912, 'MAG_z_min': 0.002730764083999422, 'ACC_z_avg_frequency': 0.0026504924756905607, 'east_speed': 0.0026482244566188523, 'GYR_z_min': 0.0026364767036514717, 'MAG_x_max': 0.002610068183778063, 'gps_snr_min': 0.0025583844857632533, 'ACC_z_min': 0.002498144413111386, 'MAG_x_avg_frequency': 0.0024030794431859947, 'norm_mag_entropy': 0.00238172941248942, 'norm_gyr_energy': 0.0022751936999100067, 'norm_gyr_std': 0.002274075838256947, 'GYR_x_avg_frequency': 0.0021705152330156983, 'MAG_y_avg_frequency': 0.0021566161224511058, 'ACC_x_min': 0.002140128740761486, 'MAG_y_max': 0.002129951280087374, 'GYR_y_min': 0.002117633025170378, 'norm_gyr_cal_range': 0.002094698433391491, 'norm_acc_median': 0.0020304757830792676, 'MAG_z_median': 0.0019624397687971985, 'ACC_z_entropy': 0.0018706362576200106, 'ACC_z_kurtosis': 0.001801283169280729, 'GYR_z_cal_range': 0.0017826642058118543, 'norm_gyr_max': 0.0016205797419668552, 'MAG_x_min': 0.0014050827198970922, 'speed_dlt': 0.0013897268181279887, 'MAG_z_energy': 0.0012210806765211887, 'GYR_x_cal_range': 0.001130186801046723, 'GYR_z_energy': 0.0010755384532258792, 'GYR_x_min': 0.0010704645481086055, 'MAG_y_median': 0.0010284277329952456, 'MAG_y_entropy': 0.0009628459190601666, 'MAG_z_mean': 0.0009483363606046454, 'ACC_z_skewness': 0.0008791781639330854, 'norm_mag_peak_frequency': 0.0008454066665210145, 'GYR_x_energy': 0.0008235643661730351, 'GYR_z_kurtosis': 0.0007760894222330905, 'norm_acc_skewness': 0.0007398640192485188, 'norm_gyr_peak_frequency': 0.0006937398727620355, 'MAG_y_mean': 0.0006735480836154877, 'ACC_y_kurtosis': 0.0006193126261061904, 'acc': 0.0005358505459356331, 'MAG_y_min': 0.00046381612020474756, 'MAG_x_median': 0.0004149623587552625, 'time_dlt': 0.0003320861625076013, 'GYR_y_cal_range': 0.00032483544596712834, 'norm_gyr_min': 0.00031453379308632505, 'valid_dlt': 0.00024608166012852643, 'distance_change': 0.0001272000223630876, 'GYR_z_max': 0.00011885546173212705, 'GYR_y_median': 3.317255904169331e-05, 'GYR_x_kurtosis': 1.3372358900341233e-05}
importance feature add well
training set : all_train_set ; testing set : Hand; test order: 3
X_val  : (143960, 160)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.61
predict lgb
Time elapsed for testing lgb: 2.24
predict xgb
Time elapsed for testing xgb: 4.1
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : all_train_set ; testing set : Hand  testing result
tree_model.pred_mean
[[26388   748     0    37   220   301  1389   757]
 [ 1552 22845     5   925    30    47   390   349]
 [    0  1441  1331     2     0     0     0     0]
 [  446   218     0  9752   417   933   266     0]
 [  403    83     0   195 16813  2004   976     0]
 [   27    19     0    26  2245  6407   456     0]
 [  351   140     0     3   699   642 18946  1029]
 [    0    16     0     0     0     0     0 21691]]
              precision    recall  f1-score   support

       Still       0.90      0.88      0.89     29840
     Walking       0.90      0.87      0.88     26143
         Run       1.00      0.48      0.65      2774
        Bike       0.89      0.81      0.85     12032
         Car       0.82      0.82      0.82     20474
         Bus       0.62      0.70      0.66      9180
       Train       0.84      0.87      0.86     21810
      Subway       0.91      1.00      0.95     21707

    accuracy                           0.86    143960
   macro avg       0.86      0.80      0.82    143960
weighted avg       0.87      0.86      0.86    143960

test over
get importance point
single experiment feature importance :{'norm_acc_std_window_20_mean': 0.3770220295769508, 'latitude': 0.21022269514925965, 'speed_wd_max_log': 0.19919552864775641, 'norm_acc_cal_range': 0.17146953374938195, 'norm_acc_entropy': 0.12838370370778374, 'norm_mag_peak_frequency_window_20_mean': 0.11642509984155315, 'north': 0.10924777014575791, 'speed_square': 0.09457503100954055, 'norm_acc_energy': 0.06786712984368604, 'ACC_y_std_window_20_mean': 0.0632615462224691, 'MAG_y_cal_range': 0.05743309129620599, 'speed_log': 0.054796310762388445, 'norm_acc_std': 0.05380118420780515, 'speed_dif': 0.05009813364452539, 'MAG_x_std': 0.047755904245447865, 'east': 0.041967369209540535, 'ACC_y_entropy': 0.04022872032657356, 'longitude': 0.036329081256108425, 'norm_gyr_min_window_20_mean': 0.028100030200783246, 'number_window_20_mean': 0.026431063196144165, 'ACC_y_energy': 0.025261642086290267, 'gps_snr_mean_window_20_mean': 0.025218680436969336, 'GYR_z_entropy': 0.025124419038879922, 'longitude_window_20_mean': 0.02388726764063124, 'ACC_x_std': 0.023589281891531963, 'norm_acc_min': 0.023257435141910678, 'is_stop': 0.022732180129540938, 'number': 0.02251081930658553, 'ACC_y_peak_frequency': 0.022468244889436613, 'norm_gyr_median_window_20_mean': 0.022052520875034273, 'norm_mag_avg_frequency': 0.02182744315089128, 'norm_acc_peak_frequency': 0.02083072247645386, 'acc_wd_std': 0.020700930549726396, 'GYR_x_entropy': 0.01969495536371895, 'MAG_z_cal_range': 0.019331368509711105, 'ACC_z_std': 0.0191143351434385, 'ACC_y_std': 0.019012332696019586, 'norm_gyr_median': 0.01890646314768543, 'longitude_window_20_std': 0.01871354858990423, 'ACC_y_cal_range': 0.01859985585915601, 'norm_acc_max': 0.016645615423054875, 'ACC_z_median': 0.015462624410559137, 'acc_wd_max_log': 0.01490696280572686, 'norm_acc_mean': 0.014529182253180385, 'norm_gyr_entropy': 0.014464459644844342, 'ACC_z_mean': 0.013338380472653429, 'speed': 0.013218461019487497, 'accuracy': 0.012755614109475745, 'gps_snr_max': 0.012501413300758504, 'MAG_x_cal_range': 0.01249828972815146, 'GYR_z_std': 0.01187997268056573, 'distance': 0.01145529492212995, 'altitude': 0.011312960159008983, 'speed_wd_std': 0.010935814232804111, 'ACC_x_cal_range': 0.010834477549341148, 'ACC_y_max': 0.010613051008683934, 'GYR_z_avg_frequency': 0.010057106295174006, 'norm_mag_cal_range': 0.009997523606394054, 'GYR_y_peak_frequency': 0.009860976690707299, 'availability': 0.009857407767370062, 'norm_mag_median': 0.00935374681512336, 'GYR_z_peak_frequency': 0.008816395184343033, 'GYR_x_max': 0.008801529919233523, 'ACC_x_peak_frequency': 0.008736879680295127, 'norm_mag_min': 0.00870754180353586, 'norm_mag_energy': 0.007622650369345768, 'MAG_x_entropy': 0.007418910712676836, 'ACC_z_max': 0.007411073500958059, 'norm_mag_std': 0.00723375484626663, 'gps_snr_std': 0.007187528667249047, 'ACC_x_energy': 0.0069321264521716025, 'MAG_x_mean': 0.006830808964923383, 'GYR_y_std': 0.006706440237455873, 'MAG_x_energy': 0.006509750123132872, 'norm_mag_mean': 0.006343847896996303, 'norm_gyr_mean': 0.006286800805380027, 'ACC_y_avg_frequency': 0.006250773208090709, 'ACC_y_mean': 0.006219076412621384, 'ACC_x_entropy': 0.006215272519145554, 'east_dlt': 0.00605026283933877, 'norm_mag_max': 0.005992565114382023, 'gps_snr_mean': 0.005935044229439274, 'MAG_y_energy': 0.005753308172617174, 'ACC_x_avg_frequency': 0.005665284219202809, 'GYR_y_std_window_20_mean': 0.005630768360236962, 'ACC_z_energy': 0.005411027895444941, 'norm_gyr_avg_frequency': 0.005037609811915016, 'GYR_x_peak_frequency': 0.005033142077790471, 'north_speed': 0.005020297644748888, 'GYR_y_entropy': 0.0049198949786401595, 'ACC_z_peak_frequency': 0.00491672755362098, 'ACC_y_median': 0.004881857176978719, 'MAG_y_std': 0.004607112315073189, 'ACC_x_mean': 0.004564272187220714, 'ACC_x_max': 0.004437107231633262, 'ACC_z_cal_range': 0.004417468560665529, 'GYR_x_std': 0.004243524791827636, 'MAG_z_entropy': 0.004152257316129244, 'GYR_y_energy': 0.004138548679610139, 'MAG_z_avg_frequency': 0.003915808661309913, 'ACC_y_min': 0.0038622534764580973, 'norm_acc_kurtosis': 0.0037205429784163595, 'MAG_z_max': 0.0036389284312616167, 'MAG_z_std': 0.0034077306081458873, 'GYR_y_avg_frequency': 0.003384318363329068, 'norm_acc_avg_frequency': 0.003296248914476285, 'GYR_y_max': 0.003248557555217794, 'north_dlt': 0.0029816168984310694, 'ACC_x_median': 0.0028286699618301912, 'MAG_z_min': 0.002730764083999422, 'ACC_z_avg_frequency': 0.0026504924756905607, 'east_speed': 0.0026482244566188523, 'GYR_z_min': 0.0026364767036514717, 'MAG_x_max': 0.002610068183778063, 'gps_snr_min': 0.0025583844857632533, 'ACC_z_min': 0.002498144413111386, 'MAG_x_avg_frequency': 0.0024030794431859947, 'norm_mag_entropy': 0.00238172941248942, 'norm_gyr_energy': 0.0022751936999100067, 'norm_gyr_std': 0.002274075838256947, 'GYR_x_avg_frequency': 0.0021705152330156983, 'MAG_y_avg_frequency': 0.0021566161224511058, 'ACC_x_min': 0.002140128740761486, 'MAG_y_max': 0.002129951280087374, 'GYR_y_min': 0.002117633025170378, 'norm_gyr_cal_range': 0.002094698433391491, 'norm_acc_median': 0.0020304757830792676, 'MAG_z_median': 0.0019624397687971985, 'ACC_z_entropy': 0.0018706362576200106, 'ACC_z_kurtosis': 0.001801283169280729, 'GYR_z_cal_range': 0.0017826642058118543, 'norm_gyr_max': 0.0016205797419668552, 'MAG_x_min': 0.0014050827198970922, 'speed_dlt': 0.0013897268181279887, 'MAG_z_energy': 0.0012210806765211887, 'GYR_x_cal_range': 0.001130186801046723, 'GYR_z_energy': 0.0010755384532258792, 'GYR_x_min': 0.0010704645481086055, 'MAG_y_median': 0.0010284277329952456, 'MAG_y_entropy': 0.0009628459190601666, 'MAG_z_mean': 0.0009483363606046454, 'ACC_z_skewness': 0.0008791781639330854, 'norm_mag_peak_frequency': 0.0008454066665210145, 'GYR_x_energy': 0.0008235643661730351, 'GYR_z_kurtosis': 0.0007760894222330905, 'norm_acc_skewness': 0.0007398640192485188, 'norm_gyr_peak_frequency': 0.0006937398727620355, 'MAG_y_mean': 0.0006735480836154877, 'ACC_y_kurtosis': 0.0006193126261061904, 'acc': 0.0005358505459356331, 'MAG_y_min': 0.00046381612020474756, 'MAG_x_median': 0.0004149623587552625, 'time_dlt': 0.0003320861625076013, 'GYR_y_cal_range': 0.00032483544596712834, 'norm_gyr_min': 0.00031453379308632505, 'valid_dlt': 0.00024608166012852643, 'distance_change': 0.0001272000223630876, 'GYR_z_max': 0.00011885546173212705, 'GYR_y_median': 3.317255904169331e-05, 'GYR_x_kurtosis': 1.3372358900341233e-05}
importance feature add well
training set : all_train_set ; testing set : Hips; test order: 4
X_val  : (143960, 160)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.56
predict lgb
Time elapsed for testing lgb: 2.04
predict xgb
Time elapsed for testing xgb: 3.51
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : all_train_set ; testing set : Hips  testing result
tree_model.pred_mean
[[24606   577     0   554   112   319  3566   106]
 [  821 23552     0   796     9     5   676   284]
 [    0  1873   729   172     0     0     0     0]
 [  531  2925     0  8386     0   190     0     0]
 [  275    60     0     0  9846  2638  7655     0]
 [  209    59     0     0  2038  6253   621     0]
 [  521    87     0    23   592   946 18797   844]
 [    0     0     0     0     0     0 11099 10608]]
              precision    recall  f1-score   support

       Still       0.91      0.82      0.87     29840
     Walking       0.81      0.90      0.85     26143
         Run       1.00      0.26      0.42      2774
        Bike       0.84      0.70      0.76     12032
         Car       0.78      0.48      0.60     20474
         Bus       0.60      0.68      0.64      9180
       Train       0.44      0.86      0.59     21810
      Subway       0.90      0.49      0.63     21707

    accuracy                           0.71    143960
   macro avg       0.79      0.65      0.67    143960
weighted avg       0.78      0.71      0.72    143960

test over
get importance point
single experiment feature importance :{'norm_acc_std_window_20_mean': 0.3770220295769508, 'latitude': 0.21022269514925965, 'speed_wd_max_log': 0.19919552864775641, 'norm_acc_cal_range': 0.17146953374938195, 'norm_acc_entropy': 0.12838370370778374, 'norm_mag_peak_frequency_window_20_mean': 0.11642509984155315, 'north': 0.10924777014575791, 'speed_square': 0.09457503100954055, 'norm_acc_energy': 0.06786712984368604, 'ACC_y_std_window_20_mean': 0.0632615462224691, 'MAG_y_cal_range': 0.05743309129620599, 'speed_log': 0.054796310762388445, 'norm_acc_std': 0.05380118420780515, 'speed_dif': 0.05009813364452539, 'MAG_x_std': 0.047755904245447865, 'east': 0.041967369209540535, 'ACC_y_entropy': 0.04022872032657356, 'longitude': 0.036329081256108425, 'norm_gyr_min_window_20_mean': 0.028100030200783246, 'number_window_20_mean': 0.026431063196144165, 'ACC_y_energy': 0.025261642086290267, 'gps_snr_mean_window_20_mean': 0.025218680436969336, 'GYR_z_entropy': 0.025124419038879922, 'longitude_window_20_mean': 0.02388726764063124, 'ACC_x_std': 0.023589281891531963, 'norm_acc_min': 0.023257435141910678, 'is_stop': 0.022732180129540938, 'number': 0.02251081930658553, 'ACC_y_peak_frequency': 0.022468244889436613, 'norm_gyr_median_window_20_mean': 0.022052520875034273, 'norm_mag_avg_frequency': 0.02182744315089128, 'norm_acc_peak_frequency': 0.02083072247645386, 'acc_wd_std': 0.020700930549726396, 'GYR_x_entropy': 0.01969495536371895, 'MAG_z_cal_range': 0.019331368509711105, 'ACC_z_std': 0.0191143351434385, 'ACC_y_std': 0.019012332696019586, 'norm_gyr_median': 0.01890646314768543, 'longitude_window_20_std': 0.01871354858990423, 'ACC_y_cal_range': 0.01859985585915601, 'norm_acc_max': 0.016645615423054875, 'ACC_z_median': 0.015462624410559137, 'acc_wd_max_log': 0.01490696280572686, 'norm_acc_mean': 0.014529182253180385, 'norm_gyr_entropy': 0.014464459644844342, 'ACC_z_mean': 0.013338380472653429, 'speed': 0.013218461019487497, 'accuracy': 0.012755614109475745, 'gps_snr_max': 0.012501413300758504, 'MAG_x_cal_range': 0.01249828972815146, 'GYR_z_std': 0.01187997268056573, 'distance': 0.01145529492212995, 'altitude': 0.011312960159008983, 'speed_wd_std': 0.010935814232804111, 'ACC_x_cal_range': 0.010834477549341148, 'ACC_y_max': 0.010613051008683934, 'GYR_z_avg_frequency': 0.010057106295174006, 'norm_mag_cal_range': 0.009997523606394054, 'GYR_y_peak_frequency': 0.009860976690707299, 'availability': 0.009857407767370062, 'norm_mag_median': 0.00935374681512336, 'GYR_z_peak_frequency': 0.008816395184343033, 'GYR_x_max': 0.008801529919233523, 'ACC_x_peak_frequency': 0.008736879680295127, 'norm_mag_min': 0.00870754180353586, 'norm_mag_energy': 0.007622650369345768, 'MAG_x_entropy': 0.007418910712676836, 'ACC_z_max': 0.007411073500958059, 'norm_mag_std': 0.00723375484626663, 'gps_snr_std': 0.007187528667249047, 'ACC_x_energy': 0.0069321264521716025, 'MAG_x_mean': 0.006830808964923383, 'GYR_y_std': 0.006706440237455873, 'MAG_x_energy': 0.006509750123132872, 'norm_mag_mean': 0.006343847896996303, 'norm_gyr_mean': 0.006286800805380027, 'ACC_y_avg_frequency': 0.006250773208090709, 'ACC_y_mean': 0.006219076412621384, 'ACC_x_entropy': 0.006215272519145554, 'east_dlt': 0.00605026283933877, 'norm_mag_max': 0.005992565114382023, 'gps_snr_mean': 0.005935044229439274, 'MAG_y_energy': 0.005753308172617174, 'ACC_x_avg_frequency': 0.005665284219202809, 'GYR_y_std_window_20_mean': 0.005630768360236962, 'ACC_z_energy': 0.005411027895444941, 'norm_gyr_avg_frequency': 0.005037609811915016, 'GYR_x_peak_frequency': 0.005033142077790471, 'north_speed': 0.005020297644748888, 'GYR_y_entropy': 0.0049198949786401595, 'ACC_z_peak_frequency': 0.00491672755362098, 'ACC_y_median': 0.004881857176978719, 'MAG_y_std': 0.004607112315073189, 'ACC_x_mean': 0.004564272187220714, 'ACC_x_max': 0.004437107231633262, 'ACC_z_cal_range': 0.004417468560665529, 'GYR_x_std': 0.004243524791827636, 'MAG_z_entropy': 0.004152257316129244, 'GYR_y_energy': 0.004138548679610139, 'MAG_z_avg_frequency': 0.003915808661309913, 'ACC_y_min': 0.0038622534764580973, 'norm_acc_kurtosis': 0.0037205429784163595, 'MAG_z_max': 0.0036389284312616167, 'MAG_z_std': 0.0034077306081458873, 'GYR_y_avg_frequency': 0.003384318363329068, 'norm_acc_avg_frequency': 0.003296248914476285, 'GYR_y_max': 0.003248557555217794, 'north_dlt': 0.0029816168984310694, 'ACC_x_median': 0.0028286699618301912, 'MAG_z_min': 0.002730764083999422, 'ACC_z_avg_frequency': 0.0026504924756905607, 'east_speed': 0.0026482244566188523, 'GYR_z_min': 0.0026364767036514717, 'MAG_x_max': 0.002610068183778063, 'gps_snr_min': 0.0025583844857632533, 'ACC_z_min': 0.002498144413111386, 'MAG_x_avg_frequency': 0.0024030794431859947, 'norm_mag_entropy': 0.00238172941248942, 'norm_gyr_energy': 0.0022751936999100067, 'norm_gyr_std': 0.002274075838256947, 'GYR_x_avg_frequency': 0.0021705152330156983, 'MAG_y_avg_frequency': 0.0021566161224511058, 'ACC_x_min': 0.002140128740761486, 'MAG_y_max': 0.002129951280087374, 'GYR_y_min': 0.002117633025170378, 'norm_gyr_cal_range': 0.002094698433391491, 'norm_acc_median': 0.0020304757830792676, 'MAG_z_median': 0.0019624397687971985, 'ACC_z_entropy': 0.0018706362576200106, 'ACC_z_kurtosis': 0.001801283169280729, 'GYR_z_cal_range': 0.0017826642058118543, 'norm_gyr_max': 0.0016205797419668552, 'MAG_x_min': 0.0014050827198970922, 'speed_dlt': 0.0013897268181279887, 'MAG_z_energy': 0.0012210806765211887, 'GYR_x_cal_range': 0.001130186801046723, 'GYR_z_energy': 0.0010755384532258792, 'GYR_x_min': 0.0010704645481086055, 'MAG_y_median': 0.0010284277329952456, 'MAG_y_entropy': 0.0009628459190601666, 'MAG_z_mean': 0.0009483363606046454, 'ACC_z_skewness': 0.0008791781639330854, 'norm_mag_peak_frequency': 0.0008454066665210145, 'GYR_x_energy': 0.0008235643661730351, 'GYR_z_kurtosis': 0.0007760894222330905, 'norm_acc_skewness': 0.0007398640192485188, 'norm_gyr_peak_frequency': 0.0006937398727620355, 'MAG_y_mean': 0.0006735480836154877, 'ACC_y_kurtosis': 0.0006193126261061904, 'acc': 0.0005358505459356331, 'MAG_y_min': 0.00046381612020474756, 'MAG_x_median': 0.0004149623587552625, 'time_dlt': 0.0003320861625076013, 'GYR_y_cal_range': 0.00032483544596712834, 'norm_gyr_min': 0.00031453379308632505, 'valid_dlt': 0.00024608166012852643, 'distance_change': 0.0001272000223630876, 'GYR_z_max': 0.00011885546173212705, 'GYR_y_median': 3.317255904169331e-05, 'GYR_x_kurtosis': 1.3372358900341233e-05}
importance feature add well
Obtain the overall feature importance score
1 feature_importance save well
training set:Hips,the 0th training set
begin training
X_train: (1050526, 160)
y_train: 1050526
Training rf...
Time elapsed for training rf: 374.19
Training LightGBM...
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Warning] Auto-choosing row-wise multi-threading, the overhead of testing was 0.572489 seconds.
You can set `force_row_wise=true` to remove the overhead.
And if memory is not enough, you can set `force_col_wise=true`.
[LightGBM] [Info] Total Bins 37573
[LightGBM] [Info] Number of data points in the train set: 840420, number of used features: 160
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Info] Start training from score -2.149322
[LightGBM] [Info] Start training from score -2.145532
[LightGBM] [Info] Start training from score -2.234537
[LightGBM] [Info] Start training from score -2.191065
[LightGBM] [Info] Start training from score -1.892806
[LightGBM] [Info] Start training from score -2.002936
[LightGBM] [Info] Start training from score -1.907045
[LightGBM] [Info] Start training from score -2.176075
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[1]	valid_0's multi_logloss: 1.54262
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[2]	valid_0's multi_logloss: 1.25452
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[3]	valid_0's multi_logloss: 1.05473
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[4]	valid_0's multi_logloss: 0.903006
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[5]	valid_0's multi_logloss: 0.783144
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[6]	valid_0's multi_logloss: 0.684372
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[7]	valid_0's multi_logloss: 0.601038
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[8]	valid_0's multi_logloss: 0.534135
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[9]	valid_0's multi_logloss: 0.477007
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[10]	valid_0's multi_logloss: 0.428132
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[11]	valid_0's multi_logloss: 0.386115
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[12]	valid_0's multi_logloss: 0.349562
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[13]	valid_0's multi_logloss: 0.318547
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[14]	valid_0's multi_logloss: 0.292414
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[15]	valid_0's multi_logloss: 0.269788
[16]	valid_0's multi_logloss: 0.249527
[17]	valid_0's multi_logloss: 0.231075
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[18]	valid_0's multi_logloss: 0.214151
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[19]	valid_0's multi_logloss: 0.199378
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[20]	valid_0's multi_logloss: 0.187034
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[21]	valid_0's multi_logloss: 0.175844
[22]	valid_0's multi_logloss: 0.165371
[23]	valid_0's multi_logloss: 0.155357
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[24]	valid_0's multi_logloss: 0.146453
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[25]	valid_0's multi_logloss: 0.13854
[26]	valid_0's multi_logloss: 0.130756
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[27]	valid_0's multi_logloss: 0.12449
[28]	valid_0's multi_logloss: 0.117234
[29]	valid_0's multi_logloss: 0.111435
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[30]	valid_0's multi_logloss: 0.106603
[31]	valid_0's multi_logloss: 0.101376
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[32]	valid_0's multi_logloss: 0.0969072
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[33]	valid_0's multi_logloss: 0.09266
[34]	valid_0's multi_logloss: 0.0878496
[35]	valid_0's multi_logloss: 0.0843727
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[36]	valid_0's multi_logloss: 0.0810757
[37]	valid_0's multi_logloss: 0.0780382
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[38]	valid_0's multi_logloss: 0.0750963
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[39]	valid_0's multi_logloss: 0.0724656
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[40]	valid_0's multi_logloss: 0.0698886
[41]	valid_0's multi_logloss: 0.0673685
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[42]	valid_0's multi_logloss: 0.0651521
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[43]	valid_0's multi_logloss: 0.0633502
[44]	valid_0's multi_logloss: 0.0612539
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[45]	valid_0's multi_logloss: 0.059153
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[46]	valid_0's multi_logloss: 0.0571803
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[47]	valid_0's multi_logloss: 0.0557632
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[48]	valid_0's multi_logloss: 0.0541
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[49]	valid_0's multi_logloss: 0.0523097
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[50]	valid_0's multi_logloss: 0.0506925
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[51]	valid_0's multi_logloss: 0.0491022
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[52]	valid_0's multi_logloss: 0.0478635
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[53]	valid_0's multi_logloss: 0.0464993
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[54]	valid_0's multi_logloss: 0.0450943
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[55]	valid_0's multi_logloss: 0.0439875
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[56]	valid_0's multi_logloss: 0.0428294
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[57]	valid_0's multi_logloss: 0.0417752
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[58]	valid_0's multi_logloss: 0.040824
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[59]	valid_0's multi_logloss: 0.0397583
[60]	valid_0's multi_logloss: 0.0387238
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[61]	valid_0's multi_logloss: 0.0376569
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[62]	valid_0's multi_logloss: 0.0365784
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[63]	valid_0's multi_logloss: 0.0358892
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[64]	valid_0's multi_logloss: 0.0350469
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[65]	valid_0's multi_logloss: 0.0339764
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[66]	valid_0's multi_logloss: 0.033001
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[67]	valid_0's multi_logloss: 0.0322918
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[68]	valid_0's multi_logloss: 0.0316647
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[69]	valid_0's multi_logloss: 0.0309793
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[70]	valid_0's multi_logloss: 0.030282
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[71]	valid_0's multi_logloss: 0.02947
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[72]	valid_0's multi_logloss: 0.0285158
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[73]	valid_0's multi_logloss: 0.0278438
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[74]	valid_0's multi_logloss: 0.0272398
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[75]	valid_0's multi_logloss: 0.0266028
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[76]	valid_0's multi_logloss: 0.0259848
[77]	valid_0's multi_logloss: 0.0253409
[78]	valid_0's multi_logloss: 0.0246284
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[79]	valid_0's multi_logloss: 0.0241227
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[80]	valid_0's multi_logloss: 0.0236459
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[81]	valid_0's multi_logloss: 0.0231064
[82]	valid_0's multi_logloss: 0.022467
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[83]	valid_0's multi_logloss: 0.0220013
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[84]	valid_0's multi_logloss: 0.021533
[85]	valid_0's multi_logloss: 0.020955
[86]	valid_0's multi_logloss: 0.0205546
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[87]	valid_0's multi_logloss: 0.020066
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[88]	valid_0's multi_logloss: 0.0197146
[89]	valid_0's multi_logloss: 0.0193209
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[90]	valid_0's multi_logloss: 0.018999
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[91]	valid_0's multi_logloss: 0.0186772
[92]	valid_0's multi_logloss: 0.018313
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[93]	valid_0's multi_logloss: 0.0178907
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[94]	valid_0's multi_logloss: 0.0176149
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[95]	valid_0's multi_logloss: 0.0172809
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[96]	valid_0's multi_logloss: 0.0168825
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[97]	valid_0's multi_logloss: 0.0166057
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[98]	valid_0's multi_logloss: 0.0162234
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[99]	valid_0's multi_logloss: 0.0158973
[100]	valid_0's multi_logloss: 0.0156221
Time elapsed for training LightGBM: 2329.06
Training XGBoost...
Time elapsed for training XGBoost: 1075.18
begin testing
training set : Hips ; testing set : Torso; test order: 0
X_val  : (143960, 160)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.59
predict lgb
Time elapsed for testing lgb: 2.21
predict xgb
Time elapsed for testing xgb: 3.98
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Hips ; testing set : Torso  testing result
tree_model.pred_mean
[[21511     0     0    97   521  1611  5676   424]
 [ 2317  3103     0 13631    73   479  4826  1714]
 [    0   338   426  2010     0     0     0     0]
 [  173     0     0  8110   645  1634  1470     0]
 [  308     0     0    19 18604  1092   451     0]
 [  320     0     0    59   103  6731  1967     0]
 [ 1642     0     0     0     0  2095 17003  1070]
 [    0     0     0     0     0     0 11099 10608]]
              precision    recall  f1-score   support

       Still       0.82      0.72      0.77     29840
     Walking       0.90      0.12      0.21     26143
         Run       1.00      0.15      0.27      2774
        Bike       0.34      0.67      0.45     12032
         Car       0.93      0.91      0.92     20474
         Bus       0.49      0.73      0.59      9180
       Train       0.40      0.78      0.53     21810
      Subway       0.77      0.49      0.60     21707

    accuracy                           0.60    143960
   macro avg       0.71      0.57      0.54    143960
weighted avg       0.72      0.60      0.58    143960

test over
get importance point
single experiment feature importance :{'ACC_y_std_window_20_mean': 0.2677032268403449, 'latitude': 0.18239607671953184, 'ACC_y_entropy': 0.17214328920311053, 'speed_wd_max_log': 0.16085301125021645, 'norm_acc_std_window_20_mean': 0.14636609981927087, 'GYR_y_std_window_20_mean': 0.12905032277820383, 'norm_acc_energy': 0.10851587813452003, 'norm_mag_peak_frequency_window_20_mean': 0.10121702925321432, 'north': 0.0980606424660686, 'ACC_z_cal_range': 0.07288937364675284, 'MAG_z_cal_range': 0.06638990656671051, 'norm_acc_entropy': 0.06104360464633679, 'speed_square': 0.05898805006740964, 'GYR_x_peak_frequency': 0.04526209079034773, 'norm_acc_std': 0.04433741212079469, 'GYR_x_entropy': 0.042982446540014985, 'ACC_y_min': 0.04186514373817335, 'norm_gyr_median_window_20_mean': 0.041662062904016535, 'MAG_y_cal_range': 0.03749192343219155, 'ACC_y_std': 0.03595282193097413, 'norm_acc_mean': 0.03498476620857414, 'speed_log': 0.03419225316597439, 'ACC_z_mean': 0.03346796980673538, 'ACC_y_mean': 0.03233238392197137, 'east': 0.03171336301102316, 'GYR_z_cal_range': 0.03138116063916564, 'ACC_y_cal_range': 0.031322616248798785, 'GYR_y_entropy': 0.028734954331386967, 'longitude': 0.02746676812855441, 'ACC_y_energy': 0.026657968747609565, 'speed_dif': 0.024822898909040207, 'number_window_20_mean': 0.021781289785061317, 'ACC_y_median': 0.019200573670914968, 'longitude_window_20_mean': 0.018704824286770845, 'norm_mag_std': 0.01841216125517156, 'norm_gyr_peak_frequency': 0.017994190259457758, 'ACC_y_max': 0.017906746856588437, 'gps_snr_mean_window_20_mean': 0.01692555090333445, 'number': 0.016433895199763904, 'ACC_x_peak_frequency': 0.015359808509353744, 'norm_mag_cal_range': 0.01504208917771517, 'GYR_z_min': 0.01451588578433776, 'ACC_x_std': 0.013950831896586885, 'distance': 0.013843611880980355, 'MAG_y_energy': 0.013820570002028574, 'longitude_window_20_std': 0.013691473139609008, 'altitude': 0.013683643572833939, 'norm_acc_min': 0.012701586158569032, 'ACC_x_cal_range': 0.012498184976332398, 'speed': 0.012222957103189344, 'MAG_z_entropy': 0.011991814728549571, 'norm_gyr_min_window_20_mean': 0.011130506957497037, 'ACC_y_peak_frequency': 0.011088814326871813, 'ACC_z_median': 0.010879717913114798, 'GYR_z_std': 0.010778880132597793, 'GYR_y_max': 0.010617564868214836, 'GYR_z_entropy': 0.01014185352596239, 'ACC_x_entropy': 0.009917176274820687, 'gps_snr_max': 0.009480635187870356, 'ACC_z_std': 0.0089101369821907, 'GYR_z_max': 0.008845650189534902, 'norm_gyr_max': 0.00878210806423132, 'norm_gyr_std': 0.008738741915218725, 'acc_wd_max_log': 0.008492567852963066, 'norm_mag_avg_frequency': 0.008376681181675375, 'north_speed': 0.00813790986751719, 'MAG_z_std': 0.007926251601623696, 'norm_mag_max': 0.007831904141390022, 'ACC_z_max': 0.007243483750765615, 'norm_gyr_entropy': 0.007060702966172119, 'norm_mag_entropy': 0.006910705267527584, 'norm_gyr_cal_range': 0.0063984398794004445, 'ACC_x_energy': 0.0063772599835626095, 'is_stop': 0.006259737335275654, 'speed_wd_std': 0.006173869785617169, 'north_dlt': 0.006107143997795945, 'GYR_x_avg_frequency': 0.00608676874294344, 'ACC_z_min': 0.006058978751112152, 'norm_acc_cal_range': 0.005990128136107842, 'gps_snr_std': 0.005971200880098839, 'GYR_y_peak_frequency': 0.005965276838112996, 'accuracy': 0.005884222101531007, 'ACC_x_max': 0.0057289206358735, 'norm_gyr_avg_frequency': 0.005596275336200875, 'GYR_z_peak_frequency': 0.00504490023724153, 'GYR_y_avg_frequency': 0.004797270071654728, 'norm_mag_min': 0.004746447040041452, 'acc_wd_std': 0.004735645996203695, 'gps_snr_mean': 0.0046967921636375635, 'norm_mag_median': 0.004643338942857343, 'MAG_z_avg_frequency': 0.004250134285278996, 'GYR_y_cal_range': 0.004192781435160231, 'MAG_x_std': 0.004140171113822222, 'GYR_z_avg_frequency': 0.0041132965940394815, 'MAG_y_min': 0.004105178771247952, 'norm_mag_mean': 0.003992048719244862, 'norm_mag_energy': 0.0039506165990051125, 'MAG_z_max': 0.003947140698442179, 'speed_dlt': 0.003942147069420348, 'ACC_z_peak_frequency': 0.003829613966541288, 'ACC_y_avg_frequency': 0.003784736876945466, 'norm_gyr_median': 0.0037268131340773654, 'MAG_y_max': 0.0037078326080598823, 'east_dlt': 0.003706436775449154, 'availability': 0.0035994149747315945, 'norm_acc_skewness': 0.003595434876248916, 'norm_gyr_mean': 0.0035601782158954823, 'ACC_x_avg_frequency': 0.003536449080513658, 'MAG_y_median': 0.003499694720712475, 'GYR_x_std': 0.003423536303233544, 'MAG_x_energy': 0.003369042824647092, 'MAG_x_min': 0.0033200337511352443, 'MAG_y_mean': 0.0032831759845715165, 'ACC_x_mean': 0.003210216081715963, 'MAG_y_avg_frequency': 0.0031697383375841152, 'MAG_x_max': 0.003162215417445179, 'GYR_z_energy': 0.002903177299181927, 'ACC_x_min': 0.0026810305441841396, 'MAG_z_min': 0.00264905702320616, 'GYR_y_std': 0.0025985323202787638, 'GYR_y_min': 0.0025621429354210547, 'norm_acc_peak_frequency': 0.00249478059854245, 'norm_acc_avg_frequency': 0.0024587764474680663, 'MAG_x_entropy': 0.0023698892730199717, 'ACC_x_median': 0.0022548115179609612, 'MAG_y_std': 0.002231767721251092, 'MAG_x_median': 0.0021638478472642587, 'GYR_y_energy': 0.0020229148670699985, 'MAG_x_cal_range': 0.001882859432291546, 'norm_acc_max': 0.0018313153516538734, 'MAG_z_mean': 0.0018193772375559034, 'east_speed': 0.001782097915318917, 'MAG_z_energy': 0.0017122921186665996, 'norm_acc_kurtosis': 0.001694456679312487, 'GYR_x_cal_range': 0.0014284220563131845, 'MAG_z_median': 0.0013050810681348103, 'MAG_x_mean': 0.001163082661493585, 'ACC_y_kurtosis': 0.0010822072955908395, 'MAG_y_entropy': 0.0010381755628143397, 'norm_acc_median': 0.0010359124480842652, 'acc': 0.0008473730969207661, 'ACC_z_energy': 0.0005825260894091973, 'GYR_x_energy': 0.0005417553094955752, 'ACC_z_avg_frequency': 0.0003897006282647265, 'GYR_x_max': 0.00032070827697828065, 'GYR_z_kurtosis': 0.0003043734920316148, 'gps_snr_min': 0.00030425283351636213, 'ACC_z_entropy': 0.00028150398248549157, 'time_dlt': 0.0002770966337819451, 'norm_mag_peak_frequency': 0.0002284696603094394, 'norm_gyr_energy': 0.00020164355774719957, 'ACC_z_kurtosis': 0.0001961974046633563, 'valid_dlt': 0.00019500844234986316, 'norm_gyr_min': 0.00015093926788715148, 'MAG_x_avg_frequency': 0.00010372852384158332, 'GYR_x_min': 9.818900787767503e-05, 'ACC_z_skewness': 8.512963753946011e-05, 'GYR_x_kurtosis': 6.169478757353141e-05, 'distance_change': 4.731547814288239e-05, 'GYR_y_median': 1.4506749096666488e-05}
importance feature add well
training set : Hips ; testing set : Bag; test order: 1
X_val  : (143960, 160)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.47
predict lgb
Time elapsed for testing lgb: 2.16
predict xgb
Time elapsed for testing xgb: 3.92
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Hips ; testing set : Bag  testing result
tree_model.pred_mean
[[25326    15     0   149     6   613  2600  1131]
 [ 2364   958     0 17722    56  1586  1752  1705]
 [    0  1289     0  1485     0     0     0     0]
 [  492     0     0  5656   580  5089   215     0]
 [  133     0     0    32 14794  5183   332     0]
 [   42     0     0   546  2798  5445   349     0]
 [  370     0     0   126   169  1152 18924  1069]
 [    0     0     0     0     0     0  2331 19376]]
/home/jnli/.conda/envs/zhaoyayart/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1318: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
/home/jnli/.conda/envs/zhaoyayart/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1318: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
/home/jnli/.conda/envs/zhaoyayart/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1318: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
              precision    recall  f1-score   support

       Still       0.88      0.85      0.86     29840
     Walking       0.42      0.04      0.07     26143
         Run       0.00      0.00      0.00      2774
        Bike       0.22      0.47      0.30     12032
         Car       0.80      0.72      0.76     20474
         Bus       0.29      0.59      0.39      9180
       Train       0.71      0.87      0.78     21810
      Subway       0.83      0.89      0.86     21707

    accuracy                           0.63    143960
   macro avg       0.52      0.55      0.50    143960
weighted avg       0.64      0.63      0.60    143960

test over
get importance point
single experiment feature importance :{'ACC_y_std_window_20_mean': 0.2677032268403449, 'latitude': 0.18239607671953184, 'ACC_y_entropy': 0.17214328920311053, 'speed_wd_max_log': 0.16085301125021645, 'norm_acc_std_window_20_mean': 0.14636609981927087, 'GYR_y_std_window_20_mean': 0.12905032277820383, 'norm_acc_energy': 0.10851587813452003, 'norm_mag_peak_frequency_window_20_mean': 0.10121702925321432, 'north': 0.0980606424660686, 'ACC_z_cal_range': 0.07288937364675284, 'MAG_z_cal_range': 0.06638990656671051, 'norm_acc_entropy': 0.06104360464633679, 'speed_square': 0.05898805006740964, 'GYR_x_peak_frequency': 0.04526209079034773, 'norm_acc_std': 0.04433741212079469, 'GYR_x_entropy': 0.042982446540014985, 'ACC_y_min': 0.04186514373817335, 'norm_gyr_median_window_20_mean': 0.041662062904016535, 'MAG_y_cal_range': 0.03749192343219155, 'ACC_y_std': 0.03595282193097413, 'norm_acc_mean': 0.03498476620857414, 'speed_log': 0.03419225316597439, 'ACC_z_mean': 0.03346796980673538, 'ACC_y_mean': 0.03233238392197137, 'east': 0.03171336301102316, 'GYR_z_cal_range': 0.03138116063916564, 'ACC_y_cal_range': 0.031322616248798785, 'GYR_y_entropy': 0.028734954331386967, 'longitude': 0.02746676812855441, 'ACC_y_energy': 0.026657968747609565, 'speed_dif': 0.024822898909040207, 'number_window_20_mean': 0.021781289785061317, 'ACC_y_median': 0.019200573670914968, 'longitude_window_20_mean': 0.018704824286770845, 'norm_mag_std': 0.01841216125517156, 'norm_gyr_peak_frequency': 0.017994190259457758, 'ACC_y_max': 0.017906746856588437, 'gps_snr_mean_window_20_mean': 0.01692555090333445, 'number': 0.016433895199763904, 'ACC_x_peak_frequency': 0.015359808509353744, 'norm_mag_cal_range': 0.01504208917771517, 'GYR_z_min': 0.01451588578433776, 'ACC_x_std': 0.013950831896586885, 'distance': 0.013843611880980355, 'MAG_y_energy': 0.013820570002028574, 'longitude_window_20_std': 0.013691473139609008, 'altitude': 0.013683643572833939, 'norm_acc_min': 0.012701586158569032, 'ACC_x_cal_range': 0.012498184976332398, 'speed': 0.012222957103189344, 'MAG_z_entropy': 0.011991814728549571, 'norm_gyr_min_window_20_mean': 0.011130506957497037, 'ACC_y_peak_frequency': 0.011088814326871813, 'ACC_z_median': 0.010879717913114798, 'GYR_z_std': 0.010778880132597793, 'GYR_y_max': 0.010617564868214836, 'GYR_z_entropy': 0.01014185352596239, 'ACC_x_entropy': 0.009917176274820687, 'gps_snr_max': 0.009480635187870356, 'ACC_z_std': 0.0089101369821907, 'GYR_z_max': 0.008845650189534902, 'norm_gyr_max': 0.00878210806423132, 'norm_gyr_std': 0.008738741915218725, 'acc_wd_max_log': 0.008492567852963066, 'norm_mag_avg_frequency': 0.008376681181675375, 'north_speed': 0.00813790986751719, 'MAG_z_std': 0.007926251601623696, 'norm_mag_max': 0.007831904141390022, 'ACC_z_max': 0.007243483750765615, 'norm_gyr_entropy': 0.007060702966172119, 'norm_mag_entropy': 0.006910705267527584, 'norm_gyr_cal_range': 0.0063984398794004445, 'ACC_x_energy': 0.0063772599835626095, 'is_stop': 0.006259737335275654, 'speed_wd_std': 0.006173869785617169, 'north_dlt': 0.006107143997795945, 'GYR_x_avg_frequency': 0.00608676874294344, 'ACC_z_min': 0.006058978751112152, 'norm_acc_cal_range': 0.005990128136107842, 'gps_snr_std': 0.005971200880098839, 'GYR_y_peak_frequency': 0.005965276838112996, 'accuracy': 0.005884222101531007, 'ACC_x_max': 0.0057289206358735, 'norm_gyr_avg_frequency': 0.005596275336200875, 'GYR_z_peak_frequency': 0.00504490023724153, 'GYR_y_avg_frequency': 0.004797270071654728, 'norm_mag_min': 0.004746447040041452, 'acc_wd_std': 0.004735645996203695, 'gps_snr_mean': 0.0046967921636375635, 'norm_mag_median': 0.004643338942857343, 'MAG_z_avg_frequency': 0.004250134285278996, 'GYR_y_cal_range': 0.004192781435160231, 'MAG_x_std': 0.004140171113822222, 'GYR_z_avg_frequency': 0.0041132965940394815, 'MAG_y_min': 0.004105178771247952, 'norm_mag_mean': 0.003992048719244862, 'norm_mag_energy': 0.0039506165990051125, 'MAG_z_max': 0.003947140698442179, 'speed_dlt': 0.003942147069420348, 'ACC_z_peak_frequency': 0.003829613966541288, 'ACC_y_avg_frequency': 0.003784736876945466, 'norm_gyr_median': 0.0037268131340773654, 'MAG_y_max': 0.0037078326080598823, 'east_dlt': 0.003706436775449154, 'availability': 0.0035994149747315945, 'norm_acc_skewness': 0.003595434876248916, 'norm_gyr_mean': 0.0035601782158954823, 'ACC_x_avg_frequency': 0.003536449080513658, 'MAG_y_median': 0.003499694720712475, 'GYR_x_std': 0.003423536303233544, 'MAG_x_energy': 0.003369042824647092, 'MAG_x_min': 0.0033200337511352443, 'MAG_y_mean': 0.0032831759845715165, 'ACC_x_mean': 0.003210216081715963, 'MAG_y_avg_frequency': 0.0031697383375841152, 'MAG_x_max': 0.003162215417445179, 'GYR_z_energy': 0.002903177299181927, 'ACC_x_min': 0.0026810305441841396, 'MAG_z_min': 0.00264905702320616, 'GYR_y_std': 0.0025985323202787638, 'GYR_y_min': 0.0025621429354210547, 'norm_acc_peak_frequency': 0.00249478059854245, 'norm_acc_avg_frequency': 0.0024587764474680663, 'MAG_x_entropy': 0.0023698892730199717, 'ACC_x_median': 0.0022548115179609612, 'MAG_y_std': 0.002231767721251092, 'MAG_x_median': 0.0021638478472642587, 'GYR_y_energy': 0.0020229148670699985, 'MAG_x_cal_range': 0.001882859432291546, 'norm_acc_max': 0.0018313153516538734, 'MAG_z_mean': 0.0018193772375559034, 'east_speed': 0.001782097915318917, 'MAG_z_energy': 0.0017122921186665996, 'norm_acc_kurtosis': 0.001694456679312487, 'GYR_x_cal_range': 0.0014284220563131845, 'MAG_z_median': 0.0013050810681348103, 'MAG_x_mean': 0.001163082661493585, 'ACC_y_kurtosis': 0.0010822072955908395, 'MAG_y_entropy': 0.0010381755628143397, 'norm_acc_median': 0.0010359124480842652, 'acc': 0.0008473730969207661, 'ACC_z_energy': 0.0005825260894091973, 'GYR_x_energy': 0.0005417553094955752, 'ACC_z_avg_frequency': 0.0003897006282647265, 'GYR_x_max': 0.00032070827697828065, 'GYR_z_kurtosis': 0.0003043734920316148, 'gps_snr_min': 0.00030425283351636213, 'ACC_z_entropy': 0.00028150398248549157, 'time_dlt': 0.0002770966337819451, 'norm_mag_peak_frequency': 0.0002284696603094394, 'norm_gyr_energy': 0.00020164355774719957, 'ACC_z_kurtosis': 0.0001961974046633563, 'valid_dlt': 0.00019500844234986316, 'norm_gyr_min': 0.00015093926788715148, 'MAG_x_avg_frequency': 0.00010372852384158332, 'GYR_x_min': 9.818900787767503e-05, 'ACC_z_skewness': 8.512963753946011e-05, 'GYR_x_kurtosis': 6.169478757353141e-05, 'distance_change': 4.731547814288239e-05, 'GYR_y_median': 1.4506749096666488e-05}
importance feature add well
training set : Hips ; testing set : Hand; test order: 2
X_val  : (143960, 160)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.71
predict lgb
Time elapsed for testing lgb: 2.3
predict xgb
Time elapsed for testing xgb: 3.66
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Hips ; testing set : Hand  testing result
tree_model.pred_mean
[[21590   472     0  1349   202   232  4969  1026]
 [  978 11286     0 12030     0     0   213  1636]
 [    0   838    65  1871     0     0     0     0]
 [    3     0     0 12029     0     0     0     0]
 [  396   128     0  1156 16319  1905   570     0]
 [   13     0     0   299  3228  5509   131     0]
 [  474    33     0   598   271   803 18294  1337]
 [    0     0     0     0     0     0    34 21673]]
              precision    recall  f1-score   support

       Still       0.92      0.72      0.81     29840
     Walking       0.88      0.43      0.58     26143
         Run       1.00      0.02      0.05      2774
        Bike       0.41      1.00      0.58     12032
         Car       0.82      0.80      0.81     20474
         Bus       0.65      0.60      0.62      9180
       Train       0.76      0.84      0.80     21810
      Subway       0.84      1.00      0.91     21707

    accuracy                           0.74    143960
   macro avg       0.79      0.68      0.64    143960
weighted avg       0.80      0.74      0.74    143960

test over
get importance point
single experiment feature importance :{'ACC_y_std_window_20_mean': 0.2677032268403449, 'latitude': 0.18239607671953184, 'ACC_y_entropy': 0.17214328920311053, 'speed_wd_max_log': 0.16085301125021645, 'norm_acc_std_window_20_mean': 0.14636609981927087, 'GYR_y_std_window_20_mean': 0.12905032277820383, 'norm_acc_energy': 0.10851587813452003, 'norm_mag_peak_frequency_window_20_mean': 0.10121702925321432, 'north': 0.0980606424660686, 'ACC_z_cal_range': 0.07288937364675284, 'MAG_z_cal_range': 0.06638990656671051, 'norm_acc_entropy': 0.06104360464633679, 'speed_square': 0.05898805006740964, 'GYR_x_peak_frequency': 0.04526209079034773, 'norm_acc_std': 0.04433741212079469, 'GYR_x_entropy': 0.042982446540014985, 'ACC_y_min': 0.04186514373817335, 'norm_gyr_median_window_20_mean': 0.041662062904016535, 'MAG_y_cal_range': 0.03749192343219155, 'ACC_y_std': 0.03595282193097413, 'norm_acc_mean': 0.03498476620857414, 'speed_log': 0.03419225316597439, 'ACC_z_mean': 0.03346796980673538, 'ACC_y_mean': 0.03233238392197137, 'east': 0.03171336301102316, 'GYR_z_cal_range': 0.03138116063916564, 'ACC_y_cal_range': 0.031322616248798785, 'GYR_y_entropy': 0.028734954331386967, 'longitude': 0.02746676812855441, 'ACC_y_energy': 0.026657968747609565, 'speed_dif': 0.024822898909040207, 'number_window_20_mean': 0.021781289785061317, 'ACC_y_median': 0.019200573670914968, 'longitude_window_20_mean': 0.018704824286770845, 'norm_mag_std': 0.01841216125517156, 'norm_gyr_peak_frequency': 0.017994190259457758, 'ACC_y_max': 0.017906746856588437, 'gps_snr_mean_window_20_mean': 0.01692555090333445, 'number': 0.016433895199763904, 'ACC_x_peak_frequency': 0.015359808509353744, 'norm_mag_cal_range': 0.01504208917771517, 'GYR_z_min': 0.01451588578433776, 'ACC_x_std': 0.013950831896586885, 'distance': 0.013843611880980355, 'MAG_y_energy': 0.013820570002028574, 'longitude_window_20_std': 0.013691473139609008, 'altitude': 0.013683643572833939, 'norm_acc_min': 0.012701586158569032, 'ACC_x_cal_range': 0.012498184976332398, 'speed': 0.012222957103189344, 'MAG_z_entropy': 0.011991814728549571, 'norm_gyr_min_window_20_mean': 0.011130506957497037, 'ACC_y_peak_frequency': 0.011088814326871813, 'ACC_z_median': 0.010879717913114798, 'GYR_z_std': 0.010778880132597793, 'GYR_y_max': 0.010617564868214836, 'GYR_z_entropy': 0.01014185352596239, 'ACC_x_entropy': 0.009917176274820687, 'gps_snr_max': 0.009480635187870356, 'ACC_z_std': 0.0089101369821907, 'GYR_z_max': 0.008845650189534902, 'norm_gyr_max': 0.00878210806423132, 'norm_gyr_std': 0.008738741915218725, 'acc_wd_max_log': 0.008492567852963066, 'norm_mag_avg_frequency': 0.008376681181675375, 'north_speed': 0.00813790986751719, 'MAG_z_std': 0.007926251601623696, 'norm_mag_max': 0.007831904141390022, 'ACC_z_max': 0.007243483750765615, 'norm_gyr_entropy': 0.007060702966172119, 'norm_mag_entropy': 0.006910705267527584, 'norm_gyr_cal_range': 0.0063984398794004445, 'ACC_x_energy': 0.0063772599835626095, 'is_stop': 0.006259737335275654, 'speed_wd_std': 0.006173869785617169, 'north_dlt': 0.006107143997795945, 'GYR_x_avg_frequency': 0.00608676874294344, 'ACC_z_min': 0.006058978751112152, 'norm_acc_cal_range': 0.005990128136107842, 'gps_snr_std': 0.005971200880098839, 'GYR_y_peak_frequency': 0.005965276838112996, 'accuracy': 0.005884222101531007, 'ACC_x_max': 0.0057289206358735, 'norm_gyr_avg_frequency': 0.005596275336200875, 'GYR_z_peak_frequency': 0.00504490023724153, 'GYR_y_avg_frequency': 0.004797270071654728, 'norm_mag_min': 0.004746447040041452, 'acc_wd_std': 0.004735645996203695, 'gps_snr_mean': 0.0046967921636375635, 'norm_mag_median': 0.004643338942857343, 'MAG_z_avg_frequency': 0.004250134285278996, 'GYR_y_cal_range': 0.004192781435160231, 'MAG_x_std': 0.004140171113822222, 'GYR_z_avg_frequency': 0.0041132965940394815, 'MAG_y_min': 0.004105178771247952, 'norm_mag_mean': 0.003992048719244862, 'norm_mag_energy': 0.0039506165990051125, 'MAG_z_max': 0.003947140698442179, 'speed_dlt': 0.003942147069420348, 'ACC_z_peak_frequency': 0.003829613966541288, 'ACC_y_avg_frequency': 0.003784736876945466, 'norm_gyr_median': 0.0037268131340773654, 'MAG_y_max': 0.0037078326080598823, 'east_dlt': 0.003706436775449154, 'availability': 0.0035994149747315945, 'norm_acc_skewness': 0.003595434876248916, 'norm_gyr_mean': 0.0035601782158954823, 'ACC_x_avg_frequency': 0.003536449080513658, 'MAG_y_median': 0.003499694720712475, 'GYR_x_std': 0.003423536303233544, 'MAG_x_energy': 0.003369042824647092, 'MAG_x_min': 0.0033200337511352443, 'MAG_y_mean': 0.0032831759845715165, 'ACC_x_mean': 0.003210216081715963, 'MAG_y_avg_frequency': 0.0031697383375841152, 'MAG_x_max': 0.003162215417445179, 'GYR_z_energy': 0.002903177299181927, 'ACC_x_min': 0.0026810305441841396, 'MAG_z_min': 0.00264905702320616, 'GYR_y_std': 0.0025985323202787638, 'GYR_y_min': 0.0025621429354210547, 'norm_acc_peak_frequency': 0.00249478059854245, 'norm_acc_avg_frequency': 0.0024587764474680663, 'MAG_x_entropy': 0.0023698892730199717, 'ACC_x_median': 0.0022548115179609612, 'MAG_y_std': 0.002231767721251092, 'MAG_x_median': 0.0021638478472642587, 'GYR_y_energy': 0.0020229148670699985, 'MAG_x_cal_range': 0.001882859432291546, 'norm_acc_max': 0.0018313153516538734, 'MAG_z_mean': 0.0018193772375559034, 'east_speed': 0.001782097915318917, 'MAG_z_energy': 0.0017122921186665996, 'norm_acc_kurtosis': 0.001694456679312487, 'GYR_x_cal_range': 0.0014284220563131845, 'MAG_z_median': 0.0013050810681348103, 'MAG_x_mean': 0.001163082661493585, 'ACC_y_kurtosis': 0.0010822072955908395, 'MAG_y_entropy': 0.0010381755628143397, 'norm_acc_median': 0.0010359124480842652, 'acc': 0.0008473730969207661, 'ACC_z_energy': 0.0005825260894091973, 'GYR_x_energy': 0.0005417553094955752, 'ACC_z_avg_frequency': 0.0003897006282647265, 'GYR_x_max': 0.00032070827697828065, 'GYR_z_kurtosis': 0.0003043734920316148, 'gps_snr_min': 0.00030425283351636213, 'ACC_z_entropy': 0.00028150398248549157, 'time_dlt': 0.0002770966337819451, 'norm_mag_peak_frequency': 0.0002284696603094394, 'norm_gyr_energy': 0.00020164355774719957, 'ACC_z_kurtosis': 0.0001961974046633563, 'valid_dlt': 0.00019500844234986316, 'norm_gyr_min': 0.00015093926788715148, 'MAG_x_avg_frequency': 0.00010372852384158332, 'GYR_x_min': 9.818900787767503e-05, 'ACC_z_skewness': 8.512963753946011e-05, 'GYR_x_kurtosis': 6.169478757353141e-05, 'distance_change': 4.731547814288239e-05, 'GYR_y_median': 1.4506749096666488e-05}
importance feature add well
training set : Hips ; testing set : Hips; test order: 3
X_val  : (143960, 160)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.57
predict lgb
Time elapsed for testing lgb: 2.04
predict xgb
Time elapsed for testing xgb: 3.66
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Hips ; testing set : Hips  testing result
tree_model.pred_mean
[[19625   276     0   334   387     6  9104   108]
 [  837 21136     0  3031    22    18   737   362]
 [    0  2012   359   403     0     0     0     0]
 [  167   101     0 11764     0     0     0     0]
 [  304    57     0     0  9324  1765  9024     0]
 [   84    69     0    24  3164  5190   649     0]
 [  259    14     0    87  2419   207 17844   980]
 [    0     0     0     0     0     0 11099 10608]]
              precision    recall  f1-score   support

       Still       0.92      0.66      0.77     29840
     Walking       0.89      0.81      0.85     26143
         Run       1.00      0.13      0.23      2774
        Bike       0.75      0.98      0.85     12032
         Car       0.61      0.46      0.52     20474
         Bus       0.72      0.57      0.63      9180
       Train       0.37      0.82      0.51     21810
      Subway       0.88      0.49      0.63     21707

    accuracy                           0.67    143960
   macro avg       0.77      0.61      0.62    143960
weighted avg       0.76      0.67      0.67    143960

test over
get importance point
single experiment feature importance :{'ACC_y_std_window_20_mean': 0.2677032268403449, 'latitude': 0.18239607671953184, 'ACC_y_entropy': 0.17214328920311053, 'speed_wd_max_log': 0.16085301125021645, 'norm_acc_std_window_20_mean': 0.14636609981927087, 'GYR_y_std_window_20_mean': 0.12905032277820383, 'norm_acc_energy': 0.10851587813452003, 'norm_mag_peak_frequency_window_20_mean': 0.10121702925321432, 'north': 0.0980606424660686, 'ACC_z_cal_range': 0.07288937364675284, 'MAG_z_cal_range': 0.06638990656671051, 'norm_acc_entropy': 0.06104360464633679, 'speed_square': 0.05898805006740964, 'GYR_x_peak_frequency': 0.04526209079034773, 'norm_acc_std': 0.04433741212079469, 'GYR_x_entropy': 0.042982446540014985, 'ACC_y_min': 0.04186514373817335, 'norm_gyr_median_window_20_mean': 0.041662062904016535, 'MAG_y_cal_range': 0.03749192343219155, 'ACC_y_std': 0.03595282193097413, 'norm_acc_mean': 0.03498476620857414, 'speed_log': 0.03419225316597439, 'ACC_z_mean': 0.03346796980673538, 'ACC_y_mean': 0.03233238392197137, 'east': 0.03171336301102316, 'GYR_z_cal_range': 0.03138116063916564, 'ACC_y_cal_range': 0.031322616248798785, 'GYR_y_entropy': 0.028734954331386967, 'longitude': 0.02746676812855441, 'ACC_y_energy': 0.026657968747609565, 'speed_dif': 0.024822898909040207, 'number_window_20_mean': 0.021781289785061317, 'ACC_y_median': 0.019200573670914968, 'longitude_window_20_mean': 0.018704824286770845, 'norm_mag_std': 0.01841216125517156, 'norm_gyr_peak_frequency': 0.017994190259457758, 'ACC_y_max': 0.017906746856588437, 'gps_snr_mean_window_20_mean': 0.01692555090333445, 'number': 0.016433895199763904, 'ACC_x_peak_frequency': 0.015359808509353744, 'norm_mag_cal_range': 0.01504208917771517, 'GYR_z_min': 0.01451588578433776, 'ACC_x_std': 0.013950831896586885, 'distance': 0.013843611880980355, 'MAG_y_energy': 0.013820570002028574, 'longitude_window_20_std': 0.013691473139609008, 'altitude': 0.013683643572833939, 'norm_acc_min': 0.012701586158569032, 'ACC_x_cal_range': 0.012498184976332398, 'speed': 0.012222957103189344, 'MAG_z_entropy': 0.011991814728549571, 'norm_gyr_min_window_20_mean': 0.011130506957497037, 'ACC_y_peak_frequency': 0.011088814326871813, 'ACC_z_median': 0.010879717913114798, 'GYR_z_std': 0.010778880132597793, 'GYR_y_max': 0.010617564868214836, 'GYR_z_entropy': 0.01014185352596239, 'ACC_x_entropy': 0.009917176274820687, 'gps_snr_max': 0.009480635187870356, 'ACC_z_std': 0.0089101369821907, 'GYR_z_max': 0.008845650189534902, 'norm_gyr_max': 0.00878210806423132, 'norm_gyr_std': 0.008738741915218725, 'acc_wd_max_log': 0.008492567852963066, 'norm_mag_avg_frequency': 0.008376681181675375, 'north_speed': 0.00813790986751719, 'MAG_z_std': 0.007926251601623696, 'norm_mag_max': 0.007831904141390022, 'ACC_z_max': 0.007243483750765615, 'norm_gyr_entropy': 0.007060702966172119, 'norm_mag_entropy': 0.006910705267527584, 'norm_gyr_cal_range': 0.0063984398794004445, 'ACC_x_energy': 0.0063772599835626095, 'is_stop': 0.006259737335275654, 'speed_wd_std': 0.006173869785617169, 'north_dlt': 0.006107143997795945, 'GYR_x_avg_frequency': 0.00608676874294344, 'ACC_z_min': 0.006058978751112152, 'norm_acc_cal_range': 0.005990128136107842, 'gps_snr_std': 0.005971200880098839, 'GYR_y_peak_frequency': 0.005965276838112996, 'accuracy': 0.005884222101531007, 'ACC_x_max': 0.0057289206358735, 'norm_gyr_avg_frequency': 0.005596275336200875, 'GYR_z_peak_frequency': 0.00504490023724153, 'GYR_y_avg_frequency': 0.004797270071654728, 'norm_mag_min': 0.004746447040041452, 'acc_wd_std': 0.004735645996203695, 'gps_snr_mean': 0.0046967921636375635, 'norm_mag_median': 0.004643338942857343, 'MAG_z_avg_frequency': 0.004250134285278996, 'GYR_y_cal_range': 0.004192781435160231, 'MAG_x_std': 0.004140171113822222, 'GYR_z_avg_frequency': 0.0041132965940394815, 'MAG_y_min': 0.004105178771247952, 'norm_mag_mean': 0.003992048719244862, 'norm_mag_energy': 0.0039506165990051125, 'MAG_z_max': 0.003947140698442179, 'speed_dlt': 0.003942147069420348, 'ACC_z_peak_frequency': 0.003829613966541288, 'ACC_y_avg_frequency': 0.003784736876945466, 'norm_gyr_median': 0.0037268131340773654, 'MAG_y_max': 0.0037078326080598823, 'east_dlt': 0.003706436775449154, 'availability': 0.0035994149747315945, 'norm_acc_skewness': 0.003595434876248916, 'norm_gyr_mean': 0.0035601782158954823, 'ACC_x_avg_frequency': 0.003536449080513658, 'MAG_y_median': 0.003499694720712475, 'GYR_x_std': 0.003423536303233544, 'MAG_x_energy': 0.003369042824647092, 'MAG_x_min': 0.0033200337511352443, 'MAG_y_mean': 0.0032831759845715165, 'ACC_x_mean': 0.003210216081715963, 'MAG_y_avg_frequency': 0.0031697383375841152, 'MAG_x_max': 0.003162215417445179, 'GYR_z_energy': 0.002903177299181927, 'ACC_x_min': 0.0026810305441841396, 'MAG_z_min': 0.00264905702320616, 'GYR_y_std': 0.0025985323202787638, 'GYR_y_min': 0.0025621429354210547, 'norm_acc_peak_frequency': 0.00249478059854245, 'norm_acc_avg_frequency': 0.0024587764474680663, 'MAG_x_entropy': 0.0023698892730199717, 'ACC_x_median': 0.0022548115179609612, 'MAG_y_std': 0.002231767721251092, 'MAG_x_median': 0.0021638478472642587, 'GYR_y_energy': 0.0020229148670699985, 'MAG_x_cal_range': 0.001882859432291546, 'norm_acc_max': 0.0018313153516538734, 'MAG_z_mean': 0.0018193772375559034, 'east_speed': 0.001782097915318917, 'MAG_z_energy': 0.0017122921186665996, 'norm_acc_kurtosis': 0.001694456679312487, 'GYR_x_cal_range': 0.0014284220563131845, 'MAG_z_median': 0.0013050810681348103, 'MAG_x_mean': 0.001163082661493585, 'ACC_y_kurtosis': 0.0010822072955908395, 'MAG_y_entropy': 0.0010381755628143397, 'norm_acc_median': 0.0010359124480842652, 'acc': 0.0008473730969207661, 'ACC_z_energy': 0.0005825260894091973, 'GYR_x_energy': 0.0005417553094955752, 'ACC_z_avg_frequency': 0.0003897006282647265, 'GYR_x_max': 0.00032070827697828065, 'GYR_z_kurtosis': 0.0003043734920316148, 'gps_snr_min': 0.00030425283351636213, 'ACC_z_entropy': 0.00028150398248549157, 'time_dlt': 0.0002770966337819451, 'norm_mag_peak_frequency': 0.0002284696603094394, 'norm_gyr_energy': 0.00020164355774719957, 'ACC_z_kurtosis': 0.0001961974046633563, 'valid_dlt': 0.00019500844234986316, 'norm_gyr_min': 0.00015093926788715148, 'MAG_x_avg_frequency': 0.00010372852384158332, 'GYR_x_min': 9.818900787767503e-05, 'ACC_z_skewness': 8.512963753946011e-05, 'GYR_x_kurtosis': 6.169478757353141e-05, 'distance_change': 4.731547814288239e-05, 'GYR_y_median': 1.4506749096666488e-05}
importance feature add well
training set:Bag,the 1th training set
begin training
X_train: (1050526, 160)
y_train: 1050526
Training rf...
Time elapsed for training rf: 384.34
Training LightGBM...
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Warning] Auto-choosing col-wise multi-threading, the overhead of testing was 1.139561 seconds.
You can set `force_col_wise=true` to remove the overhead.
[LightGBM] [Info] Total Bins 37522
[LightGBM] [Info] Number of data points in the train set: 840420, number of used features: 160
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Info] Start training from score -2.152164
[LightGBM] [Info] Start training from score -2.148975
[LightGBM] [Info] Start training from score -2.236785
[LightGBM] [Info] Start training from score -2.193601
[LightGBM] [Info] Start training from score -1.888644
[LightGBM] [Info] Start training from score -2.003801
[LightGBM] [Info] Start training from score -1.903311
[LightGBM] [Info] Start training from score -2.174409
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[1]	valid_0's multi_logloss: 1.52848
[2]	valid_0's multi_logloss: 1.23561
[3]	valid_0's multi_logloss: 1.03231
[4]	valid_0's multi_logloss: 0.87691
[5]	valid_0's multi_logloss: 0.753526
[6]	valid_0's multi_logloss: 0.655142
[7]	valid_0's multi_logloss: 0.575904
[8]	valid_0's multi_logloss: 0.50701
[9]	valid_0's multi_logloss: 0.449678
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[10]	valid_0's multi_logloss: 0.400391
[11]	valid_0's multi_logloss: 0.359011
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[12]	valid_0's multi_logloss: 0.323168
[13]	valid_0's multi_logloss: 0.292836
[14]	valid_0's multi_logloss: 0.266487
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[15]	valid_0's multi_logloss: 0.24376
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[16]	valid_0's multi_logloss: 0.223239
[17]	valid_0's multi_logloss: 0.205272
[18]	valid_0's multi_logloss: 0.190033
[19]	valid_0's multi_logloss: 0.176014
[20]	valid_0's multi_logloss: 0.16336
[21]	valid_0's multi_logloss: 0.152564
[22]	valid_0's multi_logloss: 0.142508
[23]	valid_0's multi_logloss: 0.133027
[24]	valid_0's multi_logloss: 0.124713
[25]	valid_0's multi_logloss: 0.117648
[26]	valid_0's multi_logloss: 0.11151
[27]	valid_0's multi_logloss: 0.105252
[28]	valid_0's multi_logloss: 0.100268
[29]	valid_0's multi_logloss: 0.0950763
[30]	valid_0's multi_logloss: 0.0905122
[31]	valid_0's multi_logloss: 0.086461
[32]	valid_0's multi_logloss: 0.0823282
[33]	valid_0's multi_logloss: 0.0781344
[34]	valid_0's multi_logloss: 0.0747068
[35]	valid_0's multi_logloss: 0.0715962
[36]	valid_0's multi_logloss: 0.0687325
[37]	valid_0's multi_logloss: 0.0656484
[38]	valid_0's multi_logloss: 0.0630698
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[39]	valid_0's multi_logloss: 0.0607677
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[40]	valid_0's multi_logloss: 0.058108
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[41]	valid_0's multi_logloss: 0.0557308
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[42]	valid_0's multi_logloss: 0.0534626
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[43]	valid_0's multi_logloss: 0.0517437
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[44]	valid_0's multi_logloss: 0.0497731
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[45]	valid_0's multi_logloss: 0.0482213
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[46]	valid_0's multi_logloss: 0.0466355
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[47]	valid_0's multi_logloss: 0.0449231
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[48]	valid_0's multi_logloss: 0.0434654
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[49]	valid_0's multi_logloss: 0.0421943
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[50]	valid_0's multi_logloss: 0.0410474
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[51]	valid_0's multi_logloss: 0.0396759
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[52]	valid_0's multi_logloss: 0.0382018
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[53]	valid_0's multi_logloss: 0.036931
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[54]	valid_0's multi_logloss: 0.0359166
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[55]	valid_0's multi_logloss: 0.0351088
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[56]	valid_0's multi_logloss: 0.0341696
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[57]	valid_0's multi_logloss: 0.0333283
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[58]	valid_0's multi_logloss: 0.0322838
[59]	valid_0's multi_logloss: 0.0313147
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[60]	valid_0's multi_logloss: 0.0304466
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[61]	valid_0's multi_logloss: 0.0294202
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[62]	valid_0's multi_logloss: 0.0286035
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[63]	valid_0's multi_logloss: 0.0278277
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[64]	valid_0's multi_logloss: 0.0271256
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[65]	valid_0's multi_logloss: 0.0265126
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[66]	valid_0's multi_logloss: 0.025849
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[67]	valid_0's multi_logloss: 0.025255
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[68]	valid_0's multi_logloss: 0.0246222
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[69]	valid_0's multi_logloss: 0.023777
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[70]	valid_0's multi_logloss: 0.0232364
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[71]	valid_0's multi_logloss: 0.0225364
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[72]	valid_0's multi_logloss: 0.0219448
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[73]	valid_0's multi_logloss: 0.0213944
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[74]	valid_0's multi_logloss: 0.0209917
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[75]	valid_0's multi_logloss: 0.0204286
[76]	valid_0's multi_logloss: 0.0198979
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[77]	valid_0's multi_logloss: 0.0194598
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[78]	valid_0's multi_logloss: 0.0190283
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[79]	valid_0's multi_logloss: 0.0186277
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[80]	valid_0's multi_logloss: 0.0181523
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[81]	valid_0's multi_logloss: 0.0177285
[82]	valid_0's multi_logloss: 0.017399
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[83]	valid_0's multi_logloss: 0.0170045
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[84]	valid_0's multi_logloss: 0.0166158
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[85]	valid_0's multi_logloss: 0.016256
[86]	valid_0's multi_logloss: 0.0159331
[87]	valid_0's multi_logloss: 0.0155264
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[88]	valid_0's multi_logloss: 0.0152634
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[89]	valid_0's multi_logloss: 0.0149144
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[90]	valid_0's multi_logloss: 0.0146172
[91]	valid_0's multi_logloss: 0.0143609
[92]	valid_0's multi_logloss: 0.0140927
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[93]	valid_0's multi_logloss: 0.0137664
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[94]	valid_0's multi_logloss: 0.0135267
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[95]	valid_0's multi_logloss: 0.0132115
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[96]	valid_0's multi_logloss: 0.0129687
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[97]	valid_0's multi_logloss: 0.012703
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[98]	valid_0's multi_logloss: 0.0124092
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[99]	valid_0's multi_logloss: 0.0121844
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[100]	valid_0's multi_logloss: 0.011928
Time elapsed for training LightGBM: 2870.72
Training XGBoost...
Time elapsed for training XGBoost: 1078.38
begin testing
training set : Bag ; testing set : Torso; test order: 0
X_val  : (143960, 160)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.33
predict lgb
Time elapsed for testing lgb: 2.47
predict xgb
Time elapsed for testing xgb: 3.61
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Bag ; testing set : Torso  testing result
tree_model.pred_mean
[[12258   562     0     7     0  3216 13513   284]
 [  480 23992     8   300     0    49  1167   147]
 [    0  1879   895     0     0     0     0     0]
 [  279  1856     0  6223  1074   721  1879     0]
 [   51    80     0     0     0  4495 15848     0]
 [    8    71     0     0     0  6066  3035     0]
 [ 1367    98     0    10     0  2588 15609  2138]
 [    0     7     0     0     0     0 11099 10601]]
              precision    recall  f1-score   support

       Still       0.85      0.41      0.55     29840
     Walking       0.84      0.92      0.88     26143
         Run       0.99      0.32      0.49      2774
        Bike       0.95      0.52      0.67     12032
         Car       0.00      0.00      0.00     20474
         Bus       0.35      0.66      0.46      9180
       Train       0.25      0.72      0.37     21810
      Subway       0.80      0.49      0.61     21707

    accuracy                           0.53    143960
   macro avg       0.63      0.50      0.50    143960
weighted avg       0.61      0.53      0.52    143960

test over
get importance point
single experiment feature importance :{'norm_acc_std_window_20_mean': 0.32094720852918884, 'speed_wd_max_log': 0.15367669918530202, 'latitude': 0.13896242961858102, 'GYR_x_entropy': 0.13439155062394975, 'norm_acc_energy': 0.12696040435059586, 'norm_gyr_median_window_20_mean': 0.1127593560237492, 'norm_acc_mean': 0.098316899603118, 'north': 0.08458712687183031, 'norm_acc_std': 0.08303654130791127, 'norm_acc_avg_frequency': 0.08136578456258778, 'norm_acc_max': 0.06796175560443637, 'speed_square': 0.059872072028317735, 'gps_snr_mean_window_20_mean': 0.05964027767159885, 'ACC_y_std_window_20_mean': 0.05570351125994562, 'GYR_z_std': 0.054390502102954236, 'ACC_x_avg_frequency': 0.053867024364094004, 'ACC_x_cal_range': 0.05140412695362172, 'norm_mag_peak_frequency_window_20_mean': 0.04646317561081219, 'GYR_z_entropy': 0.04247238099507009, 'GYR_y_std_window_20_mean': 0.03849274595195267, 'speed_log': 0.03802989477211851, 'GYR_y_peak_frequency': 0.0378345892440624, 'GYR_z_avg_frequency': 0.037517252939536914, 'ACC_z_median': 0.03735577600256419, 'east': 0.034790496379156995, 'MAG_x_avg_frequency': 0.02997441792948318, 'ACC_z_mean': 0.02930713865669283, 'GYR_z_cal_range': 0.027347334640099395, 'norm_acc_peak_frequency': 0.026952717387999668, 'longitude': 0.025135085624543883, 'norm_gyr_min_window_20_mean': 0.02413283539069946, 'ACC_x_energy': 0.02404311394523809, 'gps_snr_max': 0.023650281872859513, 'norm_acc_entropy': 0.021577383686755394, 'ACC_x_std': 0.021509811586739282, 'ACC_y_std': 0.02079448415819419, 'distance': 0.019795523497697236, 'number_window_20_mean': 0.019604767046917985, 'gps_snr_mean': 0.018777745195168703, 'MAG_x_cal_range': 0.018318294605127548, 'ACC_y_entropy': 0.017912478566795047, 'speed_dif': 0.017315373052500173, 'norm_acc_min': 0.01703531561305416, 'ACC_y_energy': 0.01660550289426588, 'GYR_z_max': 0.016272150011575368, 'altitude': 0.01582471013398254, 'GYR_z_min': 0.014678651893317903, 'gps_snr_std': 0.014547360148986605, 'longitude_window_20_mean': 0.014263136800978255, 'accuracy': 0.013441529131924026, 'ACC_x_max': 0.01314420918308849, 'MAG_y_cal_range': 0.01310281667693403, 'ACC_x_mean': 0.013030578976176056, 'number': 0.01290928332626897, 'norm_gyr_median': 0.010692310438122686, 'acc_wd_std': 0.010664369178837984, 'ACC_z_energy': 0.010258548873197286, 'acc_wd_max_log': 0.01022379733576706, 'ACC_y_cal_range': 0.010035698224221328, 'GYR_y_energy': 0.009538345786261901, 'GYR_x_peak_frequency': 0.009360530113733943, 'MAG_x_std': 0.009233721159429883, 'ACC_x_median': 0.008954710127058382, 'ACC_z_std': 0.00880625250700485, 'norm_gyr_cal_range': 0.00875902784627281, 'ACC_y_peak_frequency': 0.008529830804787468, 'ACC_z_cal_range': 0.008159066031825679, 'norm_gyr_max': 0.00796681271223568, 'ACC_x_entropy': 0.007506471288850502, 'speed': 0.0074598052955148755, 'north_dlt': 0.00729382467024533, 'ACC_z_max': 0.00689035777193814, 'longitude_window_20_std': 0.0066895033751438555, 'ACC_z_skewness': 0.006633708506170984, 'MAG_y_min': 0.0060103933346149635, 'speed_wd_std': 0.00578151637834854, 'norm_gyr_std': 0.005701266155087847, 'GYR_y_std': 0.005569731427076014, 'norm_acc_cal_range': 0.0053906044246873844, 'ACC_y_mean': 0.0053745534156217425, 'ACC_x_min': 0.005228898914127811, 'MAG_y_std': 0.005174550017945532, 'ACC_x_peak_frequency': 0.005102249395944537, 'norm_mag_avg_frequency': 0.005069082370070355, 'MAG_z_max': 0.005004931568429934, 'MAG_y_max': 0.004966281791113124, 'GYR_x_std': 0.004794532572437068, 'GYR_x_avg_frequency': 0.0046675857522966695, 'MAG_x_max': 0.004536610788802721, 'MAG_x_min': 0.0044345385575904825, 'ACC_y_avg_frequency': 0.004357872384291887, 'norm_mag_cal_range': 0.004189187878211754, 'MAG_y_mean': 0.004178235412696231, 'ACC_y_median': 0.00414431766370766, 'availability': 0.004127393851998128, 'ACC_y_min': 0.004037476628643845, 'GYR_y_cal_range': 0.004012861289204004, 'norm_mag_min': 0.0037555056376720524, 'MAG_x_mean': 0.0036907249601176697, 'ACC_z_avg_frequency': 0.003632533778334167, 'norm_mag_entropy': 0.003607119615787545, 'norm_gyr_mean': 0.0034914138642223986, 'norm_mag_energy': 0.003448912399162422, 'norm_gyr_avg_frequency': 0.0034478845973374608, 'MAG_z_energy': 0.0033822006102021017, 'GYR_y_entropy': 0.0033595908652253323, 'MAG_x_median': 0.0033343001953548695, 'ACC_z_min': 0.003298194667446276, 'norm_mag_median': 0.0032848970576935255, 'norm_mag_max': 0.003181929369063858, 'norm_mag_mean': 0.0031789955794416487, 'MAG_x_entropy': 0.0031201170258675875, 'north_speed': 0.002953498166855891, 'ACC_y_max': 0.0027911040343649215, 'is_stop': 0.0027497190265447337, 'MAG_z_std': 0.0027346868429344797, 'norm_gyr_peak_frequency': 0.002692799524261621, 'GYR_z_peak_frequency': 0.002381096381345436, 'MAG_y_median': 0.002278126360847267, 'MAG_z_median': 0.0021467435341496264, 'MAG_z_min': 0.0021226661641120578, 'norm_mag_std': 0.0020955758686158343, 'MAG_z_mean': 0.002038289089045923, 'east_dlt': 0.0019770557882855515, 'MAG_x_energy': 0.001967496395911165, 'ACC_z_peak_frequency': 0.0017411198938161285, 'GYR_y_avg_frequency': 0.0016679074669214732, 'norm_acc_kurtosis': 0.001448480063839064, 'GYR_x_min': 0.0014302405047112005, 'ACC_z_kurtosis': 0.0013500146401328916, 'ACC_z_entropy': 0.0012597010675520549, 'GYR_y_max': 0.0012588093936354238, 'MAG_y_energy': 0.0009041992632561487, 'speed_dlt': 0.0008817487534150877, 'MAG_z_entropy': 0.0008627696711144268, 'east_speed': 0.000803684865254983, 'MAG_z_cal_range': 0.0007975979522858311, 'acc': 0.0006743953047313293, 'MAG_z_avg_frequency': 0.0006252406234924944, 'norm_gyr_entropy': 0.0006049064575281247, 'norm_acc_median': 0.0005968177100294706, 'GYR_x_kurtosis': 0.0004116720698428096, 'MAG_y_entropy': 0.0003618322900687675, 'gps_snr_min': 0.0003610206490118184, 'GYR_x_cal_range': 0.00033566783951913183, 'GYR_x_energy': 0.0003305859699774303, 'GYR_z_energy': 0.0002920324587795311, 'time_dlt': 0.0002519086808586466, 'MAG_y_avg_frequency': 0.0002390611631358314, 'valid_dlt': 0.00023008214521916, 'norm_gyr_min': 0.00020318672492707556, 'norm_gyr_energy': 0.00018167254041575763, 'GYR_y_median': 0.00012770699568956864, 'GYR_y_min': 0.00010607656403903791, 'ACC_y_kurtosis': 5.5428320280566674e-05, 'distance_change': 5.419456143104536e-05, 'GYR_z_kurtosis': 4.0041587247857254e-05, 'GYR_x_max': 3.5224613392417277e-05, 'norm_mag_peak_frequency': 8.805381670816498e-06, 'norm_acc_skewness': 8.078270286298025e-06}
importance feature add well
training set : Bag ; testing set : Bag; test order: 1
X_val  : (143960, 160)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.34
predict lgb
Time elapsed for testing lgb: 2.15
predict xgb
Time elapsed for testing xgb: 3.91
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Bag ; testing set : Bag  testing result
tree_model.pred_mean
[[23109   788     0    27    84   601  4294   937]
 [  777 24102     8   779    59    37   237   144]
 [    0  1146  1628     0     0     0     0     0]
 [  117  1397     0  9547     0   971     0     0]
 [  273    42     0     0 15002  4095  1062     0]
 [   19    82     0     0  1715  6481   883     0]
 [  283    67     0    88   304   645 19166  1257]
 [    0     2     0     0     0     0  2339 19366]]
              precision    recall  f1-score   support

       Still       0.94      0.77      0.85     29840
     Walking       0.87      0.92      0.90     26143
         Run       1.00      0.59      0.74      2774
        Bike       0.91      0.79      0.85     12032
         Car       0.87      0.73      0.80     20474
         Bus       0.51      0.71      0.59      9180
       Train       0.68      0.88      0.77     21810
      Subway       0.89      0.89      0.89     21707

    accuracy                           0.82    143960
   macro avg       0.83      0.79      0.80    143960
weighted avg       0.84      0.82      0.83    143960

test over
get importance point
single experiment feature importance :{'norm_acc_std_window_20_mean': 0.32094720852918884, 'speed_wd_max_log': 0.15367669918530202, 'latitude': 0.13896242961858102, 'GYR_x_entropy': 0.13439155062394975, 'norm_acc_energy': 0.12696040435059586, 'norm_gyr_median_window_20_mean': 0.1127593560237492, 'norm_acc_mean': 0.098316899603118, 'north': 0.08458712687183031, 'norm_acc_std': 0.08303654130791127, 'norm_acc_avg_frequency': 0.08136578456258778, 'norm_acc_max': 0.06796175560443637, 'speed_square': 0.059872072028317735, 'gps_snr_mean_window_20_mean': 0.05964027767159885, 'ACC_y_std_window_20_mean': 0.05570351125994562, 'GYR_z_std': 0.054390502102954236, 'ACC_x_avg_frequency': 0.053867024364094004, 'ACC_x_cal_range': 0.05140412695362172, 'norm_mag_peak_frequency_window_20_mean': 0.04646317561081219, 'GYR_z_entropy': 0.04247238099507009, 'GYR_y_std_window_20_mean': 0.03849274595195267, 'speed_log': 0.03802989477211851, 'GYR_y_peak_frequency': 0.0378345892440624, 'GYR_z_avg_frequency': 0.037517252939536914, 'ACC_z_median': 0.03735577600256419, 'east': 0.034790496379156995, 'MAG_x_avg_frequency': 0.02997441792948318, 'ACC_z_mean': 0.02930713865669283, 'GYR_z_cal_range': 0.027347334640099395, 'norm_acc_peak_frequency': 0.026952717387999668, 'longitude': 0.025135085624543883, 'norm_gyr_min_window_20_mean': 0.02413283539069946, 'ACC_x_energy': 0.02404311394523809, 'gps_snr_max': 0.023650281872859513, 'norm_acc_entropy': 0.021577383686755394, 'ACC_x_std': 0.021509811586739282, 'ACC_y_std': 0.02079448415819419, 'distance': 0.019795523497697236, 'number_window_20_mean': 0.019604767046917985, 'gps_snr_mean': 0.018777745195168703, 'MAG_x_cal_range': 0.018318294605127548, 'ACC_y_entropy': 0.017912478566795047, 'speed_dif': 0.017315373052500173, 'norm_acc_min': 0.01703531561305416, 'ACC_y_energy': 0.01660550289426588, 'GYR_z_max': 0.016272150011575368, 'altitude': 0.01582471013398254, 'GYR_z_min': 0.014678651893317903, 'gps_snr_std': 0.014547360148986605, 'longitude_window_20_mean': 0.014263136800978255, 'accuracy': 0.013441529131924026, 'ACC_x_max': 0.01314420918308849, 'MAG_y_cal_range': 0.01310281667693403, 'ACC_x_mean': 0.013030578976176056, 'number': 0.01290928332626897, 'norm_gyr_median': 0.010692310438122686, 'acc_wd_std': 0.010664369178837984, 'ACC_z_energy': 0.010258548873197286, 'acc_wd_max_log': 0.01022379733576706, 'ACC_y_cal_range': 0.010035698224221328, 'GYR_y_energy': 0.009538345786261901, 'GYR_x_peak_frequency': 0.009360530113733943, 'MAG_x_std': 0.009233721159429883, 'ACC_x_median': 0.008954710127058382, 'ACC_z_std': 0.00880625250700485, 'norm_gyr_cal_range': 0.00875902784627281, 'ACC_y_peak_frequency': 0.008529830804787468, 'ACC_z_cal_range': 0.008159066031825679, 'norm_gyr_max': 0.00796681271223568, 'ACC_x_entropy': 0.007506471288850502, 'speed': 0.0074598052955148755, 'north_dlt': 0.00729382467024533, 'ACC_z_max': 0.00689035777193814, 'longitude_window_20_std': 0.0066895033751438555, 'ACC_z_skewness': 0.006633708506170984, 'MAG_y_min': 0.0060103933346149635, 'speed_wd_std': 0.00578151637834854, 'norm_gyr_std': 0.005701266155087847, 'GYR_y_std': 0.005569731427076014, 'norm_acc_cal_range': 0.0053906044246873844, 'ACC_y_mean': 0.0053745534156217425, 'ACC_x_min': 0.005228898914127811, 'MAG_y_std': 0.005174550017945532, 'ACC_x_peak_frequency': 0.005102249395944537, 'norm_mag_avg_frequency': 0.005069082370070355, 'MAG_z_max': 0.005004931568429934, 'MAG_y_max': 0.004966281791113124, 'GYR_x_std': 0.004794532572437068, 'GYR_x_avg_frequency': 0.0046675857522966695, 'MAG_x_max': 0.004536610788802721, 'MAG_x_min': 0.0044345385575904825, 'ACC_y_avg_frequency': 0.004357872384291887, 'norm_mag_cal_range': 0.004189187878211754, 'MAG_y_mean': 0.004178235412696231, 'ACC_y_median': 0.00414431766370766, 'availability': 0.004127393851998128, 'ACC_y_min': 0.004037476628643845, 'GYR_y_cal_range': 0.004012861289204004, 'norm_mag_min': 0.0037555056376720524, 'MAG_x_mean': 0.0036907249601176697, 'ACC_z_avg_frequency': 0.003632533778334167, 'norm_mag_entropy': 0.003607119615787545, 'norm_gyr_mean': 0.0034914138642223986, 'norm_mag_energy': 0.003448912399162422, 'norm_gyr_avg_frequency': 0.0034478845973374608, 'MAG_z_energy': 0.0033822006102021017, 'GYR_y_entropy': 0.0033595908652253323, 'MAG_x_median': 0.0033343001953548695, 'ACC_z_min': 0.003298194667446276, 'norm_mag_median': 0.0032848970576935255, 'norm_mag_max': 0.003181929369063858, 'norm_mag_mean': 0.0031789955794416487, 'MAG_x_entropy': 0.0031201170258675875, 'north_speed': 0.002953498166855891, 'ACC_y_max': 0.0027911040343649215, 'is_stop': 0.0027497190265447337, 'MAG_z_std': 0.0027346868429344797, 'norm_gyr_peak_frequency': 0.002692799524261621, 'GYR_z_peak_frequency': 0.002381096381345436, 'MAG_y_median': 0.002278126360847267, 'MAG_z_median': 0.0021467435341496264, 'MAG_z_min': 0.0021226661641120578, 'norm_mag_std': 0.0020955758686158343, 'MAG_z_mean': 0.002038289089045923, 'east_dlt': 0.0019770557882855515, 'MAG_x_energy': 0.001967496395911165, 'ACC_z_peak_frequency': 0.0017411198938161285, 'GYR_y_avg_frequency': 0.0016679074669214732, 'norm_acc_kurtosis': 0.001448480063839064, 'GYR_x_min': 0.0014302405047112005, 'ACC_z_kurtosis': 0.0013500146401328916, 'ACC_z_entropy': 0.0012597010675520549, 'GYR_y_max': 0.0012588093936354238, 'MAG_y_energy': 0.0009041992632561487, 'speed_dlt': 0.0008817487534150877, 'MAG_z_entropy': 0.0008627696711144268, 'east_speed': 0.000803684865254983, 'MAG_z_cal_range': 0.0007975979522858311, 'acc': 0.0006743953047313293, 'MAG_z_avg_frequency': 0.0006252406234924944, 'norm_gyr_entropy': 0.0006049064575281247, 'norm_acc_median': 0.0005968177100294706, 'GYR_x_kurtosis': 0.0004116720698428096, 'MAG_y_entropy': 0.0003618322900687675, 'gps_snr_min': 0.0003610206490118184, 'GYR_x_cal_range': 0.00033566783951913183, 'GYR_x_energy': 0.0003305859699774303, 'GYR_z_energy': 0.0002920324587795311, 'time_dlt': 0.0002519086808586466, 'MAG_y_avg_frequency': 0.0002390611631358314, 'valid_dlt': 0.00023008214521916, 'norm_gyr_min': 0.00020318672492707556, 'norm_gyr_energy': 0.00018167254041575763, 'GYR_y_median': 0.00012770699568956864, 'GYR_y_min': 0.00010607656403903791, 'ACC_y_kurtosis': 5.5428320280566674e-05, 'distance_change': 5.419456143104536e-05, 'GYR_z_kurtosis': 4.0041587247857254e-05, 'GYR_x_max': 3.5224613392417277e-05, 'norm_mag_peak_frequency': 8.805381670816498e-06, 'norm_acc_skewness': 8.078270286298025e-06}
importance feature add well
training set : Bag ; testing set : Hand; test order: 2
X_val  : (143960, 160)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.56
predict lgb
Time elapsed for testing lgb: 2.24
predict xgb
Time elapsed for testing xgb: 3.59
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Bag ; testing set : Hand  testing result
tree_model.pred_mean
[[21060  1454     0  1625     0   344  4603   754]
 [  803 23487     9  1428     0    19   160   237]
 [    0  1183  1591     0     0     0     0     0]
 [   11   413     0 11456     0    61    91     0]
 [  112   226     0  1607  2703  2425 13401     0]
 [   10    18     0   213  2213  5857   869     0]
 [  214   123     0   415   592   449 19009  1008]
 [    0     0     0     0     0     0    74 21633]]
              precision    recall  f1-score   support

       Still       0.95      0.71      0.81     29840
     Walking       0.87      0.90      0.89     26143
         Run       0.99      0.57      0.73      2774
        Bike       0.68      0.95      0.80     12032
         Car       0.49      0.13      0.21     20474
         Bus       0.64      0.64      0.64      9180
       Train       0.50      0.87      0.63     21810
      Subway       0.92      1.00      0.95     21707

    accuracy                           0.74    143960
   macro avg       0.76      0.72      0.71    143960
weighted avg       0.76      0.74      0.72    143960

test over
get importance point
single experiment feature importance :{'norm_acc_std_window_20_mean': 0.32094720852918884, 'speed_wd_max_log': 0.15367669918530202, 'latitude': 0.13896242961858102, 'GYR_x_entropy': 0.13439155062394975, 'norm_acc_energy': 0.12696040435059586, 'norm_gyr_median_window_20_mean': 0.1127593560237492, 'norm_acc_mean': 0.098316899603118, 'north': 0.08458712687183031, 'norm_acc_std': 0.08303654130791127, 'norm_acc_avg_frequency': 0.08136578456258778, 'norm_acc_max': 0.06796175560443637, 'speed_square': 0.059872072028317735, 'gps_snr_mean_window_20_mean': 0.05964027767159885, 'ACC_y_std_window_20_mean': 0.05570351125994562, 'GYR_z_std': 0.054390502102954236, 'ACC_x_avg_frequency': 0.053867024364094004, 'ACC_x_cal_range': 0.05140412695362172, 'norm_mag_peak_frequency_window_20_mean': 0.04646317561081219, 'GYR_z_entropy': 0.04247238099507009, 'GYR_y_std_window_20_mean': 0.03849274595195267, 'speed_log': 0.03802989477211851, 'GYR_y_peak_frequency': 0.0378345892440624, 'GYR_z_avg_frequency': 0.037517252939536914, 'ACC_z_median': 0.03735577600256419, 'east': 0.034790496379156995, 'MAG_x_avg_frequency': 0.02997441792948318, 'ACC_z_mean': 0.02930713865669283, 'GYR_z_cal_range': 0.027347334640099395, 'norm_acc_peak_frequency': 0.026952717387999668, 'longitude': 0.025135085624543883, 'norm_gyr_min_window_20_mean': 0.02413283539069946, 'ACC_x_energy': 0.02404311394523809, 'gps_snr_max': 0.023650281872859513, 'norm_acc_entropy': 0.021577383686755394, 'ACC_x_std': 0.021509811586739282, 'ACC_y_std': 0.02079448415819419, 'distance': 0.019795523497697236, 'number_window_20_mean': 0.019604767046917985, 'gps_snr_mean': 0.018777745195168703, 'MAG_x_cal_range': 0.018318294605127548, 'ACC_y_entropy': 0.017912478566795047, 'speed_dif': 0.017315373052500173, 'norm_acc_min': 0.01703531561305416, 'ACC_y_energy': 0.01660550289426588, 'GYR_z_max': 0.016272150011575368, 'altitude': 0.01582471013398254, 'GYR_z_min': 0.014678651893317903, 'gps_snr_std': 0.014547360148986605, 'longitude_window_20_mean': 0.014263136800978255, 'accuracy': 0.013441529131924026, 'ACC_x_max': 0.01314420918308849, 'MAG_y_cal_range': 0.01310281667693403, 'ACC_x_mean': 0.013030578976176056, 'number': 0.01290928332626897, 'norm_gyr_median': 0.010692310438122686, 'acc_wd_std': 0.010664369178837984, 'ACC_z_energy': 0.010258548873197286, 'acc_wd_max_log': 0.01022379733576706, 'ACC_y_cal_range': 0.010035698224221328, 'GYR_y_energy': 0.009538345786261901, 'GYR_x_peak_frequency': 0.009360530113733943, 'MAG_x_std': 0.009233721159429883, 'ACC_x_median': 0.008954710127058382, 'ACC_z_std': 0.00880625250700485, 'norm_gyr_cal_range': 0.00875902784627281, 'ACC_y_peak_frequency': 0.008529830804787468, 'ACC_z_cal_range': 0.008159066031825679, 'norm_gyr_max': 0.00796681271223568, 'ACC_x_entropy': 0.007506471288850502, 'speed': 0.0074598052955148755, 'north_dlt': 0.00729382467024533, 'ACC_z_max': 0.00689035777193814, 'longitude_window_20_std': 0.0066895033751438555, 'ACC_z_skewness': 0.006633708506170984, 'MAG_y_min': 0.0060103933346149635, 'speed_wd_std': 0.00578151637834854, 'norm_gyr_std': 0.005701266155087847, 'GYR_y_std': 0.005569731427076014, 'norm_acc_cal_range': 0.0053906044246873844, 'ACC_y_mean': 0.0053745534156217425, 'ACC_x_min': 0.005228898914127811, 'MAG_y_std': 0.005174550017945532, 'ACC_x_peak_frequency': 0.005102249395944537, 'norm_mag_avg_frequency': 0.005069082370070355, 'MAG_z_max': 0.005004931568429934, 'MAG_y_max': 0.004966281791113124, 'GYR_x_std': 0.004794532572437068, 'GYR_x_avg_frequency': 0.0046675857522966695, 'MAG_x_max': 0.004536610788802721, 'MAG_x_min': 0.0044345385575904825, 'ACC_y_avg_frequency': 0.004357872384291887, 'norm_mag_cal_range': 0.004189187878211754, 'MAG_y_mean': 0.004178235412696231, 'ACC_y_median': 0.00414431766370766, 'availability': 0.004127393851998128, 'ACC_y_min': 0.004037476628643845, 'GYR_y_cal_range': 0.004012861289204004, 'norm_mag_min': 0.0037555056376720524, 'MAG_x_mean': 0.0036907249601176697, 'ACC_z_avg_frequency': 0.003632533778334167, 'norm_mag_entropy': 0.003607119615787545, 'norm_gyr_mean': 0.0034914138642223986, 'norm_mag_energy': 0.003448912399162422, 'norm_gyr_avg_frequency': 0.0034478845973374608, 'MAG_z_energy': 0.0033822006102021017, 'GYR_y_entropy': 0.0033595908652253323, 'MAG_x_median': 0.0033343001953548695, 'ACC_z_min': 0.003298194667446276, 'norm_mag_median': 0.0032848970576935255, 'norm_mag_max': 0.003181929369063858, 'norm_mag_mean': 0.0031789955794416487, 'MAG_x_entropy': 0.0031201170258675875, 'north_speed': 0.002953498166855891, 'ACC_y_max': 0.0027911040343649215, 'is_stop': 0.0027497190265447337, 'MAG_z_std': 0.0027346868429344797, 'norm_gyr_peak_frequency': 0.002692799524261621, 'GYR_z_peak_frequency': 0.002381096381345436, 'MAG_y_median': 0.002278126360847267, 'MAG_z_median': 0.0021467435341496264, 'MAG_z_min': 0.0021226661641120578, 'norm_mag_std': 0.0020955758686158343, 'MAG_z_mean': 0.002038289089045923, 'east_dlt': 0.0019770557882855515, 'MAG_x_energy': 0.001967496395911165, 'ACC_z_peak_frequency': 0.0017411198938161285, 'GYR_y_avg_frequency': 0.0016679074669214732, 'norm_acc_kurtosis': 0.001448480063839064, 'GYR_x_min': 0.0014302405047112005, 'ACC_z_kurtosis': 0.0013500146401328916, 'ACC_z_entropy': 0.0012597010675520549, 'GYR_y_max': 0.0012588093936354238, 'MAG_y_energy': 0.0009041992632561487, 'speed_dlt': 0.0008817487534150877, 'MAG_z_entropy': 0.0008627696711144268, 'east_speed': 0.000803684865254983, 'MAG_z_cal_range': 0.0007975979522858311, 'acc': 0.0006743953047313293, 'MAG_z_avg_frequency': 0.0006252406234924944, 'norm_gyr_entropy': 0.0006049064575281247, 'norm_acc_median': 0.0005968177100294706, 'GYR_x_kurtosis': 0.0004116720698428096, 'MAG_y_entropy': 0.0003618322900687675, 'gps_snr_min': 0.0003610206490118184, 'GYR_x_cal_range': 0.00033566783951913183, 'GYR_x_energy': 0.0003305859699774303, 'GYR_z_energy': 0.0002920324587795311, 'time_dlt': 0.0002519086808586466, 'MAG_y_avg_frequency': 0.0002390611631358314, 'valid_dlt': 0.00023008214521916, 'norm_gyr_min': 0.00020318672492707556, 'norm_gyr_energy': 0.00018167254041575763, 'GYR_y_median': 0.00012770699568956864, 'GYR_y_min': 0.00010607656403903791, 'ACC_y_kurtosis': 5.5428320280566674e-05, 'distance_change': 5.419456143104536e-05, 'GYR_z_kurtosis': 4.0041587247857254e-05, 'GYR_x_max': 3.5224613392417277e-05, 'norm_mag_peak_frequency': 8.805381670816498e-06, 'norm_acc_skewness': 8.078270286298025e-06}
importance feature add well
training set : Bag ; testing set : Hips; test order: 3
X_val  : (143960, 160)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.57
predict lgb
Time elapsed for testing lgb: 2.37
predict xgb
Time elapsed for testing xgb: 3.67
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Bag ; testing set : Hips  testing result
tree_model.pred_mean
[[21185  1784     0   284     0   651  5843    93]
 [  467 24099    56   383     0    45   633   460]
 [    0   926  1848     0     0     0     0     0]
 [   86  4709     0  7015     0   218     4     0]
 [   74    89     0     0  1641  2200 16470     0]
 [  275    48     0     0    88  7447  1322     0]
 [  301    66     0     0   376   844 19192  1031]
 [    0     0     0     0     0     0 11099 10608]]
              precision    recall  f1-score   support

       Still       0.95      0.71      0.81     29840
     Walking       0.76      0.92      0.83     26143
         Run       0.97      0.67      0.79      2774
        Bike       0.91      0.58      0.71     12032
         Car       0.78      0.08      0.15     20474
         Bus       0.65      0.81      0.72      9180
       Train       0.35      0.88      0.50     21810
      Subway       0.87      0.49      0.63     21707

    accuracy                           0.65    143960
   macro avg       0.78      0.64      0.64    143960
weighted avg       0.77      0.65      0.63    143960

test over
get importance point
single experiment feature importance :{'norm_acc_std_window_20_mean': 0.32094720852918884, 'speed_wd_max_log': 0.15367669918530202, 'latitude': 0.13896242961858102, 'GYR_x_entropy': 0.13439155062394975, 'norm_acc_energy': 0.12696040435059586, 'norm_gyr_median_window_20_mean': 0.1127593560237492, 'norm_acc_mean': 0.098316899603118, 'north': 0.08458712687183031, 'norm_acc_std': 0.08303654130791127, 'norm_acc_avg_frequency': 0.08136578456258778, 'norm_acc_max': 0.06796175560443637, 'speed_square': 0.059872072028317735, 'gps_snr_mean_window_20_mean': 0.05964027767159885, 'ACC_y_std_window_20_mean': 0.05570351125994562, 'GYR_z_std': 0.054390502102954236, 'ACC_x_avg_frequency': 0.053867024364094004, 'ACC_x_cal_range': 0.05140412695362172, 'norm_mag_peak_frequency_window_20_mean': 0.04646317561081219, 'GYR_z_entropy': 0.04247238099507009, 'GYR_y_std_window_20_mean': 0.03849274595195267, 'speed_log': 0.03802989477211851, 'GYR_y_peak_frequency': 0.0378345892440624, 'GYR_z_avg_frequency': 0.037517252939536914, 'ACC_z_median': 0.03735577600256419, 'east': 0.034790496379156995, 'MAG_x_avg_frequency': 0.02997441792948318, 'ACC_z_mean': 0.02930713865669283, 'GYR_z_cal_range': 0.027347334640099395, 'norm_acc_peak_frequency': 0.026952717387999668, 'longitude': 0.025135085624543883, 'norm_gyr_min_window_20_mean': 0.02413283539069946, 'ACC_x_energy': 0.02404311394523809, 'gps_snr_max': 0.023650281872859513, 'norm_acc_entropy': 0.021577383686755394, 'ACC_x_std': 0.021509811586739282, 'ACC_y_std': 0.02079448415819419, 'distance': 0.019795523497697236, 'number_window_20_mean': 0.019604767046917985, 'gps_snr_mean': 0.018777745195168703, 'MAG_x_cal_range': 0.018318294605127548, 'ACC_y_entropy': 0.017912478566795047, 'speed_dif': 0.017315373052500173, 'norm_acc_min': 0.01703531561305416, 'ACC_y_energy': 0.01660550289426588, 'GYR_z_max': 0.016272150011575368, 'altitude': 0.01582471013398254, 'GYR_z_min': 0.014678651893317903, 'gps_snr_std': 0.014547360148986605, 'longitude_window_20_mean': 0.014263136800978255, 'accuracy': 0.013441529131924026, 'ACC_x_max': 0.01314420918308849, 'MAG_y_cal_range': 0.01310281667693403, 'ACC_x_mean': 0.013030578976176056, 'number': 0.01290928332626897, 'norm_gyr_median': 0.010692310438122686, 'acc_wd_std': 0.010664369178837984, 'ACC_z_energy': 0.010258548873197286, 'acc_wd_max_log': 0.01022379733576706, 'ACC_y_cal_range': 0.010035698224221328, 'GYR_y_energy': 0.009538345786261901, 'GYR_x_peak_frequency': 0.009360530113733943, 'MAG_x_std': 0.009233721159429883, 'ACC_x_median': 0.008954710127058382, 'ACC_z_std': 0.00880625250700485, 'norm_gyr_cal_range': 0.00875902784627281, 'ACC_y_peak_frequency': 0.008529830804787468, 'ACC_z_cal_range': 0.008159066031825679, 'norm_gyr_max': 0.00796681271223568, 'ACC_x_entropy': 0.007506471288850502, 'speed': 0.0074598052955148755, 'north_dlt': 0.00729382467024533, 'ACC_z_max': 0.00689035777193814, 'longitude_window_20_std': 0.0066895033751438555, 'ACC_z_skewness': 0.006633708506170984, 'MAG_y_min': 0.0060103933346149635, 'speed_wd_std': 0.00578151637834854, 'norm_gyr_std': 0.005701266155087847, 'GYR_y_std': 0.005569731427076014, 'norm_acc_cal_range': 0.0053906044246873844, 'ACC_y_mean': 0.0053745534156217425, 'ACC_x_min': 0.005228898914127811, 'MAG_y_std': 0.005174550017945532, 'ACC_x_peak_frequency': 0.005102249395944537, 'norm_mag_avg_frequency': 0.005069082370070355, 'MAG_z_max': 0.005004931568429934, 'MAG_y_max': 0.004966281791113124, 'GYR_x_std': 0.004794532572437068, 'GYR_x_avg_frequency': 0.0046675857522966695, 'MAG_x_max': 0.004536610788802721, 'MAG_x_min': 0.0044345385575904825, 'ACC_y_avg_frequency': 0.004357872384291887, 'norm_mag_cal_range': 0.004189187878211754, 'MAG_y_mean': 0.004178235412696231, 'ACC_y_median': 0.00414431766370766, 'availability': 0.004127393851998128, 'ACC_y_min': 0.004037476628643845, 'GYR_y_cal_range': 0.004012861289204004, 'norm_mag_min': 0.0037555056376720524, 'MAG_x_mean': 0.0036907249601176697, 'ACC_z_avg_frequency': 0.003632533778334167, 'norm_mag_entropy': 0.003607119615787545, 'norm_gyr_mean': 0.0034914138642223986, 'norm_mag_energy': 0.003448912399162422, 'norm_gyr_avg_frequency': 0.0034478845973374608, 'MAG_z_energy': 0.0033822006102021017, 'GYR_y_entropy': 0.0033595908652253323, 'MAG_x_median': 0.0033343001953548695, 'ACC_z_min': 0.003298194667446276, 'norm_mag_median': 0.0032848970576935255, 'norm_mag_max': 0.003181929369063858, 'norm_mag_mean': 0.0031789955794416487, 'MAG_x_entropy': 0.0031201170258675875, 'north_speed': 0.002953498166855891, 'ACC_y_max': 0.0027911040343649215, 'is_stop': 0.0027497190265447337, 'MAG_z_std': 0.0027346868429344797, 'norm_gyr_peak_frequency': 0.002692799524261621, 'GYR_z_peak_frequency': 0.002381096381345436, 'MAG_y_median': 0.002278126360847267, 'MAG_z_median': 0.0021467435341496264, 'MAG_z_min': 0.0021226661641120578, 'norm_mag_std': 0.0020955758686158343, 'MAG_z_mean': 0.002038289089045923, 'east_dlt': 0.0019770557882855515, 'MAG_x_energy': 0.001967496395911165, 'ACC_z_peak_frequency': 0.0017411198938161285, 'GYR_y_avg_frequency': 0.0016679074669214732, 'norm_acc_kurtosis': 0.001448480063839064, 'GYR_x_min': 0.0014302405047112005, 'ACC_z_kurtosis': 0.0013500146401328916, 'ACC_z_entropy': 0.0012597010675520549, 'GYR_y_max': 0.0012588093936354238, 'MAG_y_energy': 0.0009041992632561487, 'speed_dlt': 0.0008817487534150877, 'MAG_z_entropy': 0.0008627696711144268, 'east_speed': 0.000803684865254983, 'MAG_z_cal_range': 0.0007975979522858311, 'acc': 0.0006743953047313293, 'MAG_z_avg_frequency': 0.0006252406234924944, 'norm_gyr_entropy': 0.0006049064575281247, 'norm_acc_median': 0.0005968177100294706, 'GYR_x_kurtosis': 0.0004116720698428096, 'MAG_y_entropy': 0.0003618322900687675, 'gps_snr_min': 0.0003610206490118184, 'GYR_x_cal_range': 0.00033566783951913183, 'GYR_x_energy': 0.0003305859699774303, 'GYR_z_energy': 0.0002920324587795311, 'time_dlt': 0.0002519086808586466, 'MAG_y_avg_frequency': 0.0002390611631358314, 'valid_dlt': 0.00023008214521916, 'norm_gyr_min': 0.00020318672492707556, 'norm_gyr_energy': 0.00018167254041575763, 'GYR_y_median': 0.00012770699568956864, 'GYR_y_min': 0.00010607656403903791, 'ACC_y_kurtosis': 5.5428320280566674e-05, 'distance_change': 5.419456143104536e-05, 'GYR_z_kurtosis': 4.0041587247857254e-05, 'GYR_x_max': 3.5224613392417277e-05, 'norm_mag_peak_frequency': 8.805381670816498e-06, 'norm_acc_skewness': 8.078270286298025e-06}
importance feature add well
training set:Hand,the 2th training set
begin training
X_train: (1050526, 160)
y_train: 1050526
Training rf...
Time elapsed for training rf: 395.17
Training LightGBM...
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Warning] Auto-choosing col-wise multi-threading, the overhead of testing was 1.679115 seconds.
You can set `force_col_wise=true` to remove the overhead.
[LightGBM] [Info] Total Bins 37390
[LightGBM] [Info] Number of data points in the train set: 840420, number of used features: 160
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Info] Start training from score -2.152072
[LightGBM] [Info] Start training from score -2.146041
[LightGBM] [Info] Start training from score -2.237141
[LightGBM] [Info] Start training from score -2.190299
[LightGBM] [Info] Start training from score -1.889250
[LightGBM] [Info] Start training from score -2.002451
[LightGBM] [Info] Start training from score -1.906725
[LightGBM] [Info] Start training from score -2.176757
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[1]	valid_0's multi_logloss: 1.56317
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[2]	valid_0's multi_logloss: 1.28582
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[3]	valid_0's multi_logloss: 1.09153
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[4]	valid_0's multi_logloss: 0.94315
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[5]	valid_0's multi_logloss: 0.826841
[6]	valid_0's multi_logloss: 0.729419
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[7]	valid_0's multi_logloss: 0.649632
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[8]	valid_0's multi_logloss: 0.58114
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[9]	valid_0's multi_logloss: 0.525168
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[10]	valid_0's multi_logloss: 0.477462
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[11]	valid_0's multi_logloss: 0.436181
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[12]	valid_0's multi_logloss: 0.401526
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[13]	valid_0's multi_logloss: 0.370913
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[14]	valid_0's multi_logloss: 0.343532
[15]	valid_0's multi_logloss: 0.320405
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[16]	valid_0's multi_logloss: 0.299953
[17]	valid_0's multi_logloss: 0.282358
[18]	valid_0's multi_logloss: 0.266495
[19]	valid_0's multi_logloss: 0.252142
[20]	valid_0's multi_logloss: 0.239251
[21]	valid_0's multi_logloss: 0.227626
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[22]	valid_0's multi_logloss: 0.217081
[23]	valid_0's multi_logloss: 0.207567
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[24]	valid_0's multi_logloss: 0.198292
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[25]	valid_0's multi_logloss: 0.19051
[26]	valid_0's multi_logloss: 0.182753
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[27]	valid_0's multi_logloss: 0.17496
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[28]	valid_0's multi_logloss: 0.167894
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[29]	valid_0's multi_logloss: 0.161282
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[30]	valid_0's multi_logloss: 0.155664
[31]	valid_0's multi_logloss: 0.15077
[32]	valid_0's multi_logloss: 0.145838
[33]	valid_0's multi_logloss: 0.141464
[34]	valid_0's multi_logloss: 0.137188
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[35]	valid_0's multi_logloss: 0.132669
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[36]	valid_0's multi_logloss: 0.128237
[37]	valid_0's multi_logloss: 0.124511
[38]	valid_0's multi_logloss: 0.120404
[39]	valid_0's multi_logloss: 0.117056
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[40]	valid_0's multi_logloss: 0.113952
[41]	valid_0's multi_logloss: 0.110837
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[42]	valid_0's multi_logloss: 0.10745
[43]	valid_0's multi_logloss: 0.105065
[44]	valid_0's multi_logloss: 0.102202
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[45]	valid_0's multi_logloss: 0.0999142
[46]	valid_0's multi_logloss: 0.0973542
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[47]	valid_0's multi_logloss: 0.0953228
[48]	valid_0's multi_logloss: 0.0934113
[49]	valid_0's multi_logloss: 0.0913709
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[50]	valid_0's multi_logloss: 0.0885504
[51]	valid_0's multi_logloss: 0.0863991
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[52]	valid_0's multi_logloss: 0.0846367
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[53]	valid_0's multi_logloss: 0.0826846
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[54]	valid_0's multi_logloss: 0.0812717
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[55]	valid_0's multi_logloss: 0.0796921
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[56]	valid_0's multi_logloss: 0.0776555
[57]	valid_0's multi_logloss: 0.0764327
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[58]	valid_0's multi_logloss: 0.0748965
[59]	valid_0's multi_logloss: 0.0735593
[60]	valid_0's multi_logloss: 0.072251
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[61]	valid_0's multi_logloss: 0.0709655
[62]	valid_0's multi_logloss: 0.0696818
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[63]	valid_0's multi_logloss: 0.0681196
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[64]	valid_0's multi_logloss: 0.0670799
[65]	valid_0's multi_logloss: 0.065867
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[66]	valid_0's multi_logloss: 0.0647241
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[67]	valid_0's multi_logloss: 0.0636897
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[68]	valid_0's multi_logloss: 0.0624502
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[69]	valid_0's multi_logloss: 0.0612868
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[70]	valid_0's multi_logloss: 0.0603562
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[71]	valid_0's multi_logloss: 0.059123
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[72]	valid_0's multi_logloss: 0.0581104
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[73]	valid_0's multi_logloss: 0.0571336
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[74]	valid_0's multi_logloss: 0.0561614
[75]	valid_0's multi_logloss: 0.0552046
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[76]	valid_0's multi_logloss: 0.0542134
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[77]	valid_0's multi_logloss: 0.0533015
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[78]	valid_0's multi_logloss: 0.0524691
[79]	valid_0's multi_logloss: 0.0516111
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[80]	valid_0's multi_logloss: 0.0507993
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[81]	valid_0's multi_logloss: 0.0499857
[82]	valid_0's multi_logloss: 0.0493727
[83]	valid_0's multi_logloss: 0.0484064
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[84]	valid_0's multi_logloss: 0.0477921
[85]	valid_0's multi_logloss: 0.0470056
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[86]	valid_0's multi_logloss: 0.0461437
[87]	valid_0's multi_logloss: 0.0453318
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[88]	valid_0's multi_logloss: 0.0447229
[89]	valid_0's multi_logloss: 0.044089
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[90]	valid_0's multi_logloss: 0.043497
[91]	valid_0's multi_logloss: 0.0425853
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[92]	valid_0's multi_logloss: 0.0419651
[93]	valid_0's multi_logloss: 0.0414216
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[94]	valid_0's multi_logloss: 0.040928
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[95]	valid_0's multi_logloss: 0.0403666
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[96]	valid_0's multi_logloss: 0.0395652
[97]	valid_0's multi_logloss: 0.0390884
[98]	valid_0's multi_logloss: 0.0386432
[99]	valid_0's multi_logloss: 0.0381454
[100]	valid_0's multi_logloss: 0.0374947
Time elapsed for training LightGBM: 2815.51
Training XGBoost...
Time elapsed for training XGBoost: 1084.28
begin testing
training set : Hand ; testing set : Torso; test order: 0
X_val  : (143960, 160)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.54
predict lgb
Time elapsed for testing lgb: 2.3
predict xgb
Time elapsed for testing xgb: 3.41
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Hand ; testing set : Torso  testing result
tree_model.pred_mean
[[25285    92     0     0   129   527  3624   183]
 [ 2176 20118     4   171     8   983  2241   442]
 [    0  1900   874     0     0     0     0     0]
 [  857   544     0  1569  4851  3767   444     0]
 [  363    33     0     0  9909  6400  3769     0]
 [ 2246    23     0     0    90  5085  1736     0]
 [ 2651     6     0     0   359  1444 16428   922]
 [    0     0     0     0     0     0 11099 10608]]
              precision    recall  f1-score   support

       Still       0.75      0.85      0.80     29840
     Walking       0.89      0.77      0.82     26143
         Run       1.00      0.32      0.48      2774
        Bike       0.90      0.13      0.23     12032
         Car       0.65      0.48      0.55     20474
         Bus       0.28      0.55      0.37      9180
       Train       0.42      0.75      0.54     21810
      Subway       0.87      0.49      0.63     21707

    accuracy                           0.62    143960
   macro avg       0.72      0.54      0.55    143960
weighted avg       0.72      0.62      0.62    143960

test over
get importance point
single experiment feature importance :{'norm_acc_std_window_20_mean': 0.3028480950742143, 'latitude': 0.19009136078519295, 'speed_wd_max_log': 0.1687938787514039, 'ACC_x_energy': 0.12889988723783738, 'ACC_y_std_window_20_mean': 0.11663096447572043, 'norm_mag_peak_frequency_window_20_mean': 0.09635111317329048, 'north': 0.09392374291271863, 'speed_square': 0.09114896085184768, 'gps_snr_mean_window_20_mean': 0.08131869984496527, 'ACC_y_avg_frequency': 0.08047395436046414, 'norm_acc_energy': 0.0636046338599804, 'ACC_x_avg_frequency': 0.060675323681305064, 'norm_acc_std': 0.05918589109946939, 'speed': 0.05843413315502676, 'speed_log': 0.05811312650690979, 'distance': 0.05276333007303818, 'norm_acc_entropy': 0.05248021790508085, 'east': 0.04996781866705536, 'MAG_z_cal_range': 0.04502867798551676, 'norm_gyr_mean': 0.04111723312065487, 'number_window_20_mean': 0.03730429573175284, 'speed_dif': 0.03658548766876611, 'ACC_x_entropy': 0.035605184576688535, 'norm_gyr_median_window_20_mean': 0.0345228188409192, 'acc_wd_max_log': 0.03370911857658378, 'gps_snr_max': 0.03162242663179743, 'norm_gyr_min_window_20_mean': 0.03133293105094888, 'ACC_z_max': 0.030982155513412386, 'norm_acc_avg_frequency': 0.030297409101406332, 'longitude': 0.03020725795607479, 'longitude_window_20_std': 0.03009463315251933, 'ACC_y_entropy': 0.02578233587790666, 'MAG_x_cal_range': 0.024761146308106653, 'ACC_y_cal_range': 0.02418796184579669, 'number': 0.02239963810351165, 'altitude': 0.019804528752582155, 'longitude_window_20_mean': 0.01786873627451231, 'gps_snr_mean': 0.017268297518017502, 'ACC_x_cal_range': 0.017109363920769494, 'norm_gyr_median': 0.01702705195703913, 'GYR_z_avg_frequency': 0.01577704438246616, 'ACC_x_std': 0.015767453858813275, 'accuracy': 0.01550084264254237, 'MAG_y_energy': 0.01522306364900261, 'GYR_y_std_window_20_mean': 0.01468529172912566, 'ACC_z_energy': 0.014150312165722953, 'GYR_z_peak_frequency': 0.01345455575639962, 'MAG_y_cal_range': 0.013329905502305185, 'ACC_y_std': 0.013207804862531014, 'norm_acc_peak_frequency': 0.012779963034979042, 'ACC_y_peak_frequency': 0.012687431856174887, 'GYR_x_entropy': 0.012361308623214197, 'ACC_y_energy': 0.012140553358505744, 'norm_acc_max': 0.011457650182148909, 'norm_mag_avg_frequency': 0.01138237590653247, 'norm_acc_min': 0.010303450927170102, 'norm_acc_cal_range': 0.010135202757002927, 'ACC_z_mean': 0.010100655029299958, 'ACC_x_peak_frequency': 0.00976688168375979, 'norm_acc_mean': 0.009562387342693811, 'ACC_z_std': 0.009541126861009778, 'norm_mag_std': 0.009510276525279054, 'GYR_y_peak_frequency': 0.00931383089352019, 'norm_mag_cal_range': 0.008930559879403568, 'gps_snr_std': 0.008893485139835702, 'ACC_z_median': 0.008883694224363992, 'acc_wd_std': 0.008618281737742674, 'availability': 0.008401895981427251, 'GYR_x_peak_frequency': 0.008337001313542664, 'norm_gyr_max': 0.008063333987092369, 'ACC_z_avg_frequency': 0.00805487776837185, 'ACC_z_peak_frequency': 0.00749733378543311, 'GYR_z_min': 0.00744193874259232, 'norm_mag_min': 0.007245266566168881, 'GYR_y_avg_frequency': 0.006768455992723404, 'speed_wd_std': 0.006290702482040111, 'ACC_y_mean': 0.006180673334347849, 'ACC_z_min': 0.005991865412960917, 'GYR_x_avg_frequency': 0.005980493736348784, 'north_speed': 0.005781139592517678, 'MAG_z_std': 0.005616192700512805, 'GYR_z_std': 0.0055764124076556, 'GYR_z_energy': 0.005236366305188543, 'norm_gyr_min': 0.0051722230646354065, 'norm_gyr_avg_frequency': 0.004649365453562985, 'ACC_z_cal_range': 0.0046093582684612, 'norm_mag_entropy': 0.004479216452045583, 'east_dlt': 0.004329951978332712, 'norm_gyr_energy': 0.004168643595215063, 'norm_mag_max': 0.0041280035629554235, 'is_stop': 0.004123351195727529, 'norm_mag_median': 0.004072574581742715, 'ACC_y_median': 0.003889186868430344, 'north_dlt': 0.003723098875709328, 'MAG_z_entropy': 0.003643796085712131, 'east_speed': 0.003525864976716258, 'norm_mag_mean': 0.0033079420409536523, 'norm_mag_energy': 0.0032844662955777678, 'MAG_z_min': 0.0031366033178256278, 'ACC_y_min': 0.003088030229537216, 'GYR_z_entropy': 0.0026814168192779188, 'ACC_z_kurtosis': 0.0026271665933872324, 'ACC_x_mean': 0.0026172199975754394, 'ACC_z_entropy': 0.0025527643419749426, 'MAG_y_std': 0.002422312249285411, 'MAG_x_energy': 0.0024013598668841613, 'ACC_x_max': 0.0021686133449195857, 'MAG_y_max': 0.002151402493411762, 'MAG_x_median': 0.0019772484232277883, 'GYR_y_cal_range': 0.0019488949041939047, 'MAG_x_entropy': 0.0019361285306972666, 'MAG_x_std': 0.0019290583244551086, 'MAG_x_min': 0.0017903645661421163, 'MAG_y_avg_frequency': 0.0017463789193537728, 'norm_gyr_cal_range': 0.0017430140003151056, 'MAG_z_mean': 0.0017401392999032517, 'ACC_y_max': 0.001681751097405036, 'ACC_x_median': 0.001619381534138114, 'MAG_x_avg_frequency': 0.001590301135792533, 'MAG_y_mean': 0.0014542936538032086, 'ACC_y_kurtosis': 0.0014239549581311734, 'MAG_z_median': 0.0013728457015998318, 'MAG_y_min': 0.00135117777730385, 'ACC_x_min': 0.0013112851541316158, 'MAG_y_median': 0.0012407883585457769, 'norm_gyr_entropy': 0.0012052802611028505, 'norm_gyr_std': 0.0011781532708117271, 'MAG_x_mean': 0.0011674433250434615, 'MAG_z_avg_frequency': 0.001135593929699957, 'MAG_z_max': 0.0011127385022026276, 'norm_acc_median': 0.001079592858135164, 'speed_dlt': 0.0010047867244462856, 'norm_acc_kurtosis': 0.000984429847797267, 'GYR_x_energy': 0.0009711818615287568, 'norm_gyr_peak_frequency': 0.0009418308463403869, 'GYR_x_min': 0.000834279074767206, 'norm_mag_peak_frequency': 0.0008156753346631035, 'gps_snr_min': 0.0007460319050426543, 'GYR_x_std': 0.0006843750052583612, 'GYR_y_entropy': 0.0006724248082251417, 'MAG_x_max': 0.0006269679046097679, 'MAG_y_entropy': 0.0004198907624668825, 'GYR_y_std': 0.00037822038071813136, 'acc': 0.000373328932016758, 'valid_dlt': 0.00036078637294590635, 'GYR_y_energy': 0.00032879822430273507, 'GYR_x_cal_range': 0.0003234278873131421, 'MAG_z_energy': 0.0003124710016425619, 'GYR_y_min': 0.00026681461780712115, 'time_dlt': 0.0002353473502992108, 'GYR_x_max': 0.00020450474080927313, 'GYR_y_max': 0.0002035356313018926, 'distance_change': 0.000150830364233801, 'GYR_z_cal_range': 7.753493485170383e-05, 'GYR_y_median': 4.563546239651636e-05, 'GYR_z_max': 3.436296744014253e-05, 'norm_acc_skewness': 2.7333316167785204e-05, 'GYR_x_kurtosis': 1.787723197905871e-05, 'GYR_z_kurtosis': 1.0151857574925962e-05, 'ACC_z_skewness': 4.2402557657136086e-06}
importance feature add well
training set : Hand ; testing set : Bag; test order: 1
X_val  : (143960, 160)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.41
predict lgb
Time elapsed for testing lgb: 2.19
predict xgb
Time elapsed for testing xgb: 3.43
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Hand ; testing set : Bag  testing result
tree_model.pred_mean
[[25445   173     0     0   526  1680  1026   990]
 [ 1612 22365     0   233   503   380   619   431]
 [    0   945   632  1197     0     0     0     0]
 [ 1040   646     0     0  5451  4869    26     0]
 [  145     0     0    12 15094  4827   396     0]
 [    0     3     0     0  2018  6579   580     0]
 [  532    18     0     0   456   710 19173   921]
 [    0     0     0     0     0     0  5373 16334]]
              precision    recall  f1-score   support

       Still       0.88      0.85      0.87     29840
     Walking       0.93      0.86      0.89     26143
         Run       1.00      0.23      0.37      2774
        Bike       0.00      0.00      0.00     12032
         Car       0.63      0.74      0.68     20474
         Bus       0.35      0.72      0.47      9180
       Train       0.71      0.88      0.78     21810
      Subway       0.87      0.75      0.81     21707

    accuracy                           0.73    143960
   macro avg       0.67      0.63      0.61    143960
weighted avg       0.72      0.73      0.72    143960

test over
get importance point
single experiment feature importance :{'norm_acc_std_window_20_mean': 0.3028480950742143, 'latitude': 0.19009136078519295, 'speed_wd_max_log': 0.1687938787514039, 'ACC_x_energy': 0.12889988723783738, 'ACC_y_std_window_20_mean': 0.11663096447572043, 'norm_mag_peak_frequency_window_20_mean': 0.09635111317329048, 'north': 0.09392374291271863, 'speed_square': 0.09114896085184768, 'gps_snr_mean_window_20_mean': 0.08131869984496527, 'ACC_y_avg_frequency': 0.08047395436046414, 'norm_acc_energy': 0.0636046338599804, 'ACC_x_avg_frequency': 0.060675323681305064, 'norm_acc_std': 0.05918589109946939, 'speed': 0.05843413315502676, 'speed_log': 0.05811312650690979, 'distance': 0.05276333007303818, 'norm_acc_entropy': 0.05248021790508085, 'east': 0.04996781866705536, 'MAG_z_cal_range': 0.04502867798551676, 'norm_gyr_mean': 0.04111723312065487, 'number_window_20_mean': 0.03730429573175284, 'speed_dif': 0.03658548766876611, 'ACC_x_entropy': 0.035605184576688535, 'norm_gyr_median_window_20_mean': 0.0345228188409192, 'acc_wd_max_log': 0.03370911857658378, 'gps_snr_max': 0.03162242663179743, 'norm_gyr_min_window_20_mean': 0.03133293105094888, 'ACC_z_max': 0.030982155513412386, 'norm_acc_avg_frequency': 0.030297409101406332, 'longitude': 0.03020725795607479, 'longitude_window_20_std': 0.03009463315251933, 'ACC_y_entropy': 0.02578233587790666, 'MAG_x_cal_range': 0.024761146308106653, 'ACC_y_cal_range': 0.02418796184579669, 'number': 0.02239963810351165, 'altitude': 0.019804528752582155, 'longitude_window_20_mean': 0.01786873627451231, 'gps_snr_mean': 0.017268297518017502, 'ACC_x_cal_range': 0.017109363920769494, 'norm_gyr_median': 0.01702705195703913, 'GYR_z_avg_frequency': 0.01577704438246616, 'ACC_x_std': 0.015767453858813275, 'accuracy': 0.01550084264254237, 'MAG_y_energy': 0.01522306364900261, 'GYR_y_std_window_20_mean': 0.01468529172912566, 'ACC_z_energy': 0.014150312165722953, 'GYR_z_peak_frequency': 0.01345455575639962, 'MAG_y_cal_range': 0.013329905502305185, 'ACC_y_std': 0.013207804862531014, 'norm_acc_peak_frequency': 0.012779963034979042, 'ACC_y_peak_frequency': 0.012687431856174887, 'GYR_x_entropy': 0.012361308623214197, 'ACC_y_energy': 0.012140553358505744, 'norm_acc_max': 0.011457650182148909, 'norm_mag_avg_frequency': 0.01138237590653247, 'norm_acc_min': 0.010303450927170102, 'norm_acc_cal_range': 0.010135202757002927, 'ACC_z_mean': 0.010100655029299958, 'ACC_x_peak_frequency': 0.00976688168375979, 'norm_acc_mean': 0.009562387342693811, 'ACC_z_std': 0.009541126861009778, 'norm_mag_std': 0.009510276525279054, 'GYR_y_peak_frequency': 0.00931383089352019, 'norm_mag_cal_range': 0.008930559879403568, 'gps_snr_std': 0.008893485139835702, 'ACC_z_median': 0.008883694224363992, 'acc_wd_std': 0.008618281737742674, 'availability': 0.008401895981427251, 'GYR_x_peak_frequency': 0.008337001313542664, 'norm_gyr_max': 0.008063333987092369, 'ACC_z_avg_frequency': 0.00805487776837185, 'ACC_z_peak_frequency': 0.00749733378543311, 'GYR_z_min': 0.00744193874259232, 'norm_mag_min': 0.007245266566168881, 'GYR_y_avg_frequency': 0.006768455992723404, 'speed_wd_std': 0.006290702482040111, 'ACC_y_mean': 0.006180673334347849, 'ACC_z_min': 0.005991865412960917, 'GYR_x_avg_frequency': 0.005980493736348784, 'north_speed': 0.005781139592517678, 'MAG_z_std': 0.005616192700512805, 'GYR_z_std': 0.0055764124076556, 'GYR_z_energy': 0.005236366305188543, 'norm_gyr_min': 0.0051722230646354065, 'norm_gyr_avg_frequency': 0.004649365453562985, 'ACC_z_cal_range': 0.0046093582684612, 'norm_mag_entropy': 0.004479216452045583, 'east_dlt': 0.004329951978332712, 'norm_gyr_energy': 0.004168643595215063, 'norm_mag_max': 0.0041280035629554235, 'is_stop': 0.004123351195727529, 'norm_mag_median': 0.004072574581742715, 'ACC_y_median': 0.003889186868430344, 'north_dlt': 0.003723098875709328, 'MAG_z_entropy': 0.003643796085712131, 'east_speed': 0.003525864976716258, 'norm_mag_mean': 0.0033079420409536523, 'norm_mag_energy': 0.0032844662955777678, 'MAG_z_min': 0.0031366033178256278, 'ACC_y_min': 0.003088030229537216, 'GYR_z_entropy': 0.0026814168192779188, 'ACC_z_kurtosis': 0.0026271665933872324, 'ACC_x_mean': 0.0026172199975754394, 'ACC_z_entropy': 0.0025527643419749426, 'MAG_y_std': 0.002422312249285411, 'MAG_x_energy': 0.0024013598668841613, 'ACC_x_max': 0.0021686133449195857, 'MAG_y_max': 0.002151402493411762, 'MAG_x_median': 0.0019772484232277883, 'GYR_y_cal_range': 0.0019488949041939047, 'MAG_x_entropy': 0.0019361285306972666, 'MAG_x_std': 0.0019290583244551086, 'MAG_x_min': 0.0017903645661421163, 'MAG_y_avg_frequency': 0.0017463789193537728, 'norm_gyr_cal_range': 0.0017430140003151056, 'MAG_z_mean': 0.0017401392999032517, 'ACC_y_max': 0.001681751097405036, 'ACC_x_median': 0.001619381534138114, 'MAG_x_avg_frequency': 0.001590301135792533, 'MAG_y_mean': 0.0014542936538032086, 'ACC_y_kurtosis': 0.0014239549581311734, 'MAG_z_median': 0.0013728457015998318, 'MAG_y_min': 0.00135117777730385, 'ACC_x_min': 0.0013112851541316158, 'MAG_y_median': 0.0012407883585457769, 'norm_gyr_entropy': 0.0012052802611028505, 'norm_gyr_std': 0.0011781532708117271, 'MAG_x_mean': 0.0011674433250434615, 'MAG_z_avg_frequency': 0.001135593929699957, 'MAG_z_max': 0.0011127385022026276, 'norm_acc_median': 0.001079592858135164, 'speed_dlt': 0.0010047867244462856, 'norm_acc_kurtosis': 0.000984429847797267, 'GYR_x_energy': 0.0009711818615287568, 'norm_gyr_peak_frequency': 0.0009418308463403869, 'GYR_x_min': 0.000834279074767206, 'norm_mag_peak_frequency': 0.0008156753346631035, 'gps_snr_min': 0.0007460319050426543, 'GYR_x_std': 0.0006843750052583612, 'GYR_y_entropy': 0.0006724248082251417, 'MAG_x_max': 0.0006269679046097679, 'MAG_y_entropy': 0.0004198907624668825, 'GYR_y_std': 0.00037822038071813136, 'acc': 0.000373328932016758, 'valid_dlt': 0.00036078637294590635, 'GYR_y_energy': 0.00032879822430273507, 'GYR_x_cal_range': 0.0003234278873131421, 'MAG_z_energy': 0.0003124710016425619, 'GYR_y_min': 0.00026681461780712115, 'time_dlt': 0.0002353473502992108, 'GYR_x_max': 0.00020450474080927313, 'GYR_y_max': 0.0002035356313018926, 'distance_change': 0.000150830364233801, 'GYR_z_cal_range': 7.753493485170383e-05, 'GYR_y_median': 4.563546239651636e-05, 'GYR_z_max': 3.436296744014253e-05, 'norm_acc_skewness': 2.7333316167785204e-05, 'GYR_x_kurtosis': 1.787723197905871e-05, 'GYR_z_kurtosis': 1.0151857574925962e-05, 'ACC_z_skewness': 4.2402557657136086e-06}
importance feature add well
training set : Hand ; testing set : Hand; test order: 2
X_val  : (143960, 160)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.45
predict lgb
Time elapsed for testing lgb: 2.28
predict xgb
Time elapsed for testing xgb: 3.63
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Hand ; testing set : Hand  testing result
tree_model.pred_mean
[[26014   329     0    10    22   702  1785   978]
 [ 2182 21903     4   332   102   518   677   425]
 [    0   603  2171     0     0     0     0     0]
 [ 1520   109     0  5965  3218  1043   177     0]
 [  340    96     0     0 13006  5066  1966     0]
 [   23    16     0     0  1059  7092   990     0]
 [  317    74     0     0   860   596 18831  1132]
 [    0     4     0     0     0     0    92 21611]]
              precision    recall  f1-score   support

       Still       0.86      0.87      0.86     29840
     Walking       0.95      0.84      0.89     26143
         Run       1.00      0.78      0.88      2774
        Bike       0.95      0.50      0.65     12032
         Car       0.71      0.64      0.67     20474
         Bus       0.47      0.77      0.59      9180
       Train       0.77      0.86      0.81     21810
      Subway       0.90      1.00      0.94     21707

    accuracy                           0.81    143960
   macro avg       0.82      0.78      0.79    143960
weighted avg       0.83      0.81      0.81    143960

test over
get importance point
single experiment feature importance :{'norm_acc_std_window_20_mean': 0.3028480950742143, 'latitude': 0.19009136078519295, 'speed_wd_max_log': 0.1687938787514039, 'ACC_x_energy': 0.12889988723783738, 'ACC_y_std_window_20_mean': 0.11663096447572043, 'norm_mag_peak_frequency_window_20_mean': 0.09635111317329048, 'north': 0.09392374291271863, 'speed_square': 0.09114896085184768, 'gps_snr_mean_window_20_mean': 0.08131869984496527, 'ACC_y_avg_frequency': 0.08047395436046414, 'norm_acc_energy': 0.0636046338599804, 'ACC_x_avg_frequency': 0.060675323681305064, 'norm_acc_std': 0.05918589109946939, 'speed': 0.05843413315502676, 'speed_log': 0.05811312650690979, 'distance': 0.05276333007303818, 'norm_acc_entropy': 0.05248021790508085, 'east': 0.04996781866705536, 'MAG_z_cal_range': 0.04502867798551676, 'norm_gyr_mean': 0.04111723312065487, 'number_window_20_mean': 0.03730429573175284, 'speed_dif': 0.03658548766876611, 'ACC_x_entropy': 0.035605184576688535, 'norm_gyr_median_window_20_mean': 0.0345228188409192, 'acc_wd_max_log': 0.03370911857658378, 'gps_snr_max': 0.03162242663179743, 'norm_gyr_min_window_20_mean': 0.03133293105094888, 'ACC_z_max': 0.030982155513412386, 'norm_acc_avg_frequency': 0.030297409101406332, 'longitude': 0.03020725795607479, 'longitude_window_20_std': 0.03009463315251933, 'ACC_y_entropy': 0.02578233587790666, 'MAG_x_cal_range': 0.024761146308106653, 'ACC_y_cal_range': 0.02418796184579669, 'number': 0.02239963810351165, 'altitude': 0.019804528752582155, 'longitude_window_20_mean': 0.01786873627451231, 'gps_snr_mean': 0.017268297518017502, 'ACC_x_cal_range': 0.017109363920769494, 'norm_gyr_median': 0.01702705195703913, 'GYR_z_avg_frequency': 0.01577704438246616, 'ACC_x_std': 0.015767453858813275, 'accuracy': 0.01550084264254237, 'MAG_y_energy': 0.01522306364900261, 'GYR_y_std_window_20_mean': 0.01468529172912566, 'ACC_z_energy': 0.014150312165722953, 'GYR_z_peak_frequency': 0.01345455575639962, 'MAG_y_cal_range': 0.013329905502305185, 'ACC_y_std': 0.013207804862531014, 'norm_acc_peak_frequency': 0.012779963034979042, 'ACC_y_peak_frequency': 0.012687431856174887, 'GYR_x_entropy': 0.012361308623214197, 'ACC_y_energy': 0.012140553358505744, 'norm_acc_max': 0.011457650182148909, 'norm_mag_avg_frequency': 0.01138237590653247, 'norm_acc_min': 0.010303450927170102, 'norm_acc_cal_range': 0.010135202757002927, 'ACC_z_mean': 0.010100655029299958, 'ACC_x_peak_frequency': 0.00976688168375979, 'norm_acc_mean': 0.009562387342693811, 'ACC_z_std': 0.009541126861009778, 'norm_mag_std': 0.009510276525279054, 'GYR_y_peak_frequency': 0.00931383089352019, 'norm_mag_cal_range': 0.008930559879403568, 'gps_snr_std': 0.008893485139835702, 'ACC_z_median': 0.008883694224363992, 'acc_wd_std': 0.008618281737742674, 'availability': 0.008401895981427251, 'GYR_x_peak_frequency': 0.008337001313542664, 'norm_gyr_max': 0.008063333987092369, 'ACC_z_avg_frequency': 0.00805487776837185, 'ACC_z_peak_frequency': 0.00749733378543311, 'GYR_z_min': 0.00744193874259232, 'norm_mag_min': 0.007245266566168881, 'GYR_y_avg_frequency': 0.006768455992723404, 'speed_wd_std': 0.006290702482040111, 'ACC_y_mean': 0.006180673334347849, 'ACC_z_min': 0.005991865412960917, 'GYR_x_avg_frequency': 0.005980493736348784, 'north_speed': 0.005781139592517678, 'MAG_z_std': 0.005616192700512805, 'GYR_z_std': 0.0055764124076556, 'GYR_z_energy': 0.005236366305188543, 'norm_gyr_min': 0.0051722230646354065, 'norm_gyr_avg_frequency': 0.004649365453562985, 'ACC_z_cal_range': 0.0046093582684612, 'norm_mag_entropy': 0.004479216452045583, 'east_dlt': 0.004329951978332712, 'norm_gyr_energy': 0.004168643595215063, 'norm_mag_max': 0.0041280035629554235, 'is_stop': 0.004123351195727529, 'norm_mag_median': 0.004072574581742715, 'ACC_y_median': 0.003889186868430344, 'north_dlt': 0.003723098875709328, 'MAG_z_entropy': 0.003643796085712131, 'east_speed': 0.003525864976716258, 'norm_mag_mean': 0.0033079420409536523, 'norm_mag_energy': 0.0032844662955777678, 'MAG_z_min': 0.0031366033178256278, 'ACC_y_min': 0.003088030229537216, 'GYR_z_entropy': 0.0026814168192779188, 'ACC_z_kurtosis': 0.0026271665933872324, 'ACC_x_mean': 0.0026172199975754394, 'ACC_z_entropy': 0.0025527643419749426, 'MAG_y_std': 0.002422312249285411, 'MAG_x_energy': 0.0024013598668841613, 'ACC_x_max': 0.0021686133449195857, 'MAG_y_max': 0.002151402493411762, 'MAG_x_median': 0.0019772484232277883, 'GYR_y_cal_range': 0.0019488949041939047, 'MAG_x_entropy': 0.0019361285306972666, 'MAG_x_std': 0.0019290583244551086, 'MAG_x_min': 0.0017903645661421163, 'MAG_y_avg_frequency': 0.0017463789193537728, 'norm_gyr_cal_range': 0.0017430140003151056, 'MAG_z_mean': 0.0017401392999032517, 'ACC_y_max': 0.001681751097405036, 'ACC_x_median': 0.001619381534138114, 'MAG_x_avg_frequency': 0.001590301135792533, 'MAG_y_mean': 0.0014542936538032086, 'ACC_y_kurtosis': 0.0014239549581311734, 'MAG_z_median': 0.0013728457015998318, 'MAG_y_min': 0.00135117777730385, 'ACC_x_min': 0.0013112851541316158, 'MAG_y_median': 0.0012407883585457769, 'norm_gyr_entropy': 0.0012052802611028505, 'norm_gyr_std': 0.0011781532708117271, 'MAG_x_mean': 0.0011674433250434615, 'MAG_z_avg_frequency': 0.001135593929699957, 'MAG_z_max': 0.0011127385022026276, 'norm_acc_median': 0.001079592858135164, 'speed_dlt': 0.0010047867244462856, 'norm_acc_kurtosis': 0.000984429847797267, 'GYR_x_energy': 0.0009711818615287568, 'norm_gyr_peak_frequency': 0.0009418308463403869, 'GYR_x_min': 0.000834279074767206, 'norm_mag_peak_frequency': 0.0008156753346631035, 'gps_snr_min': 0.0007460319050426543, 'GYR_x_std': 0.0006843750052583612, 'GYR_y_entropy': 0.0006724248082251417, 'MAG_x_max': 0.0006269679046097679, 'MAG_y_entropy': 0.0004198907624668825, 'GYR_y_std': 0.00037822038071813136, 'acc': 0.000373328932016758, 'valid_dlt': 0.00036078637294590635, 'GYR_y_energy': 0.00032879822430273507, 'GYR_x_cal_range': 0.0003234278873131421, 'MAG_z_energy': 0.0003124710016425619, 'GYR_y_min': 0.00026681461780712115, 'time_dlt': 0.0002353473502992108, 'GYR_x_max': 0.00020450474080927313, 'GYR_y_max': 0.0002035356313018926, 'distance_change': 0.000150830364233801, 'GYR_z_cal_range': 7.753493485170383e-05, 'GYR_y_median': 4.563546239651636e-05, 'GYR_z_max': 3.436296744014253e-05, 'norm_acc_skewness': 2.7333316167785204e-05, 'GYR_x_kurtosis': 1.787723197905871e-05, 'GYR_z_kurtosis': 1.0151857574925962e-05, 'ACC_z_skewness': 4.2402557657136086e-06}
importance feature add well
training set : Hand ; testing set : Hips; test order: 3
X_val  : (143960, 160)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.34
predict lgb
Time elapsed for testing lgb: 2.2
predict xgb
Time elapsed for testing xgb: 3.67
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Hand ; testing set : Hips  testing result
tree_model.pred_mean
[[22672   366     0    62   672  1241  4679   148]
 [ 1161 22533     0   853     0   110  1097   389]
 [    0   233   681  1860     0     0     0     0]
 [  440  6707     0  1745  1681   756   703     0]
 [  221    62     0     0  4197  4276 11718     0]
 [  813    19     0     0   131  7222   995     0]
 [  691    19     0    34   283   980 19059   744]
 [    0     0     0     0     0     0 11099 10608]]
              precision    recall  f1-score   support

       Still       0.87      0.76      0.81     29840
     Walking       0.75      0.86      0.80     26143
         Run       1.00      0.25      0.39      2774
        Bike       0.38      0.15      0.21     12032
         Car       0.60      0.20      0.31     20474
         Bus       0.50      0.79      0.61      9180
       Train       0.39      0.87      0.54     21810
      Subway       0.89      0.49      0.63     21707

    accuracy                           0.62    143960
   macro avg       0.67      0.55      0.54    143960
weighted avg       0.68      0.62      0.60    143960

test over
get importance point
single experiment feature importance :{'norm_acc_std_window_20_mean': 0.3028480950742143, 'latitude': 0.19009136078519295, 'speed_wd_max_log': 0.1687938787514039, 'ACC_x_energy': 0.12889988723783738, 'ACC_y_std_window_20_mean': 0.11663096447572043, 'norm_mag_peak_frequency_window_20_mean': 0.09635111317329048, 'north': 0.09392374291271863, 'speed_square': 0.09114896085184768, 'gps_snr_mean_window_20_mean': 0.08131869984496527, 'ACC_y_avg_frequency': 0.08047395436046414, 'norm_acc_energy': 0.0636046338599804, 'ACC_x_avg_frequency': 0.060675323681305064, 'norm_acc_std': 0.05918589109946939, 'speed': 0.05843413315502676, 'speed_log': 0.05811312650690979, 'distance': 0.05276333007303818, 'norm_acc_entropy': 0.05248021790508085, 'east': 0.04996781866705536, 'MAG_z_cal_range': 0.04502867798551676, 'norm_gyr_mean': 0.04111723312065487, 'number_window_20_mean': 0.03730429573175284, 'speed_dif': 0.03658548766876611, 'ACC_x_entropy': 0.035605184576688535, 'norm_gyr_median_window_20_mean': 0.0345228188409192, 'acc_wd_max_log': 0.03370911857658378, 'gps_snr_max': 0.03162242663179743, 'norm_gyr_min_window_20_mean': 0.03133293105094888, 'ACC_z_max': 0.030982155513412386, 'norm_acc_avg_frequency': 0.030297409101406332, 'longitude': 0.03020725795607479, 'longitude_window_20_std': 0.03009463315251933, 'ACC_y_entropy': 0.02578233587790666, 'MAG_x_cal_range': 0.024761146308106653, 'ACC_y_cal_range': 0.02418796184579669, 'number': 0.02239963810351165, 'altitude': 0.019804528752582155, 'longitude_window_20_mean': 0.01786873627451231, 'gps_snr_mean': 0.017268297518017502, 'ACC_x_cal_range': 0.017109363920769494, 'norm_gyr_median': 0.01702705195703913, 'GYR_z_avg_frequency': 0.01577704438246616, 'ACC_x_std': 0.015767453858813275, 'accuracy': 0.01550084264254237, 'MAG_y_energy': 0.01522306364900261, 'GYR_y_std_window_20_mean': 0.01468529172912566, 'ACC_z_energy': 0.014150312165722953, 'GYR_z_peak_frequency': 0.01345455575639962, 'MAG_y_cal_range': 0.013329905502305185, 'ACC_y_std': 0.013207804862531014, 'norm_acc_peak_frequency': 0.012779963034979042, 'ACC_y_peak_frequency': 0.012687431856174887, 'GYR_x_entropy': 0.012361308623214197, 'ACC_y_energy': 0.012140553358505744, 'norm_acc_max': 0.011457650182148909, 'norm_mag_avg_frequency': 0.01138237590653247, 'norm_acc_min': 0.010303450927170102, 'norm_acc_cal_range': 0.010135202757002927, 'ACC_z_mean': 0.010100655029299958, 'ACC_x_peak_frequency': 0.00976688168375979, 'norm_acc_mean': 0.009562387342693811, 'ACC_z_std': 0.009541126861009778, 'norm_mag_std': 0.009510276525279054, 'GYR_y_peak_frequency': 0.00931383089352019, 'norm_mag_cal_range': 0.008930559879403568, 'gps_snr_std': 0.008893485139835702, 'ACC_z_median': 0.008883694224363992, 'acc_wd_std': 0.008618281737742674, 'availability': 0.008401895981427251, 'GYR_x_peak_frequency': 0.008337001313542664, 'norm_gyr_max': 0.008063333987092369, 'ACC_z_avg_frequency': 0.00805487776837185, 'ACC_z_peak_frequency': 0.00749733378543311, 'GYR_z_min': 0.00744193874259232, 'norm_mag_min': 0.007245266566168881, 'GYR_y_avg_frequency': 0.006768455992723404, 'speed_wd_std': 0.006290702482040111, 'ACC_y_mean': 0.006180673334347849, 'ACC_z_min': 0.005991865412960917, 'GYR_x_avg_frequency': 0.005980493736348784, 'north_speed': 0.005781139592517678, 'MAG_z_std': 0.005616192700512805, 'GYR_z_std': 0.0055764124076556, 'GYR_z_energy': 0.005236366305188543, 'norm_gyr_min': 0.0051722230646354065, 'norm_gyr_avg_frequency': 0.004649365453562985, 'ACC_z_cal_range': 0.0046093582684612, 'norm_mag_entropy': 0.004479216452045583, 'east_dlt': 0.004329951978332712, 'norm_gyr_energy': 0.004168643595215063, 'norm_mag_max': 0.0041280035629554235, 'is_stop': 0.004123351195727529, 'norm_mag_median': 0.004072574581742715, 'ACC_y_median': 0.003889186868430344, 'north_dlt': 0.003723098875709328, 'MAG_z_entropy': 0.003643796085712131, 'east_speed': 0.003525864976716258, 'norm_mag_mean': 0.0033079420409536523, 'norm_mag_energy': 0.0032844662955777678, 'MAG_z_min': 0.0031366033178256278, 'ACC_y_min': 0.003088030229537216, 'GYR_z_entropy': 0.0026814168192779188, 'ACC_z_kurtosis': 0.0026271665933872324, 'ACC_x_mean': 0.0026172199975754394, 'ACC_z_entropy': 0.0025527643419749426, 'MAG_y_std': 0.002422312249285411, 'MAG_x_energy': 0.0024013598668841613, 'ACC_x_max': 0.0021686133449195857, 'MAG_y_max': 0.002151402493411762, 'MAG_x_median': 0.0019772484232277883, 'GYR_y_cal_range': 0.0019488949041939047, 'MAG_x_entropy': 0.0019361285306972666, 'MAG_x_std': 0.0019290583244551086, 'MAG_x_min': 0.0017903645661421163, 'MAG_y_avg_frequency': 0.0017463789193537728, 'norm_gyr_cal_range': 0.0017430140003151056, 'MAG_z_mean': 0.0017401392999032517, 'ACC_y_max': 0.001681751097405036, 'ACC_x_median': 0.001619381534138114, 'MAG_x_avg_frequency': 0.001590301135792533, 'MAG_y_mean': 0.0014542936538032086, 'ACC_y_kurtosis': 0.0014239549581311734, 'MAG_z_median': 0.0013728457015998318, 'MAG_y_min': 0.00135117777730385, 'ACC_x_min': 0.0013112851541316158, 'MAG_y_median': 0.0012407883585457769, 'norm_gyr_entropy': 0.0012052802611028505, 'norm_gyr_std': 0.0011781532708117271, 'MAG_x_mean': 0.0011674433250434615, 'MAG_z_avg_frequency': 0.001135593929699957, 'MAG_z_max': 0.0011127385022026276, 'norm_acc_median': 0.001079592858135164, 'speed_dlt': 0.0010047867244462856, 'norm_acc_kurtosis': 0.000984429847797267, 'GYR_x_energy': 0.0009711818615287568, 'norm_gyr_peak_frequency': 0.0009418308463403869, 'GYR_x_min': 0.000834279074767206, 'norm_mag_peak_frequency': 0.0008156753346631035, 'gps_snr_min': 0.0007460319050426543, 'GYR_x_std': 0.0006843750052583612, 'GYR_y_entropy': 0.0006724248082251417, 'MAG_x_max': 0.0006269679046097679, 'MAG_y_entropy': 0.0004198907624668825, 'GYR_y_std': 0.00037822038071813136, 'acc': 0.000373328932016758, 'valid_dlt': 0.00036078637294590635, 'GYR_y_energy': 0.00032879822430273507, 'GYR_x_cal_range': 0.0003234278873131421, 'MAG_z_energy': 0.0003124710016425619, 'GYR_y_min': 0.00026681461780712115, 'time_dlt': 0.0002353473502992108, 'GYR_x_max': 0.00020450474080927313, 'GYR_y_max': 0.0002035356313018926, 'distance_change': 0.000150830364233801, 'GYR_z_cal_range': 7.753493485170383e-05, 'GYR_y_median': 4.563546239651636e-05, 'GYR_z_max': 3.436296744014253e-05, 'norm_acc_skewness': 2.7333316167785204e-05, 'GYR_x_kurtosis': 1.787723197905871e-05, 'GYR_z_kurtosis': 1.0151857574925962e-05, 'ACC_z_skewness': 4.2402557657136086e-06}
importance feature add well
training set:Torso,the 3th training set
begin training
X_train: (1050526, 160)
y_train: 1050526
Training rf...
Time elapsed for training rf: 364.41
Training LightGBM...
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Warning] Auto-choosing col-wise multi-threading, the overhead of testing was 0.964692 seconds.
You can set `force_col_wise=true` to remove the overhead.
[LightGBM] [Info] Total Bins 37469
[LightGBM] [Info] Number of data points in the train set: 840420, number of used features: 160
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Info] Start training from score -2.150129
[LightGBM] [Info] Start training from score -2.148587
[LightGBM] [Info] Start training from score -2.239015
[LightGBM] [Info] Start training from score -2.186064
[LightGBM] [Info] Start training from score -1.890361
[LightGBM] [Info] Start training from score -2.005134
[LightGBM] [Info] Start training from score -1.905172
[LightGBM] [Info] Start training from score -2.175918
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[1]	valid_0's multi_logloss: 1.53164
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[2]	valid_0's multi_logloss: 1.24147
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[3]	valid_0's multi_logloss: 1.04009
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[4]	valid_0's multi_logloss: 0.887911
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[5]	valid_0's multi_logloss: 0.768179
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[6]	valid_0's multi_logloss: 0.671022
[7]	valid_0's multi_logloss: 0.591851
[8]	valid_0's multi_logloss: 0.525236
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[9]	valid_0's multi_logloss: 0.469492
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[10]	valid_0's multi_logloss: 0.420866
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[11]	valid_0's multi_logloss: 0.37918
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[12]	valid_0's multi_logloss: 0.344223
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[13]	valid_0's multi_logloss: 0.314513
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[14]	valid_0's multi_logloss: 0.287347
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[15]	valid_0's multi_logloss: 0.26514
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[16]	valid_0's multi_logloss: 0.244235
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[17]	valid_0's multi_logloss: 0.22646
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[18]	valid_0's multi_logloss: 0.210448
[19]	valid_0's multi_logloss: 0.196057
[20]	valid_0's multi_logloss: 0.183473
[21]	valid_0's multi_logloss: 0.172262
[22]	valid_0's multi_logloss: 0.160493
[23]	valid_0's multi_logloss: 0.150715
[24]	valid_0's multi_logloss: 0.141281
[25]	valid_0's multi_logloss: 0.134008
[26]	valid_0's multi_logloss: 0.126657
[27]	valid_0's multi_logloss: 0.120761
[28]	valid_0's multi_logloss: 0.115002
[29]	valid_0's multi_logloss: 0.109767
[30]	valid_0's multi_logloss: 0.105035
[31]	valid_0's multi_logloss: 0.100603
[32]	valid_0's multi_logloss: 0.0957278
[33]	valid_0's multi_logloss: 0.0916807
[34]	valid_0's multi_logloss: 0.0884372
[35]	valid_0's multi_logloss: 0.0842271
[36]	valid_0's multi_logloss: 0.0808556
[37]	valid_0's multi_logloss: 0.0777452
[38]	valid_0's multi_logloss: 0.0749299
[39]	valid_0's multi_logloss: 0.0722068
[40]	valid_0's multi_logloss: 0.070008
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[41]	valid_0's multi_logloss: 0.0673235
[42]	valid_0's multi_logloss: 0.0651776
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[43]	valid_0's multi_logloss: 0.0630426
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[44]	valid_0's multi_logloss: 0.0610617
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[45]	valid_0's multi_logloss: 0.0588116
[46]	valid_0's multi_logloss: 0.0570255
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[47]	valid_0's multi_logloss: 0.0553499
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[48]	valid_0's multi_logloss: 0.0534887
[49]	valid_0's multi_logloss: 0.0518341
[50]	valid_0's multi_logloss: 0.0505719
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[51]	valid_0's multi_logloss: 0.0489754
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[52]	valid_0's multi_logloss: 0.0474129
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[53]	valid_0's multi_logloss: 0.0458315
[54]	valid_0's multi_logloss: 0.0446288
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[55]	valid_0's multi_logloss: 0.0434081
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[56]	valid_0's multi_logloss: 0.0422643
[57]	valid_0's multi_logloss: 0.0411407
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[58]	valid_0's multi_logloss: 0.0401533
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[59]	valid_0's multi_logloss: 0.0390746
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[60]	valid_0's multi_logloss: 0.0381128
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[61]	valid_0's multi_logloss: 0.037038
[62]	valid_0's multi_logloss: 0.0357482
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[63]	valid_0's multi_logloss: 0.0348172
[64]	valid_0's multi_logloss: 0.0340318
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[65]	valid_0's multi_logloss: 0.0332621
[66]	valid_0's multi_logloss: 0.032446
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[67]	valid_0's multi_logloss: 0.0317364
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[68]	valid_0's multi_logloss: 0.0309376
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[69]	valid_0's multi_logloss: 0.0302608
[70]	valid_0's multi_logloss: 0.0295243
[71]	valid_0's multi_logloss: 0.0288923
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[72]	valid_0's multi_logloss: 0.0281812
[73]	valid_0's multi_logloss: 0.0275391
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[74]	valid_0's multi_logloss: 0.0267653
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[75]	valid_0's multi_logloss: 0.0262375
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[76]	valid_0's multi_logloss: 0.0256126
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[77]	valid_0's multi_logloss: 0.0250089
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[78]	valid_0's multi_logloss: 0.0243877
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[79]	valid_0's multi_logloss: 0.0238052
[80]	valid_0's multi_logloss: 0.0232157
[81]	valid_0's multi_logloss: 0.0226065
[82]	valid_0's multi_logloss: 0.0220878
[83]	valid_0's multi_logloss: 0.0216956
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[84]	valid_0's multi_logloss: 0.0212691
[85]	valid_0's multi_logloss: 0.0208446
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[86]	valid_0's multi_logloss: 0.020481
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[87]	valid_0's multi_logloss: 0.0200411
[88]	valid_0's multi_logloss: 0.019675
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[89]	valid_0's multi_logloss: 0.0193124
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[90]	valid_0's multi_logloss: 0.0189569
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[91]	valid_0's multi_logloss: 0.018637
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[92]	valid_0's multi_logloss: 0.0183291
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[93]	valid_0's multi_logloss: 0.0180964
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[94]	valid_0's multi_logloss: 0.0178571
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[95]	valid_0's multi_logloss: 0.0176223
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[96]	valid_0's multi_logloss: 0.0172504
[97]	valid_0's multi_logloss: 0.0168958
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[98]	valid_0's multi_logloss: 0.016657
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[99]	valid_0's multi_logloss: 0.016356
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[100]	valid_0's multi_logloss: 0.0160186
Time elapsed for training LightGBM: 2775.62
Training XGBoost...
Time elapsed for training XGBoost: 1065.4
begin testing
training set : Torso ; testing set : Torso; test order: 0
X_val  : (143960, 160)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.38
predict lgb
Time elapsed for testing lgb: 2.03
predict xgb
Time elapsed for testing xgb: 3.43
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Torso ; testing set : Torso  testing result
tree_model.pred_mean
[[17175   218     0   385   316   329 11069   348]
 [ 1373 22707    14   697   101     4   948   299]
 [    0  1246   894   634     0     0     0     0]
 [  375   188     0  7932  3180   341    16     0]
 [  312    38     0     0 17196  1702  1226     0]
 [  196    58     0     7   137  6469  2313     0]
 [ 1108    22     0   291   904   151 18322  1012]
 [    0     4     0     0     0     0 11099 10604]]
              precision    recall  f1-score   support

       Still       0.84      0.58      0.68     29840
     Walking       0.93      0.87      0.90     26143
         Run       0.98      0.32      0.49      2774
        Bike       0.80      0.66      0.72     12032
         Car       0.79      0.84      0.81     20474
         Bus       0.72      0.70      0.71      9180
       Train       0.41      0.84      0.55     21810
      Subway       0.86      0.49      0.62     21707

    accuracy                           0.70    143960
   macro avg       0.79      0.66      0.69    143960
weighted avg       0.78      0.70      0.71    143960

test over
get importance point
single experiment feature importance :{'ACC_y_std_window_20_mean': 0.22420640213225082, 'latitude': 0.20441263306008176, 'MAG_x_cal_range': 0.13309873610609002, 'speed_wd_max_log': 0.12096954848609204, 'norm_acc_std_window_20_mean': 0.11509624136696206, 'ACC_y_max': 0.11354138201963795, 'GYR_y_std_window_20_mean': 0.11301122781324802, 'norm_mag_peak_frequency_window_20_mean': 0.11213451128243115, 'MAG_x_energy': 0.09455386834063305, 'gps_snr_mean_window_20_mean': 0.08364445652390691, 'speed_log': 0.08203411233139275, 'speed_square': 0.06493536353204865, 'MAG_z_cal_range': 0.06181802222402182, 'norm_gyr_median_window_20_mean': 0.06148104514723125, 'ACC_z_mean': 0.05821803730409413, 'availability': 0.05788685982737534, 'norm_acc_peak_frequency': 0.05731610381743745, 'north': 0.053366940191628215, 'ACC_y_entropy': 0.05295584036588534, 'GYR_x_entropy': 0.04739143233339009, 'number_window_20_mean': 0.0430617851452527, 'gps_snr_max': 0.035256095148539314, 'norm_acc_std': 0.032364705352041494, 'east': 0.03151640707383477, 'accuracy': 0.028636093699621362, 'ACC_y_mean': 0.027016390606476752, 'norm_mag_avg_frequency': 0.024104219743656494, 'ACC_z_median': 0.0239979438215195, 'norm_acc_energy': 0.023722513086877502, 'ACC_y_std': 0.023554639798418743, 'longitude': 0.02330855343135888, 'GYR_z_avg_frequency': 0.021567657630143712, 'norm_gyr_min_window_20_mean': 0.02153649589858974, 'number': 0.02134165240325062, 'speed_dif': 0.02089868275253233, 'ACC_y_energy': 0.02051140849809025, 'norm_acc_entropy': 0.019854711353176, 'speed': 0.01984151045255013, 'ACC_z_cal_range': 0.018005825630838954, 'acc_wd_std': 0.017988592239926302, 'GYR_y_cal_range': 0.017588396616848048, 'distance': 0.017108520573016532, 'longitude_window_20_std': 0.0165302869450583, 'acc_wd_max_log': 0.016025347671624203, 'longitude_window_20_mean': 0.01585951323296502, 'norm_gyr_cal_range': 0.015776177622814837, 'ACC_y_peak_frequency': 0.014445461614029409, 'norm_mag_std': 0.014149326313475668, 'norm_mag_max': 0.013844190439865994, 'GYR_z_std': 0.013314817875978305, 'gps_snr_std': 0.013037566688676587, 'norm_mag_min': 0.01288512118269298, 'MAG_y_std': 0.012188566886569262, 'norm_acc_min': 0.011712750764826184, 'GYR_y_avg_frequency': 0.011708035024403114, 'altitude': 0.011338362102614467, 'ACC_z_max': 0.011248207064384374, 'speed_wd_std': 0.010603932204490105, 'ACC_x_min': 0.010192598874498578, 'norm_mag_mean': 0.010080118698777172, 'is_stop': 0.010058544376026272, 'ACC_x_max': 0.009703758842244404, 'norm_acc_max': 0.009499389259961676, 'norm_mag_cal_range': 0.009007732403838968, 'GYR_z_min': 0.00863825678726262, 'norm_gyr_energy': 0.008598852190778645, 'MAG_y_max': 0.008265723943784508, 'norm_gyr_max': 0.008032346645179886, 'MAG_y_median': 0.007880805725933413, 'MAG_z_median': 0.007768523621936408, 'GYR_y_energy': 0.007480752469267438, 'ACC_z_energy': 0.007348119779106318, 'MAG_y_entropy': 0.007259514624271351, 'gps_snr_min': 0.007202746776720055, 'ACC_x_std': 0.006712247397096414, 'MAG_y_min': 0.006583201507290654, 'GYR_y_peak_frequency': 0.0065741227417475566, 'ACC_z_std': 0.0061605960946266875, 'gps_snr_mean': 0.006160477002829334, 'ACC_y_median': 0.006153568195242459, 'norm_mag_median': 0.006128981257077753, 'MAG_y_cal_range': 0.005860366582428808, 'norm_gyr_entropy': 0.00573070889446815, 'norm_gyr_avg_frequency': 0.005625801400427196, 'ACC_x_median': 0.005361727880054454, 'ACC_z_kurtosis': 0.005129932471216106, 'MAG_y_energy': 0.005120671819201109, 'GYR_z_peak_frequency': 0.0050022854971919425, 'ACC_y_min': 0.004994688943580287, 'ACC_x_peak_frequency': 0.004856432573858102, 'GYR_x_peak_frequency': 0.004445886184832121, 'ACC_z_peak_frequency': 0.004357386489607026, 'norm_mag_energy': 0.004318699931673617, 'ACC_x_mean': 0.004243236898542389, 'north_dlt': 0.003965548495283821, 'north_speed': 0.003962599572996592, 'ACC_y_cal_range': 0.003951921742602858, 'MAG_z_max': 0.0038897231701927014, 'MAG_x_min': 0.003851548195416997, 'GYR_x_min': 0.0038348778765465077, 'GYR_z_entropy': 0.0037976818402551448, 'MAG_z_mean': 0.003691014543134416, 'speed_dlt': 0.003426202278860476, 'GYR_y_entropy': 0.0033990761904966484, 'ACC_z_min': 0.0031731324200932956, 'GYR_x_std': 0.0031492453701820558, 'ACC_y_avg_frequency': 0.00291526662910376, 'MAG_z_min': 0.002877739009754191, 'MAG_y_mean': 0.002656190466090462, 'MAG_z_entropy': 0.0026010627507479815, 'MAG_x_entropy': 0.00245113207626309, 'east_speed': 0.0024441437651981854, 'MAG_x_max': 0.002404488989114324, 'norm_acc_avg_frequency': 0.0021409773662147595, 'acc': 0.002100376077245436, 'MAG_x_mean': 0.0019903544676475615, 'ACC_x_energy': 0.0019626920243844344, 'norm_gyr_median': 0.001808187008449269, 'GYR_x_cal_range': 0.0017369563834136706, 'east_dlt': 0.0014649349076662306, 'norm_acc_cal_range': 0.0014063812639823051, 'norm_gyr_mean': 0.0013974766496797455, 'ACC_x_cal_range': 0.0013283222251415712, 'GYR_x_avg_frequency': 0.0013202132949829708, 'MAG_z_std': 0.001306549390195357, 'GYR_z_energy': 0.001225369731146935, 'ACC_y_kurtosis': 0.0009800230556457074, 'norm_acc_kurtosis': 0.0008690463310358324, 'GYR_y_std': 0.0007757833756498693, 'ACC_z_entropy': 0.0007351062186369832, 'norm_acc_median': 0.0007311889164765259, 'norm_mag_entropy': 0.0006886513321360931, 'MAG_x_median': 0.0006391658855833685, 'norm_gyr_std': 0.0005548726632194692, 'MAG_x_std': 0.0005326729360315869, 'ACC_x_avg_frequency': 0.0004933480952801748, 'norm_acc_mean': 0.00038092481232482886, 'GYR_x_energy': 0.00034313328185860576, 'ACC_z_avg_frequency': 0.0003408132584316385, 'MAG_x_avg_frequency': 0.0003358032872608497, 'GYR_z_cal_range': 0.0003288730232564069, 'GYR_x_max': 0.0002603465787124088, 'ACC_x_entropy': 0.0002316665092024435, 'MAG_y_avg_frequency': 0.00018000444341097243, 'time_dlt': 0.00017314474342802104, 'ACC_z_skewness': 0.0001710553570158518, 'norm_gyr_min': 0.0001177112247892689, 'GYR_y_max': 0.00011699759906039835, 'GYR_z_max': 0.00010311721929484398, 'MAG_z_energy': 8.492332323390997e-05, 'distance_change': 6.295852610981275e-05, 'GYR_x_kurtosis': 2.5202995416624582e-05, 'MAG_z_avg_frequency': 1.753647557397162e-05, 'GYR_y_min': 9.28043066269229e-06, 'GYR_y_median': 7.502899971371612e-06, 'GYR_z_kurtosis': 7.3331832131778984e-06, 'norm_gyr_peak_frequency': 3.64065887393733e-06, 'norm_acc_skewness': 2.8618514971269353e-06, 'valid_dlt': 1.8662962674344495e-06, 'norm_mag_peak_frequency': 0.0}
importance feature add well
training set : Torso ; testing set : Bag; test order: 1
X_val  : (143960, 160)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.33
predict lgb
Time elapsed for testing lgb: 2.27
predict xgb
Time elapsed for testing xgb: 3.46
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Torso ; testing set : Bag  testing result
tree_model.pred_mean
[[16967   173  1225   961   282   407  8638  1187]
 [ 1341 15895     0  7060   253   219   893   482]
 [    0  1127  1484   163     0     0     0     0]
 [  289   245     0  7536  2973   989     0     0]
 [   75    37     0     0 15359  4737   266     0]
 [   15    38     0  2596   681  5710   140     0]
 [   13     5     0    77  2797   349 17498  1071]
 [    0     0     0     0     0     0  5377 16330]]
              precision    recall  f1-score   support

       Still       0.91      0.57      0.70     29840
     Walking       0.91      0.61      0.73     26143
         Run       0.55      0.53      0.54      2774
        Bike       0.41      0.63      0.50     12032
         Car       0.69      0.75      0.72     20474
         Bus       0.46      0.62      0.53      9180
       Train       0.53      0.80      0.64     21810
      Subway       0.86      0.75      0.80     21707

    accuracy                           0.67    143960
   macro avg       0.66      0.66      0.64    143960
weighted avg       0.73      0.67      0.68    143960

test over
get importance point
single experiment feature importance :{'ACC_y_std_window_20_mean': 0.22420640213225082, 'latitude': 0.20441263306008176, 'MAG_x_cal_range': 0.13309873610609002, 'speed_wd_max_log': 0.12096954848609204, 'norm_acc_std_window_20_mean': 0.11509624136696206, 'ACC_y_max': 0.11354138201963795, 'GYR_y_std_window_20_mean': 0.11301122781324802, 'norm_mag_peak_frequency_window_20_mean': 0.11213451128243115, 'MAG_x_energy': 0.09455386834063305, 'gps_snr_mean_window_20_mean': 0.08364445652390691, 'speed_log': 0.08203411233139275, 'speed_square': 0.06493536353204865, 'MAG_z_cal_range': 0.06181802222402182, 'norm_gyr_median_window_20_mean': 0.06148104514723125, 'ACC_z_mean': 0.05821803730409413, 'availability': 0.05788685982737534, 'norm_acc_peak_frequency': 0.05731610381743745, 'north': 0.053366940191628215, 'ACC_y_entropy': 0.05295584036588534, 'GYR_x_entropy': 0.04739143233339009, 'number_window_20_mean': 0.0430617851452527, 'gps_snr_max': 0.035256095148539314, 'norm_acc_std': 0.032364705352041494, 'east': 0.03151640707383477, 'accuracy': 0.028636093699621362, 'ACC_y_mean': 0.027016390606476752, 'norm_mag_avg_frequency': 0.024104219743656494, 'ACC_z_median': 0.0239979438215195, 'norm_acc_energy': 0.023722513086877502, 'ACC_y_std': 0.023554639798418743, 'longitude': 0.02330855343135888, 'GYR_z_avg_frequency': 0.021567657630143712, 'norm_gyr_min_window_20_mean': 0.02153649589858974, 'number': 0.02134165240325062, 'speed_dif': 0.02089868275253233, 'ACC_y_energy': 0.02051140849809025, 'norm_acc_entropy': 0.019854711353176, 'speed': 0.01984151045255013, 'ACC_z_cal_range': 0.018005825630838954, 'acc_wd_std': 0.017988592239926302, 'GYR_y_cal_range': 0.017588396616848048, 'distance': 0.017108520573016532, 'longitude_window_20_std': 0.0165302869450583, 'acc_wd_max_log': 0.016025347671624203, 'longitude_window_20_mean': 0.01585951323296502, 'norm_gyr_cal_range': 0.015776177622814837, 'ACC_y_peak_frequency': 0.014445461614029409, 'norm_mag_std': 0.014149326313475668, 'norm_mag_max': 0.013844190439865994, 'GYR_z_std': 0.013314817875978305, 'gps_snr_std': 0.013037566688676587, 'norm_mag_min': 0.01288512118269298, 'MAG_y_std': 0.012188566886569262, 'norm_acc_min': 0.011712750764826184, 'GYR_y_avg_frequency': 0.011708035024403114, 'altitude': 0.011338362102614467, 'ACC_z_max': 0.011248207064384374, 'speed_wd_std': 0.010603932204490105, 'ACC_x_min': 0.010192598874498578, 'norm_mag_mean': 0.010080118698777172, 'is_stop': 0.010058544376026272, 'ACC_x_max': 0.009703758842244404, 'norm_acc_max': 0.009499389259961676, 'norm_mag_cal_range': 0.009007732403838968, 'GYR_z_min': 0.00863825678726262, 'norm_gyr_energy': 0.008598852190778645, 'MAG_y_max': 0.008265723943784508, 'norm_gyr_max': 0.008032346645179886, 'MAG_y_median': 0.007880805725933413, 'MAG_z_median': 0.007768523621936408, 'GYR_y_energy': 0.007480752469267438, 'ACC_z_energy': 0.007348119779106318, 'MAG_y_entropy': 0.007259514624271351, 'gps_snr_min': 0.007202746776720055, 'ACC_x_std': 0.006712247397096414, 'MAG_y_min': 0.006583201507290654, 'GYR_y_peak_frequency': 0.0065741227417475566, 'ACC_z_std': 0.0061605960946266875, 'gps_snr_mean': 0.006160477002829334, 'ACC_y_median': 0.006153568195242459, 'norm_mag_median': 0.006128981257077753, 'MAG_y_cal_range': 0.005860366582428808, 'norm_gyr_entropy': 0.00573070889446815, 'norm_gyr_avg_frequency': 0.005625801400427196, 'ACC_x_median': 0.005361727880054454, 'ACC_z_kurtosis': 0.005129932471216106, 'MAG_y_energy': 0.005120671819201109, 'GYR_z_peak_frequency': 0.0050022854971919425, 'ACC_y_min': 0.004994688943580287, 'ACC_x_peak_frequency': 0.004856432573858102, 'GYR_x_peak_frequency': 0.004445886184832121, 'ACC_z_peak_frequency': 0.004357386489607026, 'norm_mag_energy': 0.004318699931673617, 'ACC_x_mean': 0.004243236898542389, 'north_dlt': 0.003965548495283821, 'north_speed': 0.003962599572996592, 'ACC_y_cal_range': 0.003951921742602858, 'MAG_z_max': 0.0038897231701927014, 'MAG_x_min': 0.003851548195416997, 'GYR_x_min': 0.0038348778765465077, 'GYR_z_entropy': 0.0037976818402551448, 'MAG_z_mean': 0.003691014543134416, 'speed_dlt': 0.003426202278860476, 'GYR_y_entropy': 0.0033990761904966484, 'ACC_z_min': 0.0031731324200932956, 'GYR_x_std': 0.0031492453701820558, 'ACC_y_avg_frequency': 0.00291526662910376, 'MAG_z_min': 0.002877739009754191, 'MAG_y_mean': 0.002656190466090462, 'MAG_z_entropy': 0.0026010627507479815, 'MAG_x_entropy': 0.00245113207626309, 'east_speed': 0.0024441437651981854, 'MAG_x_max': 0.002404488989114324, 'norm_acc_avg_frequency': 0.0021409773662147595, 'acc': 0.002100376077245436, 'MAG_x_mean': 0.0019903544676475615, 'ACC_x_energy': 0.0019626920243844344, 'norm_gyr_median': 0.001808187008449269, 'GYR_x_cal_range': 0.0017369563834136706, 'east_dlt': 0.0014649349076662306, 'norm_acc_cal_range': 0.0014063812639823051, 'norm_gyr_mean': 0.0013974766496797455, 'ACC_x_cal_range': 0.0013283222251415712, 'GYR_x_avg_frequency': 0.0013202132949829708, 'MAG_z_std': 0.001306549390195357, 'GYR_z_energy': 0.001225369731146935, 'ACC_y_kurtosis': 0.0009800230556457074, 'norm_acc_kurtosis': 0.0008690463310358324, 'GYR_y_std': 0.0007757833756498693, 'ACC_z_entropy': 0.0007351062186369832, 'norm_acc_median': 0.0007311889164765259, 'norm_mag_entropy': 0.0006886513321360931, 'MAG_x_median': 0.0006391658855833685, 'norm_gyr_std': 0.0005548726632194692, 'MAG_x_std': 0.0005326729360315869, 'ACC_x_avg_frequency': 0.0004933480952801748, 'norm_acc_mean': 0.00038092481232482886, 'GYR_x_energy': 0.00034313328185860576, 'ACC_z_avg_frequency': 0.0003408132584316385, 'MAG_x_avg_frequency': 0.0003358032872608497, 'GYR_z_cal_range': 0.0003288730232564069, 'GYR_x_max': 0.0002603465787124088, 'ACC_x_entropy': 0.0002316665092024435, 'MAG_y_avg_frequency': 0.00018000444341097243, 'time_dlt': 0.00017314474342802104, 'ACC_z_skewness': 0.0001710553570158518, 'norm_gyr_min': 0.0001177112247892689, 'GYR_y_max': 0.00011699759906039835, 'GYR_z_max': 0.00010311721929484398, 'MAG_z_energy': 8.492332323390997e-05, 'distance_change': 6.295852610981275e-05, 'GYR_x_kurtosis': 2.5202995416624582e-05, 'MAG_z_avg_frequency': 1.753647557397162e-05, 'GYR_y_min': 9.28043066269229e-06, 'GYR_y_median': 7.502899971371612e-06, 'GYR_z_kurtosis': 7.3331832131778984e-06, 'norm_gyr_peak_frequency': 3.64065887393733e-06, 'norm_acc_skewness': 2.8618514971269353e-06, 'valid_dlt': 1.8662962674344495e-06, 'norm_mag_peak_frequency': 0.0}
importance feature add well
training set : Torso ; testing set : Hand; test order: 2
X_val  : (143960, 160)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.75
predict lgb
Time elapsed for testing lgb: 2.35
predict xgb
Time elapsed for testing xgb: 3.62
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Torso ; testing set : Hand  testing result
tree_model.pred_mean
[[16863   808  1109  3700   149     0  6811   400]
 [  455 16273     0  8829     0     0    29   557]
 [    0   269  2057   448     0     0     0     0]
 [    0     0     0 11999    33     0     0     0]
 [  155   152     0  5891  7250  6844   182     0]
 [    3     0     0  2607   736  5551   283     0]
 [  273    36   103  1918  2356    38 15622  1464]
 [    0     0     0     0     0     0  3152 18555]]
              precision    recall  f1-score   support

       Still       0.95      0.57      0.71     29840
     Walking       0.93      0.62      0.75     26143
         Run       0.63      0.74      0.68      2774
        Bike       0.34      1.00      0.51     12032
         Car       0.69      0.35      0.47     20474
         Bus       0.45      0.60      0.51      9180
       Train       0.60      0.72      0.65     21810
      Subway       0.88      0.85      0.87     21707

    accuracy                           0.65    143960
   macro avg       0.68      0.68      0.64    143960
weighted avg       0.76      0.65      0.67    143960

test over
get importance point
single experiment feature importance :{'ACC_y_std_window_20_mean': 0.22420640213225082, 'latitude': 0.20441263306008176, 'MAG_x_cal_range': 0.13309873610609002, 'speed_wd_max_log': 0.12096954848609204, 'norm_acc_std_window_20_mean': 0.11509624136696206, 'ACC_y_max': 0.11354138201963795, 'GYR_y_std_window_20_mean': 0.11301122781324802, 'norm_mag_peak_frequency_window_20_mean': 0.11213451128243115, 'MAG_x_energy': 0.09455386834063305, 'gps_snr_mean_window_20_mean': 0.08364445652390691, 'speed_log': 0.08203411233139275, 'speed_square': 0.06493536353204865, 'MAG_z_cal_range': 0.06181802222402182, 'norm_gyr_median_window_20_mean': 0.06148104514723125, 'ACC_z_mean': 0.05821803730409413, 'availability': 0.05788685982737534, 'norm_acc_peak_frequency': 0.05731610381743745, 'north': 0.053366940191628215, 'ACC_y_entropy': 0.05295584036588534, 'GYR_x_entropy': 0.04739143233339009, 'number_window_20_mean': 0.0430617851452527, 'gps_snr_max': 0.035256095148539314, 'norm_acc_std': 0.032364705352041494, 'east': 0.03151640707383477, 'accuracy': 0.028636093699621362, 'ACC_y_mean': 0.027016390606476752, 'norm_mag_avg_frequency': 0.024104219743656494, 'ACC_z_median': 0.0239979438215195, 'norm_acc_energy': 0.023722513086877502, 'ACC_y_std': 0.023554639798418743, 'longitude': 0.02330855343135888, 'GYR_z_avg_frequency': 0.021567657630143712, 'norm_gyr_min_window_20_mean': 0.02153649589858974, 'number': 0.02134165240325062, 'speed_dif': 0.02089868275253233, 'ACC_y_energy': 0.02051140849809025, 'norm_acc_entropy': 0.019854711353176, 'speed': 0.01984151045255013, 'ACC_z_cal_range': 0.018005825630838954, 'acc_wd_std': 0.017988592239926302, 'GYR_y_cal_range': 0.017588396616848048, 'distance': 0.017108520573016532, 'longitude_window_20_std': 0.0165302869450583, 'acc_wd_max_log': 0.016025347671624203, 'longitude_window_20_mean': 0.01585951323296502, 'norm_gyr_cal_range': 0.015776177622814837, 'ACC_y_peak_frequency': 0.014445461614029409, 'norm_mag_std': 0.014149326313475668, 'norm_mag_max': 0.013844190439865994, 'GYR_z_std': 0.013314817875978305, 'gps_snr_std': 0.013037566688676587, 'norm_mag_min': 0.01288512118269298, 'MAG_y_std': 0.012188566886569262, 'norm_acc_min': 0.011712750764826184, 'GYR_y_avg_frequency': 0.011708035024403114, 'altitude': 0.011338362102614467, 'ACC_z_max': 0.011248207064384374, 'speed_wd_std': 0.010603932204490105, 'ACC_x_min': 0.010192598874498578, 'norm_mag_mean': 0.010080118698777172, 'is_stop': 0.010058544376026272, 'ACC_x_max': 0.009703758842244404, 'norm_acc_max': 0.009499389259961676, 'norm_mag_cal_range': 0.009007732403838968, 'GYR_z_min': 0.00863825678726262, 'norm_gyr_energy': 0.008598852190778645, 'MAG_y_max': 0.008265723943784508, 'norm_gyr_max': 0.008032346645179886, 'MAG_y_median': 0.007880805725933413, 'MAG_z_median': 0.007768523621936408, 'GYR_y_energy': 0.007480752469267438, 'ACC_z_energy': 0.007348119779106318, 'MAG_y_entropy': 0.007259514624271351, 'gps_snr_min': 0.007202746776720055, 'ACC_x_std': 0.006712247397096414, 'MAG_y_min': 0.006583201507290654, 'GYR_y_peak_frequency': 0.0065741227417475566, 'ACC_z_std': 0.0061605960946266875, 'gps_snr_mean': 0.006160477002829334, 'ACC_y_median': 0.006153568195242459, 'norm_mag_median': 0.006128981257077753, 'MAG_y_cal_range': 0.005860366582428808, 'norm_gyr_entropy': 0.00573070889446815, 'norm_gyr_avg_frequency': 0.005625801400427196, 'ACC_x_median': 0.005361727880054454, 'ACC_z_kurtosis': 0.005129932471216106, 'MAG_y_energy': 0.005120671819201109, 'GYR_z_peak_frequency': 0.0050022854971919425, 'ACC_y_min': 0.004994688943580287, 'ACC_x_peak_frequency': 0.004856432573858102, 'GYR_x_peak_frequency': 0.004445886184832121, 'ACC_z_peak_frequency': 0.004357386489607026, 'norm_mag_energy': 0.004318699931673617, 'ACC_x_mean': 0.004243236898542389, 'north_dlt': 0.003965548495283821, 'north_speed': 0.003962599572996592, 'ACC_y_cal_range': 0.003951921742602858, 'MAG_z_max': 0.0038897231701927014, 'MAG_x_min': 0.003851548195416997, 'GYR_x_min': 0.0038348778765465077, 'GYR_z_entropy': 0.0037976818402551448, 'MAG_z_mean': 0.003691014543134416, 'speed_dlt': 0.003426202278860476, 'GYR_y_entropy': 0.0033990761904966484, 'ACC_z_min': 0.0031731324200932956, 'GYR_x_std': 0.0031492453701820558, 'ACC_y_avg_frequency': 0.00291526662910376, 'MAG_z_min': 0.002877739009754191, 'MAG_y_mean': 0.002656190466090462, 'MAG_z_entropy': 0.0026010627507479815, 'MAG_x_entropy': 0.00245113207626309, 'east_speed': 0.0024441437651981854, 'MAG_x_max': 0.002404488989114324, 'norm_acc_avg_frequency': 0.0021409773662147595, 'acc': 0.002100376077245436, 'MAG_x_mean': 0.0019903544676475615, 'ACC_x_energy': 0.0019626920243844344, 'norm_gyr_median': 0.001808187008449269, 'GYR_x_cal_range': 0.0017369563834136706, 'east_dlt': 0.0014649349076662306, 'norm_acc_cal_range': 0.0014063812639823051, 'norm_gyr_mean': 0.0013974766496797455, 'ACC_x_cal_range': 0.0013283222251415712, 'GYR_x_avg_frequency': 0.0013202132949829708, 'MAG_z_std': 0.001306549390195357, 'GYR_z_energy': 0.001225369731146935, 'ACC_y_kurtosis': 0.0009800230556457074, 'norm_acc_kurtosis': 0.0008690463310358324, 'GYR_y_std': 0.0007757833756498693, 'ACC_z_entropy': 0.0007351062186369832, 'norm_acc_median': 0.0007311889164765259, 'norm_mag_entropy': 0.0006886513321360931, 'MAG_x_median': 0.0006391658855833685, 'norm_gyr_std': 0.0005548726632194692, 'MAG_x_std': 0.0005326729360315869, 'ACC_x_avg_frequency': 0.0004933480952801748, 'norm_acc_mean': 0.00038092481232482886, 'GYR_x_energy': 0.00034313328185860576, 'ACC_z_avg_frequency': 0.0003408132584316385, 'MAG_x_avg_frequency': 0.0003358032872608497, 'GYR_z_cal_range': 0.0003288730232564069, 'GYR_x_max': 0.0002603465787124088, 'ACC_x_entropy': 0.0002316665092024435, 'MAG_y_avg_frequency': 0.00018000444341097243, 'time_dlt': 0.00017314474342802104, 'ACC_z_skewness': 0.0001710553570158518, 'norm_gyr_min': 0.0001177112247892689, 'GYR_y_max': 0.00011699759906039835, 'GYR_z_max': 0.00010311721929484398, 'MAG_z_energy': 8.492332323390997e-05, 'distance_change': 6.295852610981275e-05, 'GYR_x_kurtosis': 2.5202995416624582e-05, 'MAG_z_avg_frequency': 1.753647557397162e-05, 'GYR_y_min': 9.28043066269229e-06, 'GYR_y_median': 7.502899971371612e-06, 'GYR_z_kurtosis': 7.3331832131778984e-06, 'norm_gyr_peak_frequency': 3.64065887393733e-06, 'norm_acc_skewness': 2.8618514971269353e-06, 'valid_dlt': 1.8662962674344495e-06, 'norm_mag_peak_frequency': 0.0}
importance feature add well
training set : Torso ; testing set : Hips; test order: 3
X_val  : (143960, 160)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.33
predict lgb
Time elapsed for testing lgb: 2.12
predict xgb
Time elapsed for testing xgb: 3.4
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Torso ; testing set : Hips  testing result
tree_model.pred_mean
[[16560   474     0  1572   205   230 10642   157]
 [  841 21828   133  2440     9    11   301   580]
 [    0   175  1846   753     0     0     0     0]
 [   80  2096     0  9856     0     0     0     0]
 [  223    18     0     0  7112  8723  4398     0]
 [   43     9     0    69   823  5364  2872     0]
 [  425    45     0    56  1487   830 17907  1060]
 [    0     0     0     0     0     0 11099 10608]]
              precision    recall  f1-score   support

       Still       0.91      0.55      0.69     29840
     Walking       0.89      0.83      0.86     26143
         Run       0.93      0.67      0.78      2774
        Bike       0.67      0.82      0.74     12032
         Car       0.74      0.35      0.47     20474
         Bus       0.35      0.58      0.44      9180
       Train       0.38      0.82      0.52     21810
      Subway       0.86      0.49      0.62     21707

    accuracy                           0.63    143960
   macro avg       0.72      0.64      0.64    143960
weighted avg       0.74      0.63      0.64    143960

test over
get importance point
single experiment feature importance :{'ACC_y_std_window_20_mean': 0.22420640213225082, 'latitude': 0.20441263306008176, 'MAG_x_cal_range': 0.13309873610609002, 'speed_wd_max_log': 0.12096954848609204, 'norm_acc_std_window_20_mean': 0.11509624136696206, 'ACC_y_max': 0.11354138201963795, 'GYR_y_std_window_20_mean': 0.11301122781324802, 'norm_mag_peak_frequency_window_20_mean': 0.11213451128243115, 'MAG_x_energy': 0.09455386834063305, 'gps_snr_mean_window_20_mean': 0.08364445652390691, 'speed_log': 0.08203411233139275, 'speed_square': 0.06493536353204865, 'MAG_z_cal_range': 0.06181802222402182, 'norm_gyr_median_window_20_mean': 0.06148104514723125, 'ACC_z_mean': 0.05821803730409413, 'availability': 0.05788685982737534, 'norm_acc_peak_frequency': 0.05731610381743745, 'north': 0.053366940191628215, 'ACC_y_entropy': 0.05295584036588534, 'GYR_x_entropy': 0.04739143233339009, 'number_window_20_mean': 0.0430617851452527, 'gps_snr_max': 0.035256095148539314, 'norm_acc_std': 0.032364705352041494, 'east': 0.03151640707383477, 'accuracy': 0.028636093699621362, 'ACC_y_mean': 0.027016390606476752, 'norm_mag_avg_frequency': 0.024104219743656494, 'ACC_z_median': 0.0239979438215195, 'norm_acc_energy': 0.023722513086877502, 'ACC_y_std': 0.023554639798418743, 'longitude': 0.02330855343135888, 'GYR_z_avg_frequency': 0.021567657630143712, 'norm_gyr_min_window_20_mean': 0.02153649589858974, 'number': 0.02134165240325062, 'speed_dif': 0.02089868275253233, 'ACC_y_energy': 0.02051140849809025, 'norm_acc_entropy': 0.019854711353176, 'speed': 0.01984151045255013, 'ACC_z_cal_range': 0.018005825630838954, 'acc_wd_std': 0.017988592239926302, 'GYR_y_cal_range': 0.017588396616848048, 'distance': 0.017108520573016532, 'longitude_window_20_std': 0.0165302869450583, 'acc_wd_max_log': 0.016025347671624203, 'longitude_window_20_mean': 0.01585951323296502, 'norm_gyr_cal_range': 0.015776177622814837, 'ACC_y_peak_frequency': 0.014445461614029409, 'norm_mag_std': 0.014149326313475668, 'norm_mag_max': 0.013844190439865994, 'GYR_z_std': 0.013314817875978305, 'gps_snr_std': 0.013037566688676587, 'norm_mag_min': 0.01288512118269298, 'MAG_y_std': 0.012188566886569262, 'norm_acc_min': 0.011712750764826184, 'GYR_y_avg_frequency': 0.011708035024403114, 'altitude': 0.011338362102614467, 'ACC_z_max': 0.011248207064384374, 'speed_wd_std': 0.010603932204490105, 'ACC_x_min': 0.010192598874498578, 'norm_mag_mean': 0.010080118698777172, 'is_stop': 0.010058544376026272, 'ACC_x_max': 0.009703758842244404, 'norm_acc_max': 0.009499389259961676, 'norm_mag_cal_range': 0.009007732403838968, 'GYR_z_min': 0.00863825678726262, 'norm_gyr_energy': 0.008598852190778645, 'MAG_y_max': 0.008265723943784508, 'norm_gyr_max': 0.008032346645179886, 'MAG_y_median': 0.007880805725933413, 'MAG_z_median': 0.007768523621936408, 'GYR_y_energy': 0.007480752469267438, 'ACC_z_energy': 0.007348119779106318, 'MAG_y_entropy': 0.007259514624271351, 'gps_snr_min': 0.007202746776720055, 'ACC_x_std': 0.006712247397096414, 'MAG_y_min': 0.006583201507290654, 'GYR_y_peak_frequency': 0.0065741227417475566, 'ACC_z_std': 0.0061605960946266875, 'gps_snr_mean': 0.006160477002829334, 'ACC_y_median': 0.006153568195242459, 'norm_mag_median': 0.006128981257077753, 'MAG_y_cal_range': 0.005860366582428808, 'norm_gyr_entropy': 0.00573070889446815, 'norm_gyr_avg_frequency': 0.005625801400427196, 'ACC_x_median': 0.005361727880054454, 'ACC_z_kurtosis': 0.005129932471216106, 'MAG_y_energy': 0.005120671819201109, 'GYR_z_peak_frequency': 0.0050022854971919425, 'ACC_y_min': 0.004994688943580287, 'ACC_x_peak_frequency': 0.004856432573858102, 'GYR_x_peak_frequency': 0.004445886184832121, 'ACC_z_peak_frequency': 0.004357386489607026, 'norm_mag_energy': 0.004318699931673617, 'ACC_x_mean': 0.004243236898542389, 'north_dlt': 0.003965548495283821, 'north_speed': 0.003962599572996592, 'ACC_y_cal_range': 0.003951921742602858, 'MAG_z_max': 0.0038897231701927014, 'MAG_x_min': 0.003851548195416997, 'GYR_x_min': 0.0038348778765465077, 'GYR_z_entropy': 0.0037976818402551448, 'MAG_z_mean': 0.003691014543134416, 'speed_dlt': 0.003426202278860476, 'GYR_y_entropy': 0.0033990761904966484, 'ACC_z_min': 0.0031731324200932956, 'GYR_x_std': 0.0031492453701820558, 'ACC_y_avg_frequency': 0.00291526662910376, 'MAG_z_min': 0.002877739009754191, 'MAG_y_mean': 0.002656190466090462, 'MAG_z_entropy': 0.0026010627507479815, 'MAG_x_entropy': 0.00245113207626309, 'east_speed': 0.0024441437651981854, 'MAG_x_max': 0.002404488989114324, 'norm_acc_avg_frequency': 0.0021409773662147595, 'acc': 0.002100376077245436, 'MAG_x_mean': 0.0019903544676475615, 'ACC_x_energy': 0.0019626920243844344, 'norm_gyr_median': 0.001808187008449269, 'GYR_x_cal_range': 0.0017369563834136706, 'east_dlt': 0.0014649349076662306, 'norm_acc_cal_range': 0.0014063812639823051, 'norm_gyr_mean': 0.0013974766496797455, 'ACC_x_cal_range': 0.0013283222251415712, 'GYR_x_avg_frequency': 0.0013202132949829708, 'MAG_z_std': 0.001306549390195357, 'GYR_z_energy': 0.001225369731146935, 'ACC_y_kurtosis': 0.0009800230556457074, 'norm_acc_kurtosis': 0.0008690463310358324, 'GYR_y_std': 0.0007757833756498693, 'ACC_z_entropy': 0.0007351062186369832, 'norm_acc_median': 0.0007311889164765259, 'norm_mag_entropy': 0.0006886513321360931, 'MAG_x_median': 0.0006391658855833685, 'norm_gyr_std': 0.0005548726632194692, 'MAG_x_std': 0.0005326729360315869, 'ACC_x_avg_frequency': 0.0004933480952801748, 'norm_acc_mean': 0.00038092481232482886, 'GYR_x_energy': 0.00034313328185860576, 'ACC_z_avg_frequency': 0.0003408132584316385, 'MAG_x_avg_frequency': 0.0003358032872608497, 'GYR_z_cal_range': 0.0003288730232564069, 'GYR_x_max': 0.0002603465787124088, 'ACC_x_entropy': 0.0002316665092024435, 'MAG_y_avg_frequency': 0.00018000444341097243, 'time_dlt': 0.00017314474342802104, 'ACC_z_skewness': 0.0001710553570158518, 'norm_gyr_min': 0.0001177112247892689, 'GYR_y_max': 0.00011699759906039835, 'GYR_z_max': 0.00010311721929484398, 'MAG_z_energy': 8.492332323390997e-05, 'distance_change': 6.295852610981275e-05, 'GYR_x_kurtosis': 2.5202995416624582e-05, 'MAG_z_avg_frequency': 1.753647557397162e-05, 'GYR_y_min': 9.28043066269229e-06, 'GYR_y_median': 7.502899971371612e-06, 'GYR_z_kurtosis': 7.3331832131778984e-06, 'norm_gyr_peak_frequency': 3.64065887393733e-06, 'norm_acc_skewness': 2.8618514971269353e-06, 'valid_dlt': 1.8662962674344495e-06, 'norm_mag_peak_frequency': 0.0}
importance feature add well
