nohup: ignoring input
1 --------------------- 原始训练集当训练集,原始验证集当测试集的实验---------------------
the all length of training set:4202104
the all length of test set:575840
begin training all
training set:all_train_set,the 0th training set
begin training
X_train: (4202104, 176)
y_train: 4202104
Training rf...
Time elapsed for training rf: 1058.8
Training LightGBM...
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Warning] Auto-choosing col-wise multi-threading, the overhead of testing was 2.029238 seconds.
You can set `force_col_wise=true` to remove the overhead.
[LightGBM] [Info] Total Bins 41454
[LightGBM] [Info] Number of data points in the train set: 3361683, number of used features: 176
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Info] Start training from score -2.149987
[LightGBM] [Info] Start training from score -2.146886
[LightGBM] [Info] Start training from score -2.235589
[LightGBM] [Info] Start training from score -2.191960
[LightGBM] [Info] Start training from score -1.890759
[LightGBM] [Info] Start training from score -2.003480
[LightGBM] [Info] Start training from score -1.904661
[LightGBM] [Info] Start training from score -2.177322
[1]	valid_0's multi_logloss: 1.53882
[2]	valid_0's multi_logloss: 1.25301
[3]	valid_0's multi_logloss: 1.0536
[4]	valid_0's multi_logloss: 0.901708
[5]	valid_0's multi_logloss: 0.782238
[6]	valid_0's multi_logloss: 0.683997
[7]	valid_0's multi_logloss: 0.603784
[8]	valid_0's multi_logloss: 0.536831
[9]	valid_0's multi_logloss: 0.48069
[10]	valid_0's multi_logloss: 0.432638
[11]	valid_0's multi_logloss: 0.392146
[12]	valid_0's multi_logloss: 0.357631
[13]	valid_0's multi_logloss: 0.327491
[14]	valid_0's multi_logloss: 0.301428
[15]	valid_0's multi_logloss: 0.278624
[16]	valid_0's multi_logloss: 0.258636
[17]	valid_0's multi_logloss: 0.241011
[18]	valid_0's multi_logloss: 0.225481
[19]	valid_0's multi_logloss: 0.212054
[20]	valid_0's multi_logloss: 0.200189
[21]	valid_0's multi_logloss: 0.190132
[22]	valid_0's multi_logloss: 0.180696
[23]	valid_0's multi_logloss: 0.172068
[24]	valid_0's multi_logloss: 0.164234
[25]	valid_0's multi_logloss: 0.157124
[26]	valid_0's multi_logloss: 0.150436
[27]	valid_0's multi_logloss: 0.14441
[28]	valid_0's multi_logloss: 0.138106
[29]	valid_0's multi_logloss: 0.132241
[30]	valid_0's multi_logloss: 0.127392
[31]	valid_0's multi_logloss: 0.122738
[32]	valid_0's multi_logloss: 0.118498
[33]	valid_0's multi_logloss: 0.114349
[34]	valid_0's multi_logloss: 0.110716
[35]	valid_0's multi_logloss: 0.107301
[36]	valid_0's multi_logloss: 0.104033
[37]	valid_0's multi_logloss: 0.101127
[38]	valid_0's multi_logloss: 0.0984201
[39]	valid_0's multi_logloss: 0.0956687
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[40]	valid_0's multi_logloss: 0.0927351
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[41]	valid_0's multi_logloss: 0.090387
[42]	valid_0's multi_logloss: 0.0882175
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[43]	valid_0's multi_logloss: 0.0860117
[44]	valid_0's multi_logloss: 0.0840637
[45]	valid_0's multi_logloss: 0.0819773
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[46]	valid_0's multi_logloss: 0.0802095
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[47]	valid_0's multi_logloss: 0.0784676
[48]	valid_0's multi_logloss: 0.076488
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[49]	valid_0's multi_logloss: 0.0750039
[50]	valid_0's multi_logloss: 0.0735437
[51]	valid_0's multi_logloss: 0.0720829
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[52]	valid_0's multi_logloss: 0.0706425
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[53]	valid_0's multi_logloss: 0.0691953
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[54]	valid_0's multi_logloss: 0.0678971
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[55]	valid_0's multi_logloss: 0.0667259
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[56]	valid_0's multi_logloss: 0.0656693
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[57]	valid_0's multi_logloss: 0.0646443
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[58]	valid_0's multi_logloss: 0.063413
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[59]	valid_0's multi_logloss: 0.0624161
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[60]	valid_0's multi_logloss: 0.061389
[61]	valid_0's multi_logloss: 0.060391
[62]	valid_0's multi_logloss: 0.059391
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[63]	valid_0's multi_logloss: 0.0584395
[64]	valid_0's multi_logloss: 0.05749
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[65]	valid_0's multi_logloss: 0.0567194
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[66]	valid_0's multi_logloss: 0.0558946
[67]	valid_0's multi_logloss: 0.0550951
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[68]	valid_0's multi_logloss: 0.0542688
[69]	valid_0's multi_logloss: 0.0534754
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[70]	valid_0's multi_logloss: 0.0525368
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[71]	valid_0's multi_logloss: 0.051725
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[72]	valid_0's multi_logloss: 0.0511101
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[73]	valid_0's multi_logloss: 0.0503226
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[74]	valid_0's multi_logloss: 0.0495394
[75]	valid_0's multi_logloss: 0.0489362
[76]	valid_0's multi_logloss: 0.0481961
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[77]	valid_0's multi_logloss: 0.04758
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[78]	valid_0's multi_logloss: 0.0470422
[79]	valid_0's multi_logloss: 0.0464104
[80]	valid_0's multi_logloss: 0.0458528
[81]	valid_0's multi_logloss: 0.0451106
[82]	valid_0's multi_logloss: 0.0444419
[83]	valid_0's multi_logloss: 0.0438583
[84]	valid_0's multi_logloss: 0.0432398
[85]	valid_0's multi_logloss: 0.0426683
[86]	valid_0's multi_logloss: 0.042183
[87]	valid_0's multi_logloss: 0.041652
[88]	valid_0's multi_logloss: 0.0412154
[89]	valid_0's multi_logloss: 0.04067
[90]	valid_0's multi_logloss: 0.0402624
[91]	valid_0's multi_logloss: 0.0396949
[92]	valid_0's multi_logloss: 0.0392736
[93]	valid_0's multi_logloss: 0.0388486
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[94]	valid_0's multi_logloss: 0.0384474
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[95]	valid_0's multi_logloss: 0.0380664
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[96]	valid_0's multi_logloss: 0.037531
[97]	valid_0's multi_logloss: 0.0370844
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[98]	valid_0's multi_logloss: 0.0366397
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[99]	valid_0's multi_logloss: 0.0361892
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[100]	valid_0's multi_logloss: 0.0357977
Time elapsed for training LightGBM: 392.15
Training XGBoost...
[00:30:05] WARNING: /workspace/src/gbm/gbtree.cc:139: Tree method is automatically selected to be 'approx' for faster speed. To use old behavior (exact greedy algorithm on single machine), set tree_method to 'exact'.
Time elapsed for training XGBoost: 3307.48
begin testing
training set : all_train_set ; testing set : all_test_set; test order: 0
X_val  : (575840, 176)
y_val  : 575840
predict rf
Time elapsed for testing rf 4.04
predict lgb
Time elapsed for testing lgb: 4.68
predict xgb
Time elapsed for testing xgb: 8.99
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : all_train_set ; testing set : all_test_set  testing result
tree_model.pred_mean
[[105603   1854      0    130   1744   1383   6380   2266]
 [  5932  92706     73   2750    371    840    876   1024]
 [     0   6904   3823    369      0      0      0      0]
 [  2565   3475      0  32663   8748    677      0      0]
 [  1115    419      0      0  74870   4953    539      0]
 [   200    104      0    117   9036  26471    792      0]
 [  4615    272      0    187   9561   4480  64997   3128]
 [     0     11      0      0      0      0  26764  60053]]
              precision    recall  f1-score   support

       Still       0.88      0.88      0.88    119360
     Walking       0.88      0.89      0.88    104572
         Run       0.98      0.34      0.51     11096
        Bike       0.90      0.68      0.77     48128
         Car       0.72      0.91      0.80     81896
         Bus       0.68      0.72      0.70     36720
       Train       0.65      0.75      0.69     87240
      Subway       0.90      0.69      0.78     86828

    accuracy                           0.80    575840
   macro avg       0.82      0.73      0.75    575840
weighted avg       0.82      0.80      0.80    575840

test over
get importance point
single experiment feature importance :{'norm_acc_std_window_20_mean': 0.3340932005765409, 'speed_wd_max_log': 0.19290893376134569, 'distance_railways': 0.19277815931738124, 'distance_subway': 0.16616013935223947, 'code': 0.14201942444440338, 'norm_acc_std': 0.13989415966558383, 'distance_bus_routes': 0.12222101026039778, 'norm_acc_entropy': 0.11506763645276716, 'norm_mag_peak_frequency_window_20_mean': 0.06845196798734153, 'speed_square': 0.0630213468129199, 'distance_bus_stops': 0.05568269499884985, 'ACC_y_std_window_20_mean': 0.05086822844439798, 'latitude': 0.04866356044643938, 'norm_acc_energy': 0.048606571683920886, 'distance_Brighton': 0.04587380037711194, 'distance_London': 0.04542330245735062, 'speed_log': 0.04414508491753984, 'distance_parks': 0.042025849189867945, 'MAG_y_energy': 0.04082784120111999, 'norm_gyr_median': 0.03350372416678335, 'norm_gyr_min_window_20_mean': 0.03320445586700254, 'ACC_y_entropy': 0.027747183863798007, 'GYR_z_entropy': 0.026851802307668378, 'GYR_x_entropy': 0.024492691980662257, 'ACC_y_std': 0.024012664999088745, 'is_stop': 0.022898608230270713, 'number_window_20_mean': 0.022863735496688527, 'ACC_y_peak_frequency': 0.021337646440153672, 'longitude': 0.02132065014535207, 'distance': 0.020901912472940716, 'norm_acc_max': 0.02071924870777501, 'norm_mag_avg_frequency': 0.020623171541940172, 'ACC_y_energy': 0.01942376848610647, 'norm_acc_peak_frequency': 0.01938640235020697, 'norm_gyr_median_window_20_mean': 0.019328329034314702, 'longitude_window_20_std': 0.01888301060598962, 'ACC_x_std': 0.018575699828220625, 'north': 0.018184582051566384, 'speed_dif': 0.017038207300994826, 'ACC_x_cal_range': 0.01660054836722978, 'number': 0.016414371195669332, 'ACC_y_cal_range': 0.015976520810297754, 'ACC_x_entropy': 0.015874175563138915, 'ACC_z_median': 0.015119449468699225, 'east': 0.014972044981374603, 'longitude_window_20_mean': 0.014547541318722719, 'acc_wd_std': 0.014389390099387039, 'ACC_z_mean': 0.013563744894719284, 'speed': 0.012887777834163412, 'acc_wd_max_log': 0.012282148514668247, 'gps_snr_mean_window_20_mean': 0.012041620427785494, 'GYR_x_std': 0.011663598121910255, 'norm_gyr_mean': 0.01142378175856705, 'norm_acc_cal_range': 0.011267669957502141, 'speed_wd_std': 0.010556327968251445, 'norm_mag_std': 0.010157030230661702, 'GYR_y_std': 0.010110270150624968, 'MAG_x_cal_range': 0.009431676636505801, 'gps_snr_max': 0.00899735637301223, 'GYR_z_peak_frequency': 0.00887544438649629, 'ACC_x_energy': 0.008864339991197828, 'ACC_z_cal_range': 0.008749312917557674, 'accuracy': 0.008196061695805848, 'GYR_z_energy': 0.008189068291241629, 'norm_mag_mean': 0.008058797551595968, 'GYR_z_avg_frequency': 0.00789911266805655, 'norm_acc_min': 0.0077175848074322, 'altitude': 0.007406174610856037, 'ACC_x_avg_frequency': 0.0071128129599293275, 'ACC_y_max': 0.006892533884680722, 'norm_mag_min': 0.006771338759659757, 'GYR_y_peak_frequency': 0.006686069717455077, 'MAG_z_std': 0.006352993329524009, 'GYR_x_peak_frequency': 0.006166846510870488, 'MAG_x_energy': 0.006020439226697845, 'error': 0.00598172672338766, 'gps_snr_mean': 0.005845484947052231, 'norm_mag_median': 0.005738129475832405, 'ACC_z_std': 0.005717636575609712, 'north_speed': 0.005278525918897284, 'gps_snr_std': 0.005067486136186362, 'norm_gyr_avg_frequency': 0.0047445593251409955, 'ACC_y_mean': 0.004676221136267002, 'ACC_z_energy': 0.004674368270538645, 'north_dlt': 0.0046032814600991435, 'norm_mag_max': 0.004547275229305687, 'ACC_x_peak_frequency': 0.004530515721564264, 'MAG_z_avg_frequency': 0.004526588288511038, 'ACC_x_mean': 0.0044823439072452205, 'ACC_z_max': 0.004343670643469925, 'GYR_y_std_window_20_mean': 0.004114253245953169, 'ACC_y_avg_frequency': 0.004091777856687155, 'MAG_x_std': 0.004043477461726878, 'norm_mag_cal_range': 0.0038870592158630783, 'ACC_z_min': 0.0037362052909835734, 'GYR_y_cal_range': 0.003556287505286378, 'ACC_x_max': 0.0035206618146840568, 'norm_mag_energy': 0.003514163307116046, 'ACC_y_median': 0.0034832363842635227, 'ACC_z_kurtosis': 0.0032030889906543513, 'norm_gyr_entropy': 0.0030102663689216347, 'GYR_z_cal_range': 0.0029813691259919254, 'MAG_y_entropy': 0.002813765330598678, 'GYR_y_avg_frequency': 0.002768181698953936, 'norm_acc_avg_frequency': 0.002754159344408297, 'MAG_z_energy': 0.0025360687797690287, 'MAG_z_mean': 0.002534529468275905, 'ACC_z_peak_frequency': 0.0025052145479597296, 'availability': 0.002414105515447661, 'GYR_y_min': 0.0024138426397037373, 'MAG_x_min': 0.0023681554430422256, 'acc': 0.0023462432137702914, 'MAG_z_median': 0.0022737704913221267, 'ACC_y_min': 0.00224361102990536, 'norm_gyr_std': 0.0022199352038730653, 'MAG_z_max': 0.00207529321713388, 'GYR_z_std': 0.0020703645906461976, 'east_dlt': 0.002065173076944527, 'GYR_y_max': 0.0020605364811656264, 'norm_acc_median': 0.002004131271423272, 'ACC_z_avg_frequency': 0.001984846283208588, 'norm_gyr_energy': 0.0019500427624498714, 'MAG_y_avg_frequency': 0.001930921293177471, 'MAG_y_median': 0.0017989069221852, 'norm_acc_kurtosis': 0.001780695370766817, 'speed_dlt': 0.0017378401193979946, 'GYR_x_avg_frequency': 0.0017201303876362717, 'east_speed': 0.0015463046776936717, 'MAG_z_entropy': 0.0015098736671483105, 'norm_gyr_min': 0.0014733665534149194, 'MAG_y_max': 0.0014707363277176298, 'MAG_y_std': 0.001427168322237173, 'ACC_x_min': 0.0013825298981997563, 'ACC_z_entropy': 0.0013350300847170843, 'distance_bus_routes_change': 0.001330034933713761, 'norm_gyr_cal_range': 0.0013250894092475094, 'ACC_x_median': 0.0013139686959736845, 'norm_acc_mean': 0.0012924616049869917, 'norm_gyr_max': 0.0012077358973924509, 'GYR_x_energy': 0.0011650693297437344, 'ACC_z_skewness': 0.0011380403374833515, 'norm_gyr_peak_frequency': 0.001134859280470394, 'norm_acc_skewness': 0.0010997343428708975, 'MAG_z_min': 0.0010950538644403794, 'MAG_x_max': 0.0010618571242855123, 'MAG_y_min': 0.001061515594653456, 'distance_railways_change': 0.0010086062872771227, 'MAG_y_cal_range': 0.0009285310314292183, 'MAG_y_mean': 0.0008617064581730163, 'GYR_z_min': 0.0008294878929428368, 'norm_mag_peak_frequency': 0.0007998986850290697, 'MAG_x_median': 0.0007949916627278399, 'norm_mag_entropy': 0.0007853377710640695, 'MAG_x_mean': 0.0007624619761997604, 'distance_London_change': 0.0007261977587407811, 'distance_parks_change': 0.0007118760700238096, 'gps_snr_min': 0.0006449942526240265, 'ACC_y_kurtosis': 0.0006106121735287479, 'MAG_x_entropy': 0.0005904681617724156, 'GYR_y_entropy': 0.0004941704637590002, 'time_dlt': 0.0004567374112615926, 'GYR_x_cal_range': 0.000397436066773782, 'MAG_z_cal_range': 0.0003933601684147813, 'GYR_z_max': 0.00034342014213190573, 'distance_change': 0.00028293095164939875, 'MAG_x_avg_frequency': 0.0002700725720577598, 'error_change': 0.00025064298475036364, 'distance_subway_change': 0.00023171651979808953, 'GYR_y_median': 0.0002217899388021545, 'GYR_x_max': 0.00021567269372239374, 'distance_Brighton_change': 0.00016932904800649062, 'GYR_x_min': 0.00015610034591233797, 'valid_dlt': 5.627837381079603e-05, 'GYR_y_energy': 3.587798449720611e-05, 'GYR_x_kurtosis': 3.1882027858115226e-05, 'GYR_z_kurtosis': 3.048159976551485e-05}
importance feature add well
training set : all_train_set ; testing set : Torso; test order: 1
X_val  : (143960, 176)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.0
predict lgb
Time elapsed for testing lgb: 1.27
predict xgb
Time elapsed for testing xgb: 2.42
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : all_train_set ; testing set : Torso  testing result
tree_model.pred_mean
[[26529   277     0    49   355   464  1965   201]
 [ 1702 23111     9   251   143   496   232   199]
 [    0  1887   886     1     0     0     0     0]
 [  528   301     0  7329  3568   306     0     0]
 [  303    66     0     0 18477  1478   150     0]
 [  161    36     0     0  1852  6968   163     0]
 [ 2495    40     0     0   698  2572 15153   852]
 [    0     3     0     0     0     0 11099 10605]]
              precision    recall  f1-score   support

       Still       0.84      0.89      0.86     29840
     Walking       0.90      0.88      0.89     26143
         Run       0.99      0.32      0.48      2774
        Bike       0.96      0.61      0.75     12032
         Car       0.74      0.90      0.81     20474
         Bus       0.57      0.76      0.65      9180
       Train       0.53      0.69      0.60     21810
      Subway       0.89      0.49      0.63     21707

    accuracy                           0.76    143960
   macro avg       0.80      0.69      0.71    143960
weighted avg       0.79      0.76      0.75    143960

test over
get importance point
single experiment feature importance :{'norm_acc_std_window_20_mean': 0.3340932005765409, 'speed_wd_max_log': 0.19290893376134569, 'distance_railways': 0.19277815931738124, 'distance_subway': 0.16616013935223947, 'code': 0.14201942444440338, 'norm_acc_std': 0.13989415966558383, 'distance_bus_routes': 0.12222101026039778, 'norm_acc_entropy': 0.11506763645276716, 'norm_mag_peak_frequency_window_20_mean': 0.06845196798734153, 'speed_square': 0.0630213468129199, 'distance_bus_stops': 0.05568269499884985, 'ACC_y_std_window_20_mean': 0.05086822844439798, 'latitude': 0.04866356044643938, 'norm_acc_energy': 0.048606571683920886, 'distance_Brighton': 0.04587380037711194, 'distance_London': 0.04542330245735062, 'speed_log': 0.04414508491753984, 'distance_parks': 0.042025849189867945, 'MAG_y_energy': 0.04082784120111999, 'norm_gyr_median': 0.03350372416678335, 'norm_gyr_min_window_20_mean': 0.03320445586700254, 'ACC_y_entropy': 0.027747183863798007, 'GYR_z_entropy': 0.026851802307668378, 'GYR_x_entropy': 0.024492691980662257, 'ACC_y_std': 0.024012664999088745, 'is_stop': 0.022898608230270713, 'number_window_20_mean': 0.022863735496688527, 'ACC_y_peak_frequency': 0.021337646440153672, 'longitude': 0.02132065014535207, 'distance': 0.020901912472940716, 'norm_acc_max': 0.02071924870777501, 'norm_mag_avg_frequency': 0.020623171541940172, 'ACC_y_energy': 0.01942376848610647, 'norm_acc_peak_frequency': 0.01938640235020697, 'norm_gyr_median_window_20_mean': 0.019328329034314702, 'longitude_window_20_std': 0.01888301060598962, 'ACC_x_std': 0.018575699828220625, 'north': 0.018184582051566384, 'speed_dif': 0.017038207300994826, 'ACC_x_cal_range': 0.01660054836722978, 'number': 0.016414371195669332, 'ACC_y_cal_range': 0.015976520810297754, 'ACC_x_entropy': 0.015874175563138915, 'ACC_z_median': 0.015119449468699225, 'east': 0.014972044981374603, 'longitude_window_20_mean': 0.014547541318722719, 'acc_wd_std': 0.014389390099387039, 'ACC_z_mean': 0.013563744894719284, 'speed': 0.012887777834163412, 'acc_wd_max_log': 0.012282148514668247, 'gps_snr_mean_window_20_mean': 0.012041620427785494, 'GYR_x_std': 0.011663598121910255, 'norm_gyr_mean': 0.01142378175856705, 'norm_acc_cal_range': 0.011267669957502141, 'speed_wd_std': 0.010556327968251445, 'norm_mag_std': 0.010157030230661702, 'GYR_y_std': 0.010110270150624968, 'MAG_x_cal_range': 0.009431676636505801, 'gps_snr_max': 0.00899735637301223, 'GYR_z_peak_frequency': 0.00887544438649629, 'ACC_x_energy': 0.008864339991197828, 'ACC_z_cal_range': 0.008749312917557674, 'accuracy': 0.008196061695805848, 'GYR_z_energy': 0.008189068291241629, 'norm_mag_mean': 0.008058797551595968, 'GYR_z_avg_frequency': 0.00789911266805655, 'norm_acc_min': 0.0077175848074322, 'altitude': 0.007406174610856037, 'ACC_x_avg_frequency': 0.0071128129599293275, 'ACC_y_max': 0.006892533884680722, 'norm_mag_min': 0.006771338759659757, 'GYR_y_peak_frequency': 0.006686069717455077, 'MAG_z_std': 0.006352993329524009, 'GYR_x_peak_frequency': 0.006166846510870488, 'MAG_x_energy': 0.006020439226697845, 'error': 0.00598172672338766, 'gps_snr_mean': 0.005845484947052231, 'norm_mag_median': 0.005738129475832405, 'ACC_z_std': 0.005717636575609712, 'north_speed': 0.005278525918897284, 'gps_snr_std': 0.005067486136186362, 'norm_gyr_avg_frequency': 0.0047445593251409955, 'ACC_y_mean': 0.004676221136267002, 'ACC_z_energy': 0.004674368270538645, 'north_dlt': 0.0046032814600991435, 'norm_mag_max': 0.004547275229305687, 'ACC_x_peak_frequency': 0.004530515721564264, 'MAG_z_avg_frequency': 0.004526588288511038, 'ACC_x_mean': 0.0044823439072452205, 'ACC_z_max': 0.004343670643469925, 'GYR_y_std_window_20_mean': 0.004114253245953169, 'ACC_y_avg_frequency': 0.004091777856687155, 'MAG_x_std': 0.004043477461726878, 'norm_mag_cal_range': 0.0038870592158630783, 'ACC_z_min': 0.0037362052909835734, 'GYR_y_cal_range': 0.003556287505286378, 'ACC_x_max': 0.0035206618146840568, 'norm_mag_energy': 0.003514163307116046, 'ACC_y_median': 0.0034832363842635227, 'ACC_z_kurtosis': 0.0032030889906543513, 'norm_gyr_entropy': 0.0030102663689216347, 'GYR_z_cal_range': 0.0029813691259919254, 'MAG_y_entropy': 0.002813765330598678, 'GYR_y_avg_frequency': 0.002768181698953936, 'norm_acc_avg_frequency': 0.002754159344408297, 'MAG_z_energy': 0.0025360687797690287, 'MAG_z_mean': 0.002534529468275905, 'ACC_z_peak_frequency': 0.0025052145479597296, 'availability': 0.002414105515447661, 'GYR_y_min': 0.0024138426397037373, 'MAG_x_min': 0.0023681554430422256, 'acc': 0.0023462432137702914, 'MAG_z_median': 0.0022737704913221267, 'ACC_y_min': 0.00224361102990536, 'norm_gyr_std': 0.0022199352038730653, 'MAG_z_max': 0.00207529321713388, 'GYR_z_std': 0.0020703645906461976, 'east_dlt': 0.002065173076944527, 'GYR_y_max': 0.0020605364811656264, 'norm_acc_median': 0.002004131271423272, 'ACC_z_avg_frequency': 0.001984846283208588, 'norm_gyr_energy': 0.0019500427624498714, 'MAG_y_avg_frequency': 0.001930921293177471, 'MAG_y_median': 0.0017989069221852, 'norm_acc_kurtosis': 0.001780695370766817, 'speed_dlt': 0.0017378401193979946, 'GYR_x_avg_frequency': 0.0017201303876362717, 'east_speed': 0.0015463046776936717, 'MAG_z_entropy': 0.0015098736671483105, 'norm_gyr_min': 0.0014733665534149194, 'MAG_y_max': 0.0014707363277176298, 'MAG_y_std': 0.001427168322237173, 'ACC_x_min': 0.0013825298981997563, 'ACC_z_entropy': 0.0013350300847170843, 'distance_bus_routes_change': 0.001330034933713761, 'norm_gyr_cal_range': 0.0013250894092475094, 'ACC_x_median': 0.0013139686959736845, 'norm_acc_mean': 0.0012924616049869917, 'norm_gyr_max': 0.0012077358973924509, 'GYR_x_energy': 0.0011650693297437344, 'ACC_z_skewness': 0.0011380403374833515, 'norm_gyr_peak_frequency': 0.001134859280470394, 'norm_acc_skewness': 0.0010997343428708975, 'MAG_z_min': 0.0010950538644403794, 'MAG_x_max': 0.0010618571242855123, 'MAG_y_min': 0.001061515594653456, 'distance_railways_change': 0.0010086062872771227, 'MAG_y_cal_range': 0.0009285310314292183, 'MAG_y_mean': 0.0008617064581730163, 'GYR_z_min': 0.0008294878929428368, 'norm_mag_peak_frequency': 0.0007998986850290697, 'MAG_x_median': 0.0007949916627278399, 'norm_mag_entropy': 0.0007853377710640695, 'MAG_x_mean': 0.0007624619761997604, 'distance_London_change': 0.0007261977587407811, 'distance_parks_change': 0.0007118760700238096, 'gps_snr_min': 0.0006449942526240265, 'ACC_y_kurtosis': 0.0006106121735287479, 'MAG_x_entropy': 0.0005904681617724156, 'GYR_y_entropy': 0.0004941704637590002, 'time_dlt': 0.0004567374112615926, 'GYR_x_cal_range': 0.000397436066773782, 'MAG_z_cal_range': 0.0003933601684147813, 'GYR_z_max': 0.00034342014213190573, 'distance_change': 0.00028293095164939875, 'MAG_x_avg_frequency': 0.0002700725720577598, 'error_change': 0.00025064298475036364, 'distance_subway_change': 0.00023171651979808953, 'GYR_y_median': 0.0002217899388021545, 'GYR_x_max': 0.00021567269372239374, 'distance_Brighton_change': 0.00016932904800649062, 'GYR_x_min': 0.00015610034591233797, 'valid_dlt': 5.627837381079603e-05, 'GYR_y_energy': 3.587798449720611e-05, 'GYR_x_kurtosis': 3.1882027858115226e-05, 'GYR_z_kurtosis': 3.048159976551485e-05}
importance feature add well
training set : all_train_set ; testing set : Bag; test order: 2
X_val  : (143960, 176)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.03
predict lgb
Time elapsed for testing lgb: 1.2
predict xgb
Time elapsed for testing xgb: 2.3
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : all_train_set ; testing set : Bag  testing result
tree_model.pred_mean
[[27293   346     0     0   616    73   545   967]
 [ 1417 23198     7   740   138   130   307   206]
 [    0  1716   887   171     0     0     0     0]
 [  761   476     0  6479  4079   237     0     0]
 [   79    26     0     0 19893   317   159     0]
 [    0    28     0    42  2522  6413   175     0]
 [  706    52     0    83  2717   708 16737   807]
 [    0     1     0     0     0     0  2292 19414]]
              precision    recall  f1-score   support

       Still       0.90      0.91      0.91     29840
     Walking       0.90      0.89      0.89     26143
         Run       0.99      0.32      0.48      2774
        Bike       0.86      0.54      0.66     12032
         Car       0.66      0.97      0.79     20474
         Bus       0.81      0.70      0.75      9180
       Train       0.83      0.77      0.80     21810
      Subway       0.91      0.89      0.90     21707

    accuracy                           0.84    143960
   macro avg       0.86      0.75      0.77    143960
weighted avg       0.85      0.84      0.83    143960

test over
get importance point
single experiment feature importance :{'norm_acc_std_window_20_mean': 0.3340932005765409, 'speed_wd_max_log': 0.19290893376134569, 'distance_railways': 0.19277815931738124, 'distance_subway': 0.16616013935223947, 'code': 0.14201942444440338, 'norm_acc_std': 0.13989415966558383, 'distance_bus_routes': 0.12222101026039778, 'norm_acc_entropy': 0.11506763645276716, 'norm_mag_peak_frequency_window_20_mean': 0.06845196798734153, 'speed_square': 0.0630213468129199, 'distance_bus_stops': 0.05568269499884985, 'ACC_y_std_window_20_mean': 0.05086822844439798, 'latitude': 0.04866356044643938, 'norm_acc_energy': 0.048606571683920886, 'distance_Brighton': 0.04587380037711194, 'distance_London': 0.04542330245735062, 'speed_log': 0.04414508491753984, 'distance_parks': 0.042025849189867945, 'MAG_y_energy': 0.04082784120111999, 'norm_gyr_median': 0.03350372416678335, 'norm_gyr_min_window_20_mean': 0.03320445586700254, 'ACC_y_entropy': 0.027747183863798007, 'GYR_z_entropy': 0.026851802307668378, 'GYR_x_entropy': 0.024492691980662257, 'ACC_y_std': 0.024012664999088745, 'is_stop': 0.022898608230270713, 'number_window_20_mean': 0.022863735496688527, 'ACC_y_peak_frequency': 0.021337646440153672, 'longitude': 0.02132065014535207, 'distance': 0.020901912472940716, 'norm_acc_max': 0.02071924870777501, 'norm_mag_avg_frequency': 0.020623171541940172, 'ACC_y_energy': 0.01942376848610647, 'norm_acc_peak_frequency': 0.01938640235020697, 'norm_gyr_median_window_20_mean': 0.019328329034314702, 'longitude_window_20_std': 0.01888301060598962, 'ACC_x_std': 0.018575699828220625, 'north': 0.018184582051566384, 'speed_dif': 0.017038207300994826, 'ACC_x_cal_range': 0.01660054836722978, 'number': 0.016414371195669332, 'ACC_y_cal_range': 0.015976520810297754, 'ACC_x_entropy': 0.015874175563138915, 'ACC_z_median': 0.015119449468699225, 'east': 0.014972044981374603, 'longitude_window_20_mean': 0.014547541318722719, 'acc_wd_std': 0.014389390099387039, 'ACC_z_mean': 0.013563744894719284, 'speed': 0.012887777834163412, 'acc_wd_max_log': 0.012282148514668247, 'gps_snr_mean_window_20_mean': 0.012041620427785494, 'GYR_x_std': 0.011663598121910255, 'norm_gyr_mean': 0.01142378175856705, 'norm_acc_cal_range': 0.011267669957502141, 'speed_wd_std': 0.010556327968251445, 'norm_mag_std': 0.010157030230661702, 'GYR_y_std': 0.010110270150624968, 'MAG_x_cal_range': 0.009431676636505801, 'gps_snr_max': 0.00899735637301223, 'GYR_z_peak_frequency': 0.00887544438649629, 'ACC_x_energy': 0.008864339991197828, 'ACC_z_cal_range': 0.008749312917557674, 'accuracy': 0.008196061695805848, 'GYR_z_energy': 0.008189068291241629, 'norm_mag_mean': 0.008058797551595968, 'GYR_z_avg_frequency': 0.00789911266805655, 'norm_acc_min': 0.0077175848074322, 'altitude': 0.007406174610856037, 'ACC_x_avg_frequency': 0.0071128129599293275, 'ACC_y_max': 0.006892533884680722, 'norm_mag_min': 0.006771338759659757, 'GYR_y_peak_frequency': 0.006686069717455077, 'MAG_z_std': 0.006352993329524009, 'GYR_x_peak_frequency': 0.006166846510870488, 'MAG_x_energy': 0.006020439226697845, 'error': 0.00598172672338766, 'gps_snr_mean': 0.005845484947052231, 'norm_mag_median': 0.005738129475832405, 'ACC_z_std': 0.005717636575609712, 'north_speed': 0.005278525918897284, 'gps_snr_std': 0.005067486136186362, 'norm_gyr_avg_frequency': 0.0047445593251409955, 'ACC_y_mean': 0.004676221136267002, 'ACC_z_energy': 0.004674368270538645, 'north_dlt': 0.0046032814600991435, 'norm_mag_max': 0.004547275229305687, 'ACC_x_peak_frequency': 0.004530515721564264, 'MAG_z_avg_frequency': 0.004526588288511038, 'ACC_x_mean': 0.0044823439072452205, 'ACC_z_max': 0.004343670643469925, 'GYR_y_std_window_20_mean': 0.004114253245953169, 'ACC_y_avg_frequency': 0.004091777856687155, 'MAG_x_std': 0.004043477461726878, 'norm_mag_cal_range': 0.0038870592158630783, 'ACC_z_min': 0.0037362052909835734, 'GYR_y_cal_range': 0.003556287505286378, 'ACC_x_max': 0.0035206618146840568, 'norm_mag_energy': 0.003514163307116046, 'ACC_y_median': 0.0034832363842635227, 'ACC_z_kurtosis': 0.0032030889906543513, 'norm_gyr_entropy': 0.0030102663689216347, 'GYR_z_cal_range': 0.0029813691259919254, 'MAG_y_entropy': 0.002813765330598678, 'GYR_y_avg_frequency': 0.002768181698953936, 'norm_acc_avg_frequency': 0.002754159344408297, 'MAG_z_energy': 0.0025360687797690287, 'MAG_z_mean': 0.002534529468275905, 'ACC_z_peak_frequency': 0.0025052145479597296, 'availability': 0.002414105515447661, 'GYR_y_min': 0.0024138426397037373, 'MAG_x_min': 0.0023681554430422256, 'acc': 0.0023462432137702914, 'MAG_z_median': 0.0022737704913221267, 'ACC_y_min': 0.00224361102990536, 'norm_gyr_std': 0.0022199352038730653, 'MAG_z_max': 0.00207529321713388, 'GYR_z_std': 0.0020703645906461976, 'east_dlt': 0.002065173076944527, 'GYR_y_max': 0.0020605364811656264, 'norm_acc_median': 0.002004131271423272, 'ACC_z_avg_frequency': 0.001984846283208588, 'norm_gyr_energy': 0.0019500427624498714, 'MAG_y_avg_frequency': 0.001930921293177471, 'MAG_y_median': 0.0017989069221852, 'norm_acc_kurtosis': 0.001780695370766817, 'speed_dlt': 0.0017378401193979946, 'GYR_x_avg_frequency': 0.0017201303876362717, 'east_speed': 0.0015463046776936717, 'MAG_z_entropy': 0.0015098736671483105, 'norm_gyr_min': 0.0014733665534149194, 'MAG_y_max': 0.0014707363277176298, 'MAG_y_std': 0.001427168322237173, 'ACC_x_min': 0.0013825298981997563, 'ACC_z_entropy': 0.0013350300847170843, 'distance_bus_routes_change': 0.001330034933713761, 'norm_gyr_cal_range': 0.0013250894092475094, 'ACC_x_median': 0.0013139686959736845, 'norm_acc_mean': 0.0012924616049869917, 'norm_gyr_max': 0.0012077358973924509, 'GYR_x_energy': 0.0011650693297437344, 'ACC_z_skewness': 0.0011380403374833515, 'norm_gyr_peak_frequency': 0.001134859280470394, 'norm_acc_skewness': 0.0010997343428708975, 'MAG_z_min': 0.0010950538644403794, 'MAG_x_max': 0.0010618571242855123, 'MAG_y_min': 0.001061515594653456, 'distance_railways_change': 0.0010086062872771227, 'MAG_y_cal_range': 0.0009285310314292183, 'MAG_y_mean': 0.0008617064581730163, 'GYR_z_min': 0.0008294878929428368, 'norm_mag_peak_frequency': 0.0007998986850290697, 'MAG_x_median': 0.0007949916627278399, 'norm_mag_entropy': 0.0007853377710640695, 'MAG_x_mean': 0.0007624619761997604, 'distance_London_change': 0.0007261977587407811, 'distance_parks_change': 0.0007118760700238096, 'gps_snr_min': 0.0006449942526240265, 'ACC_y_kurtosis': 0.0006106121735287479, 'MAG_x_entropy': 0.0005904681617724156, 'GYR_y_entropy': 0.0004941704637590002, 'time_dlt': 0.0004567374112615926, 'GYR_x_cal_range': 0.000397436066773782, 'MAG_z_cal_range': 0.0003933601684147813, 'GYR_z_max': 0.00034342014213190573, 'distance_change': 0.00028293095164939875, 'MAG_x_avg_frequency': 0.0002700725720577598, 'error_change': 0.00025064298475036364, 'distance_subway_change': 0.00023171651979808953, 'GYR_y_median': 0.0002217899388021545, 'GYR_x_max': 0.00021567269372239374, 'distance_Brighton_change': 0.00016932904800649062, 'GYR_x_min': 0.00015610034591233797, 'valid_dlt': 5.627837381079603e-05, 'GYR_y_energy': 3.587798449720611e-05, 'GYR_x_kurtosis': 3.1882027858115226e-05, 'GYR_z_kurtosis': 3.048159976551485e-05}
importance feature add well
training set : all_train_set ; testing set : Hand; test order: 3
X_val  : (143960, 176)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.02
predict lgb
Time elapsed for testing lgb: 1.26
predict xgb
Time elapsed for testing xgb: 2.39
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : all_train_set ; testing set : Hand  testing result
tree_model.pred_mean
[[26780   579     0    28   604   614   258   977]
 [ 1658 22877     6   966    90   104   119   323]
 [    0  1427  1347     0     0     0     0     0]
 [  541     5     0 10306  1046   134     0     0]
 [  363   265     0     0 18199  1598    49     0]
 [   15    15     0    24  2687  6297   142     0]
 [  722   111     0    68  3359   275 16588   687]
 [    0     7     0     0     0     0  2274 19426]]
              precision    recall  f1-score   support

       Still       0.89      0.90      0.89     29840
     Walking       0.90      0.88      0.89     26143
         Run       1.00      0.49      0.65      2774
        Bike       0.90      0.86      0.88     12032
         Car       0.70      0.89      0.78     20474
         Bus       0.70      0.69      0.69      9180
       Train       0.85      0.76      0.80     21810
      Subway       0.91      0.89      0.90     21707

    accuracy                           0.85    143960
   macro avg       0.86      0.79      0.81    143960
weighted avg       0.85      0.85      0.85    143960

test over
get importance point
single experiment feature importance :{'norm_acc_std_window_20_mean': 0.3340932005765409, 'speed_wd_max_log': 0.19290893376134569, 'distance_railways': 0.19277815931738124, 'distance_subway': 0.16616013935223947, 'code': 0.14201942444440338, 'norm_acc_std': 0.13989415966558383, 'distance_bus_routes': 0.12222101026039778, 'norm_acc_entropy': 0.11506763645276716, 'norm_mag_peak_frequency_window_20_mean': 0.06845196798734153, 'speed_square': 0.0630213468129199, 'distance_bus_stops': 0.05568269499884985, 'ACC_y_std_window_20_mean': 0.05086822844439798, 'latitude': 0.04866356044643938, 'norm_acc_energy': 0.048606571683920886, 'distance_Brighton': 0.04587380037711194, 'distance_London': 0.04542330245735062, 'speed_log': 0.04414508491753984, 'distance_parks': 0.042025849189867945, 'MAG_y_energy': 0.04082784120111999, 'norm_gyr_median': 0.03350372416678335, 'norm_gyr_min_window_20_mean': 0.03320445586700254, 'ACC_y_entropy': 0.027747183863798007, 'GYR_z_entropy': 0.026851802307668378, 'GYR_x_entropy': 0.024492691980662257, 'ACC_y_std': 0.024012664999088745, 'is_stop': 0.022898608230270713, 'number_window_20_mean': 0.022863735496688527, 'ACC_y_peak_frequency': 0.021337646440153672, 'longitude': 0.02132065014535207, 'distance': 0.020901912472940716, 'norm_acc_max': 0.02071924870777501, 'norm_mag_avg_frequency': 0.020623171541940172, 'ACC_y_energy': 0.01942376848610647, 'norm_acc_peak_frequency': 0.01938640235020697, 'norm_gyr_median_window_20_mean': 0.019328329034314702, 'longitude_window_20_std': 0.01888301060598962, 'ACC_x_std': 0.018575699828220625, 'north': 0.018184582051566384, 'speed_dif': 0.017038207300994826, 'ACC_x_cal_range': 0.01660054836722978, 'number': 0.016414371195669332, 'ACC_y_cal_range': 0.015976520810297754, 'ACC_x_entropy': 0.015874175563138915, 'ACC_z_median': 0.015119449468699225, 'east': 0.014972044981374603, 'longitude_window_20_mean': 0.014547541318722719, 'acc_wd_std': 0.014389390099387039, 'ACC_z_mean': 0.013563744894719284, 'speed': 0.012887777834163412, 'acc_wd_max_log': 0.012282148514668247, 'gps_snr_mean_window_20_mean': 0.012041620427785494, 'GYR_x_std': 0.011663598121910255, 'norm_gyr_mean': 0.01142378175856705, 'norm_acc_cal_range': 0.011267669957502141, 'speed_wd_std': 0.010556327968251445, 'norm_mag_std': 0.010157030230661702, 'GYR_y_std': 0.010110270150624968, 'MAG_x_cal_range': 0.009431676636505801, 'gps_snr_max': 0.00899735637301223, 'GYR_z_peak_frequency': 0.00887544438649629, 'ACC_x_energy': 0.008864339991197828, 'ACC_z_cal_range': 0.008749312917557674, 'accuracy': 0.008196061695805848, 'GYR_z_energy': 0.008189068291241629, 'norm_mag_mean': 0.008058797551595968, 'GYR_z_avg_frequency': 0.00789911266805655, 'norm_acc_min': 0.0077175848074322, 'altitude': 0.007406174610856037, 'ACC_x_avg_frequency': 0.0071128129599293275, 'ACC_y_max': 0.006892533884680722, 'norm_mag_min': 0.006771338759659757, 'GYR_y_peak_frequency': 0.006686069717455077, 'MAG_z_std': 0.006352993329524009, 'GYR_x_peak_frequency': 0.006166846510870488, 'MAG_x_energy': 0.006020439226697845, 'error': 0.00598172672338766, 'gps_snr_mean': 0.005845484947052231, 'norm_mag_median': 0.005738129475832405, 'ACC_z_std': 0.005717636575609712, 'north_speed': 0.005278525918897284, 'gps_snr_std': 0.005067486136186362, 'norm_gyr_avg_frequency': 0.0047445593251409955, 'ACC_y_mean': 0.004676221136267002, 'ACC_z_energy': 0.004674368270538645, 'north_dlt': 0.0046032814600991435, 'norm_mag_max': 0.004547275229305687, 'ACC_x_peak_frequency': 0.004530515721564264, 'MAG_z_avg_frequency': 0.004526588288511038, 'ACC_x_mean': 0.0044823439072452205, 'ACC_z_max': 0.004343670643469925, 'GYR_y_std_window_20_mean': 0.004114253245953169, 'ACC_y_avg_frequency': 0.004091777856687155, 'MAG_x_std': 0.004043477461726878, 'norm_mag_cal_range': 0.0038870592158630783, 'ACC_z_min': 0.0037362052909835734, 'GYR_y_cal_range': 0.003556287505286378, 'ACC_x_max': 0.0035206618146840568, 'norm_mag_energy': 0.003514163307116046, 'ACC_y_median': 0.0034832363842635227, 'ACC_z_kurtosis': 0.0032030889906543513, 'norm_gyr_entropy': 0.0030102663689216347, 'GYR_z_cal_range': 0.0029813691259919254, 'MAG_y_entropy': 0.002813765330598678, 'GYR_y_avg_frequency': 0.002768181698953936, 'norm_acc_avg_frequency': 0.002754159344408297, 'MAG_z_energy': 0.0025360687797690287, 'MAG_z_mean': 0.002534529468275905, 'ACC_z_peak_frequency': 0.0025052145479597296, 'availability': 0.002414105515447661, 'GYR_y_min': 0.0024138426397037373, 'MAG_x_min': 0.0023681554430422256, 'acc': 0.0023462432137702914, 'MAG_z_median': 0.0022737704913221267, 'ACC_y_min': 0.00224361102990536, 'norm_gyr_std': 0.0022199352038730653, 'MAG_z_max': 0.00207529321713388, 'GYR_z_std': 0.0020703645906461976, 'east_dlt': 0.002065173076944527, 'GYR_y_max': 0.0020605364811656264, 'norm_acc_median': 0.002004131271423272, 'ACC_z_avg_frequency': 0.001984846283208588, 'norm_gyr_energy': 0.0019500427624498714, 'MAG_y_avg_frequency': 0.001930921293177471, 'MAG_y_median': 0.0017989069221852, 'norm_acc_kurtosis': 0.001780695370766817, 'speed_dlt': 0.0017378401193979946, 'GYR_x_avg_frequency': 0.0017201303876362717, 'east_speed': 0.0015463046776936717, 'MAG_z_entropy': 0.0015098736671483105, 'norm_gyr_min': 0.0014733665534149194, 'MAG_y_max': 0.0014707363277176298, 'MAG_y_std': 0.001427168322237173, 'ACC_x_min': 0.0013825298981997563, 'ACC_z_entropy': 0.0013350300847170843, 'distance_bus_routes_change': 0.001330034933713761, 'norm_gyr_cal_range': 0.0013250894092475094, 'ACC_x_median': 0.0013139686959736845, 'norm_acc_mean': 0.0012924616049869917, 'norm_gyr_max': 0.0012077358973924509, 'GYR_x_energy': 0.0011650693297437344, 'ACC_z_skewness': 0.0011380403374833515, 'norm_gyr_peak_frequency': 0.001134859280470394, 'norm_acc_skewness': 0.0010997343428708975, 'MAG_z_min': 0.0010950538644403794, 'MAG_x_max': 0.0010618571242855123, 'MAG_y_min': 0.001061515594653456, 'distance_railways_change': 0.0010086062872771227, 'MAG_y_cal_range': 0.0009285310314292183, 'MAG_y_mean': 0.0008617064581730163, 'GYR_z_min': 0.0008294878929428368, 'norm_mag_peak_frequency': 0.0007998986850290697, 'MAG_x_median': 0.0007949916627278399, 'norm_mag_entropy': 0.0007853377710640695, 'MAG_x_mean': 0.0007624619761997604, 'distance_London_change': 0.0007261977587407811, 'distance_parks_change': 0.0007118760700238096, 'gps_snr_min': 0.0006449942526240265, 'ACC_y_kurtosis': 0.0006106121735287479, 'MAG_x_entropy': 0.0005904681617724156, 'GYR_y_entropy': 0.0004941704637590002, 'time_dlt': 0.0004567374112615926, 'GYR_x_cal_range': 0.000397436066773782, 'MAG_z_cal_range': 0.0003933601684147813, 'GYR_z_max': 0.00034342014213190573, 'distance_change': 0.00028293095164939875, 'MAG_x_avg_frequency': 0.0002700725720577598, 'error_change': 0.00025064298475036364, 'distance_subway_change': 0.00023171651979808953, 'GYR_y_median': 0.0002217899388021545, 'GYR_x_max': 0.00021567269372239374, 'distance_Brighton_change': 0.00016932904800649062, 'GYR_x_min': 0.00015610034591233797, 'valid_dlt': 5.627837381079603e-05, 'GYR_y_energy': 3.587798449720611e-05, 'GYR_x_kurtosis': 3.1882027858115226e-05, 'GYR_z_kurtosis': 3.048159976551485e-05}
importance feature add well
training set : all_train_set ; testing set : Hips; test order: 4
X_val  : (143960, 176)
y_val  : 143960
predict rf
Time elapsed for testing rf 0.98
predict lgb
Time elapsed for testing lgb: 1.13
predict xgb
Time elapsed for testing xgb: 2.34
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : all_train_set ; testing set : Hips  testing result
tree_model.pred_mean
[[25001   652     0    53   169   232  3612   121]
 [ 1151 23575     0   793     0   110   218   296]
 [    0  1810   767   197     0     0     0     0]
 [  735  2693     0  8549    55     0     0     0]
 [  370    62     0     0 18301  1560   181     0]
 [   24    25     0    51  1975  6793   312     0]
 [  692    69     0    36  2787   925 16519   782]
 [    0     0     0     0     0     0 11099 10608]]
              precision    recall  f1-score   support

       Still       0.89      0.84      0.86     29840
     Walking       0.82      0.90      0.86     26143
         Run       1.00      0.28      0.43      2774
        Bike       0.88      0.71      0.79     12032
         Car       0.79      0.89      0.84     20474
         Bus       0.71      0.74      0.72      9180
       Train       0.52      0.76      0.61     21810
      Subway       0.90      0.49      0.63     21707

    accuracy                           0.76    143960
   macro avg       0.81      0.70      0.72    143960
weighted avg       0.80      0.76      0.76    143960

test over
get importance point
single experiment feature importance :{'norm_acc_std_window_20_mean': 0.3340932005765409, 'speed_wd_max_log': 0.19290893376134569, 'distance_railways': 0.19277815931738124, 'distance_subway': 0.16616013935223947, 'code': 0.14201942444440338, 'norm_acc_std': 0.13989415966558383, 'distance_bus_routes': 0.12222101026039778, 'norm_acc_entropy': 0.11506763645276716, 'norm_mag_peak_frequency_window_20_mean': 0.06845196798734153, 'speed_square': 0.0630213468129199, 'distance_bus_stops': 0.05568269499884985, 'ACC_y_std_window_20_mean': 0.05086822844439798, 'latitude': 0.04866356044643938, 'norm_acc_energy': 0.048606571683920886, 'distance_Brighton': 0.04587380037711194, 'distance_London': 0.04542330245735062, 'speed_log': 0.04414508491753984, 'distance_parks': 0.042025849189867945, 'MAG_y_energy': 0.04082784120111999, 'norm_gyr_median': 0.03350372416678335, 'norm_gyr_min_window_20_mean': 0.03320445586700254, 'ACC_y_entropy': 0.027747183863798007, 'GYR_z_entropy': 0.026851802307668378, 'GYR_x_entropy': 0.024492691980662257, 'ACC_y_std': 0.024012664999088745, 'is_stop': 0.022898608230270713, 'number_window_20_mean': 0.022863735496688527, 'ACC_y_peak_frequency': 0.021337646440153672, 'longitude': 0.02132065014535207, 'distance': 0.020901912472940716, 'norm_acc_max': 0.02071924870777501, 'norm_mag_avg_frequency': 0.020623171541940172, 'ACC_y_energy': 0.01942376848610647, 'norm_acc_peak_frequency': 0.01938640235020697, 'norm_gyr_median_window_20_mean': 0.019328329034314702, 'longitude_window_20_std': 0.01888301060598962, 'ACC_x_std': 0.018575699828220625, 'north': 0.018184582051566384, 'speed_dif': 0.017038207300994826, 'ACC_x_cal_range': 0.01660054836722978, 'number': 0.016414371195669332, 'ACC_y_cal_range': 0.015976520810297754, 'ACC_x_entropy': 0.015874175563138915, 'ACC_z_median': 0.015119449468699225, 'east': 0.014972044981374603, 'longitude_window_20_mean': 0.014547541318722719, 'acc_wd_std': 0.014389390099387039, 'ACC_z_mean': 0.013563744894719284, 'speed': 0.012887777834163412, 'acc_wd_max_log': 0.012282148514668247, 'gps_snr_mean_window_20_mean': 0.012041620427785494, 'GYR_x_std': 0.011663598121910255, 'norm_gyr_mean': 0.01142378175856705, 'norm_acc_cal_range': 0.011267669957502141, 'speed_wd_std': 0.010556327968251445, 'norm_mag_std': 0.010157030230661702, 'GYR_y_std': 0.010110270150624968, 'MAG_x_cal_range': 0.009431676636505801, 'gps_snr_max': 0.00899735637301223, 'GYR_z_peak_frequency': 0.00887544438649629, 'ACC_x_energy': 0.008864339991197828, 'ACC_z_cal_range': 0.008749312917557674, 'accuracy': 0.008196061695805848, 'GYR_z_energy': 0.008189068291241629, 'norm_mag_mean': 0.008058797551595968, 'GYR_z_avg_frequency': 0.00789911266805655, 'norm_acc_min': 0.0077175848074322, 'altitude': 0.007406174610856037, 'ACC_x_avg_frequency': 0.0071128129599293275, 'ACC_y_max': 0.006892533884680722, 'norm_mag_min': 0.006771338759659757, 'GYR_y_peak_frequency': 0.006686069717455077, 'MAG_z_std': 0.006352993329524009, 'GYR_x_peak_frequency': 0.006166846510870488, 'MAG_x_energy': 0.006020439226697845, 'error': 0.00598172672338766, 'gps_snr_mean': 0.005845484947052231, 'norm_mag_median': 0.005738129475832405, 'ACC_z_std': 0.005717636575609712, 'north_speed': 0.005278525918897284, 'gps_snr_std': 0.005067486136186362, 'norm_gyr_avg_frequency': 0.0047445593251409955, 'ACC_y_mean': 0.004676221136267002, 'ACC_z_energy': 0.004674368270538645, 'north_dlt': 0.0046032814600991435, 'norm_mag_max': 0.004547275229305687, 'ACC_x_peak_frequency': 0.004530515721564264, 'MAG_z_avg_frequency': 0.004526588288511038, 'ACC_x_mean': 0.0044823439072452205, 'ACC_z_max': 0.004343670643469925, 'GYR_y_std_window_20_mean': 0.004114253245953169, 'ACC_y_avg_frequency': 0.004091777856687155, 'MAG_x_std': 0.004043477461726878, 'norm_mag_cal_range': 0.0038870592158630783, 'ACC_z_min': 0.0037362052909835734, 'GYR_y_cal_range': 0.003556287505286378, 'ACC_x_max': 0.0035206618146840568, 'norm_mag_energy': 0.003514163307116046, 'ACC_y_median': 0.0034832363842635227, 'ACC_z_kurtosis': 0.0032030889906543513, 'norm_gyr_entropy': 0.0030102663689216347, 'GYR_z_cal_range': 0.0029813691259919254, 'MAG_y_entropy': 0.002813765330598678, 'GYR_y_avg_frequency': 0.002768181698953936, 'norm_acc_avg_frequency': 0.002754159344408297, 'MAG_z_energy': 0.0025360687797690287, 'MAG_z_mean': 0.002534529468275905, 'ACC_z_peak_frequency': 0.0025052145479597296, 'availability': 0.002414105515447661, 'GYR_y_min': 0.0024138426397037373, 'MAG_x_min': 0.0023681554430422256, 'acc': 0.0023462432137702914, 'MAG_z_median': 0.0022737704913221267, 'ACC_y_min': 0.00224361102990536, 'norm_gyr_std': 0.0022199352038730653, 'MAG_z_max': 0.00207529321713388, 'GYR_z_std': 0.0020703645906461976, 'east_dlt': 0.002065173076944527, 'GYR_y_max': 0.0020605364811656264, 'norm_acc_median': 0.002004131271423272, 'ACC_z_avg_frequency': 0.001984846283208588, 'norm_gyr_energy': 0.0019500427624498714, 'MAG_y_avg_frequency': 0.001930921293177471, 'MAG_y_median': 0.0017989069221852, 'norm_acc_kurtosis': 0.001780695370766817, 'speed_dlt': 0.0017378401193979946, 'GYR_x_avg_frequency': 0.0017201303876362717, 'east_speed': 0.0015463046776936717, 'MAG_z_entropy': 0.0015098736671483105, 'norm_gyr_min': 0.0014733665534149194, 'MAG_y_max': 0.0014707363277176298, 'MAG_y_std': 0.001427168322237173, 'ACC_x_min': 0.0013825298981997563, 'ACC_z_entropy': 0.0013350300847170843, 'distance_bus_routes_change': 0.001330034933713761, 'norm_gyr_cal_range': 0.0013250894092475094, 'ACC_x_median': 0.0013139686959736845, 'norm_acc_mean': 0.0012924616049869917, 'norm_gyr_max': 0.0012077358973924509, 'GYR_x_energy': 0.0011650693297437344, 'ACC_z_skewness': 0.0011380403374833515, 'norm_gyr_peak_frequency': 0.001134859280470394, 'norm_acc_skewness': 0.0010997343428708975, 'MAG_z_min': 0.0010950538644403794, 'MAG_x_max': 0.0010618571242855123, 'MAG_y_min': 0.001061515594653456, 'distance_railways_change': 0.0010086062872771227, 'MAG_y_cal_range': 0.0009285310314292183, 'MAG_y_mean': 0.0008617064581730163, 'GYR_z_min': 0.0008294878929428368, 'norm_mag_peak_frequency': 0.0007998986850290697, 'MAG_x_median': 0.0007949916627278399, 'norm_mag_entropy': 0.0007853377710640695, 'MAG_x_mean': 0.0007624619761997604, 'distance_London_change': 0.0007261977587407811, 'distance_parks_change': 0.0007118760700238096, 'gps_snr_min': 0.0006449942526240265, 'ACC_y_kurtosis': 0.0006106121735287479, 'MAG_x_entropy': 0.0005904681617724156, 'GYR_y_entropy': 0.0004941704637590002, 'time_dlt': 0.0004567374112615926, 'GYR_x_cal_range': 0.000397436066773782, 'MAG_z_cal_range': 0.0003933601684147813, 'GYR_z_max': 0.00034342014213190573, 'distance_change': 0.00028293095164939875, 'MAG_x_avg_frequency': 0.0002700725720577598, 'error_change': 0.00025064298475036364, 'distance_subway_change': 0.00023171651979808953, 'GYR_y_median': 0.0002217899388021545, 'GYR_x_max': 0.00021567269372239374, 'distance_Brighton_change': 0.00016932904800649062, 'GYR_x_min': 0.00015610034591233797, 'valid_dlt': 5.627837381079603e-05, 'GYR_y_energy': 3.587798449720611e-05, 'GYR_x_kurtosis': 3.1882027858115226e-05, 'GYR_z_kurtosis': 3.048159976551485e-05}
importance feature add well
Obtain the overall feature importance score
1 feature_importance save well
training set:Hips,the 0th training set
begin training
X_train: (1050526, 176)
y_train: 1050526
Training rf...
Time elapsed for training rf: 218.94
Training LightGBM...
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Warning] Auto-choosing col-wise multi-threading, the overhead of testing was 0.460718 seconds.
You can set `force_col_wise=true` to remove the overhead.
[LightGBM] [Info] Total Bins 41442
[LightGBM] [Info] Number of data points in the train set: 840420, number of used features: 176
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Info] Start training from score -2.153444
[LightGBM] [Info] Start training from score -2.148761
[LightGBM] [Info] Start training from score -2.236807
[LightGBM] [Info] Start training from score -2.191512
[LightGBM] [Info] Start training from score -1.888715
[LightGBM] [Info] Start training from score -2.003271
[LightGBM] [Info] Start training from score -1.904812
[LightGBM] [Info] Start training from score -2.173917
[1]	valid_0's multi_logloss: 1.50567
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[2]	valid_0's multi_logloss: 1.20488
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[3]	valid_0's multi_logloss: 0.995569
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[4]	valid_0's multi_logloss: 0.836254
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[5]	valid_0's multi_logloss: 0.712915
[6]	valid_0's multi_logloss: 0.613468
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[7]	valid_0's multi_logloss: 0.531802
[8]	valid_0's multi_logloss: 0.464603
[9]	valid_0's multi_logloss: 0.408435
[10]	valid_0's multi_logloss: 0.360221
[11]	valid_0's multi_logloss: 0.32006
[12]	valid_0's multi_logloss: 0.285202
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[13]	valid_0's multi_logloss: 0.254619
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[14]	valid_0's multi_logloss: 0.228993
[15]	valid_0's multi_logloss: 0.206948
[16]	valid_0's multi_logloss: 0.187515
[17]	valid_0's multi_logloss: 0.171282
[18]	valid_0's multi_logloss: 0.157351
[19]	valid_0's multi_logloss: 0.145165
[20]	valid_0's multi_logloss: 0.134011
[21]	valid_0's multi_logloss: 0.124148
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[22]	valid_0's multi_logloss: 0.115946
[23]	valid_0's multi_logloss: 0.107988
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[24]	valid_0's multi_logloss: 0.101215
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[25]	valid_0's multi_logloss: 0.0948311
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[26]	valid_0's multi_logloss: 0.0892291
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[27]	valid_0's multi_logloss: 0.0838926
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[28]	valid_0's multi_logloss: 0.0792135
[29]	valid_0's multi_logloss: 0.0749372
[30]	valid_0's multi_logloss: 0.0712115
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[31]	valid_0's multi_logloss: 0.067866
[32]	valid_0's multi_logloss: 0.0649048
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[33]	valid_0's multi_logloss: 0.0620821
[34]	valid_0's multi_logloss: 0.0592314
[35]	valid_0's multi_logloss: 0.0565418
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[36]	valid_0's multi_logloss: 0.0543316
[37]	valid_0's multi_logloss: 0.05185
[38]	valid_0's multi_logloss: 0.0497048
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[39]	valid_0's multi_logloss: 0.0480971
[40]	valid_0's multi_logloss: 0.0462478
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[41]	valid_0's multi_logloss: 0.0444626
[42]	valid_0's multi_logloss: 0.0429926
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[43]	valid_0's multi_logloss: 0.0412588
[44]	valid_0's multi_logloss: 0.0397088
[45]	valid_0's multi_logloss: 0.0384538
[46]	valid_0's multi_logloss: 0.0368406
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[47]	valid_0's multi_logloss: 0.0357689
[48]	valid_0's multi_logloss: 0.0344302
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[49]	valid_0's multi_logloss: 0.0333411
[50]	valid_0's multi_logloss: 0.0321428
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[51]	valid_0's multi_logloss: 0.0312506
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[52]	valid_0's multi_logloss: 0.030137
[53]	valid_0's multi_logloss: 0.0292056
[54]	valid_0's multi_logloss: 0.0282023
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[55]	valid_0's multi_logloss: 0.027297
[56]	valid_0's multi_logloss: 0.0265347
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[57]	valid_0's multi_logloss: 0.0257352
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[58]	valid_0's multi_logloss: 0.0250496
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[59]	valid_0's multi_logloss: 0.0241843
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[60]	valid_0's multi_logloss: 0.0235717
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[61]	valid_0's multi_logloss: 0.0230263
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[62]	valid_0's multi_logloss: 0.0222282
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[63]	valid_0's multi_logloss: 0.0217019
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[64]	valid_0's multi_logloss: 0.021044
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[65]	valid_0's multi_logloss: 0.0204429
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[66]	valid_0's multi_logloss: 0.0199672
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[67]	valid_0's multi_logloss: 0.0193923
[68]	valid_0's multi_logloss: 0.018892
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[69]	valid_0's multi_logloss: 0.0185165
[70]	valid_0's multi_logloss: 0.0180449
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[71]	valid_0's multi_logloss: 0.0176207
[72]	valid_0's multi_logloss: 0.0172506
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[73]	valid_0's multi_logloss: 0.0168937
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[74]	valid_0's multi_logloss: 0.0165285
[75]	valid_0's multi_logloss: 0.016115
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[76]	valid_0's multi_logloss: 0.0157129
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[77]	valid_0's multi_logloss: 0.0153951
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[78]	valid_0's multi_logloss: 0.0150099
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[79]	valid_0's multi_logloss: 0.014593
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[80]	valid_0's multi_logloss: 0.0142394
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[81]	valid_0's multi_logloss: 0.0138962
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[82]	valid_0's multi_logloss: 0.0135691
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[83]	valid_0's multi_logloss: 0.0133377
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[84]	valid_0's multi_logloss: 0.0130604
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[85]	valid_0's multi_logloss: 0.0127486
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[86]	valid_0's multi_logloss: 0.0125118
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[87]	valid_0's multi_logloss: 0.012268
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[88]	valid_0's multi_logloss: 0.0120245
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[89]	valid_0's multi_logloss: 0.0117843
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[90]	valid_0's multi_logloss: 0.0114561
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[91]	valid_0's multi_logloss: 0.0112492
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[92]	valid_0's multi_logloss: 0.0109991
[93]	valid_0's multi_logloss: 0.010799
[94]	valid_0's multi_logloss: 0.0105812
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[95]	valid_0's multi_logloss: 0.0103499
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[96]	valid_0's multi_logloss: 0.010155
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[97]	valid_0's multi_logloss: 0.00996661
[98]	valid_0's multi_logloss: 0.00976629
[99]	valid_0's multi_logloss: 0.00955873
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[100]	valid_0's multi_logloss: 0.00938968
Time elapsed for training LightGBM: 98.27
Training XGBoost...
Time elapsed for training XGBoost: 465.63
begin testing
training set : Hips ; testing set : Torso; test order: 0
X_val  : (143960, 176)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.12
predict lgb
Time elapsed for testing lgb: 1.16
predict xgb
Time elapsed for testing xgb: 2.29
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Hips ; testing set : Torso  testing result
tree_model.pred_mean
[[25113    74     0   128  1507   687  1958   373]
 [ 3241  4487     0 10893   449  4619   705  1749]
 [    0   639    19  2116     0     0     0     0]
 [  443     0     0  7843  2771   975     0     0]
 [  126     0     0     4 20163   181     0     0]
 [   83     0     0    42   932  7819   304     0]
 [ 1934     0     0    20   449  3023 15280  1104]
 [    0     0     0     0     0     0 11099 10608]]
              precision    recall  f1-score   support

       Still       0.81      0.84      0.83     29840
     Walking       0.86      0.17      0.29     26143
         Run       1.00      0.01      0.01      2774
        Bike       0.37      0.65      0.47     12032
         Car       0.77      0.98      0.86     20474
         Bus       0.45      0.85      0.59      9180
       Train       0.52      0.70      0.60     21810
      Subway       0.77      0.49      0.60     21707

    accuracy                           0.63    143960
   macro avg       0.69      0.59      0.53    143960
weighted avg       0.71      0.63      0.60    143960

test over
get importance point
single experiment feature importance :{'ACC_y_std_window_20_mean': 0.2642534213708173, 'distance_railways': 0.15862842236840421, 'distance_subway': 0.14938115684225464, 'speed_wd_max_log': 0.14508548872616425, 'ACC_z_cal_range': 0.13137278664677535, 'GYR_y_entropy': 0.11685551840215196, 'ACC_y_std': 0.1111515453807647, 'GYR_y_std_window_20_mean': 0.09579853585704937, 'distance_bus_routes': 0.09558628052597976, 'code': 0.0939694000554838, 'GYR_y_std': 0.07903100491459752, 'norm_acc_energy': 0.07847116960069031, 'norm_acc_std_window_20_mean': 0.07795629217804247, 'norm_mag_peak_frequency_window_20_mean': 0.06075896559419576, 'norm_acc_entropy': 0.05930422498876553, 'norm_gyr_median_window_20_mean': 0.04892716960054913, 'distance_London': 0.044705086382667146, 'distance_bus_stops': 0.0432250061030871, 'ACC_y_energy': 0.04023588332596002, 'distance_Brighton': 0.03762447828725944, 'ACC_y_min': 0.03648967142242994, 'ACC_z_mean': 0.033512514633142, 'speed_square': 0.033511450673116984, 'norm_gyr_entropy': 0.033086628021182285, 'speed_log': 0.029663473872057568, 'GYR_x_entropy': 0.02854967858472082, 'norm_acc_std': 0.028462280960313384, 'ACC_y_mean': 0.02736939050597595, 'acc': 0.025774280887710513, 'norm_gyr_std': 0.023834306781059314, 'latitude': 0.023168289781601285, 'GYR_z_entropy': 0.02234459609594365, 'norm_gyr_min_window_20_mean': 0.022003222254688558, 'distance_parks': 0.02030983112567689, 'ACC_y_entropy': 0.019902619782931716, 'north': 0.0190787631487246, 'ACC_x_cal_range': 0.018787709243989387, 'gps_snr_mean_window_20_mean': 0.018474646791370224, 'ACC_y_cal_range': 0.017361301266951797, 'ACC_y_median': 0.01700869617075415, 'norm_gyr_median': 0.016560487504313114, 'norm_acc_mean': 0.016202163748755025, 'number_window_20_mean': 0.016080774887661103, 'speed_dif': 0.01471082735986196, 'distance': 0.013220009250972702, 'norm_acc_cal_range': 0.013112380794632778, 'GYR_z_energy': 0.013088707463788558, 'is_stop': 0.012921003084129537, 'longitude': 0.012700059334713416, 'ACC_x_std': 0.01201617053360924, 'ACC_x_peak_frequency': 0.01183146802979122, 'ACC_z_median': 0.01126505341525378, 'GYR_x_peak_frequency': 0.011122420770856328, 'ACC_z_energy': 0.010771762508476009, 'number': 0.010551633534542425, 'MAG_y_cal_range': 0.010395288423302727, 'longitude_window_20_mean': 0.010238138617940184, 'speed': 0.009945911857860857, 'ACC_y_peak_frequency': 0.009863455399970498, 'MAG_z_std': 0.009378701285466712, 'MAG_z_cal_range': 0.009261233386548568, 'east': 0.008922132947005992, 'norm_gyr_mean': 0.008688736623310489, 'GYR_z_min': 0.00858999948514537, 'longitude_window_20_std': 0.00824168510468944, 'norm_mag_std': 0.008163432419483078, 'ACC_y_max': 0.008017561109621821, 'ACC_z_entropy': 0.007529506403538164, 'speed_wd_std': 0.007335201982047687, 'ACC_z_std': 0.007314396220631927, 'error': 0.00712559133518818, 'altitude': 0.006800038236314374, 'ACC_x_energy': 0.006712026542555734, 'ACC_z_peak_frequency': 0.006531497316136224, 'gps_snr_max': 0.006298196888888595, 'gps_snr_mean': 0.006256060257358254, 'norm_mag_cal_range': 0.0061049173394900095, 'GYR_z_peak_frequency': 0.005889614903383758, 'norm_acc_min': 0.005800849004572082, 'north_speed': 0.005676608632789707, 'ACC_z_min': 0.005527563927565609, 'GYR_z_std': 0.005380476368215991, 'MAG_y_energy': 0.004785989662563006, 'accuracy': 0.004748898784255454, 'acc_wd_max_log': 0.004317156442518093, 'norm_mag_max': 0.00428652939734238, 'GYR_z_avg_frequency': 0.004095275445870841, 'ACC_x_max': 0.00408771823921282, 'norm_acc_peak_frequency': 0.0039314912085287364, 'north_dlt': 0.0038508449310286673, 'norm_gyr_avg_frequency': 0.0038250317925212236, 'MAG_y_std': 0.0038106731141662534, 'east_speed': 0.0036810819658349907, 'gps_snr_std': 0.003586801011052702, 'GYR_y_min': 0.003507287639016085, 'ACC_z_max': 0.0034908388420048534, 'norm_mag_mean': 0.0034276535284432984, 'availability': 0.0033189918794741787, 'GYR_x_avg_frequency': 0.00314013570848584, 'acc_wd_std': 0.0031386138636723526, 'MAG_x_min': 0.00313569954269193, 'MAG_z_entropy': 0.0031090312686400346, 'norm_mag_energy': 0.0031032551471987984, 'norm_mag_avg_frequency': 0.0030456338872364977, 'norm_gyr_max': 0.0030298589165528517, 'norm_mag_median': 0.0029387599904246563, 'norm_acc_max': 0.002896175298226763, 'MAG_y_max': 0.0028908085844247134, 'MAG_x_avg_frequency': 0.0028335258786041147, 'ACC_x_mean': 0.002807318693637328, 'MAG_z_min': 0.0026377531798805138, 'GYR_z_cal_range': 0.002609750702913153, 'GYR_y_peak_frequency': 0.002553227635889799, 'norm_mag_min': 0.0025057091638412098, 'MAG_y_min': 0.0024520509548164554, 'MAG_y_avg_frequency': 0.0024303997741235567, 'GYR_y_avg_frequency': 0.0023482270170219564, 'ACC_x_entropy': 0.0021612087980884616, 'MAG_y_median': 0.0020308999580385422, 'ACC_y_avg_frequency': 0.0019494803356838834, 'east_dlt': 0.0019437935920703809, 'MAG_z_max': 0.001858723188946231, 'GYR_x_std': 0.0016561285771043341, 'MAG_x_cal_range': 0.0016105818749193978, 'GYR_y_cal_range': 0.001550656716700447, 'MAG_y_mean': 0.0015156447591639175, 'MAG_x_mean': 0.0014937384788660773, 'norm_acc_kurtosis': 0.0014547559651282571, 'ACC_x_min': 0.0014046834537171553, 'ACC_x_median': 0.0013874864105716859, 'distance_subway_change': 0.0013708495698136745, 'MAG_y_entropy': 0.0013199486739160886, 'norm_acc_avg_frequency': 0.001303192666188174, 'MAG_z_mean': 0.0012785187104837222, 'ACC_x_avg_frequency': 0.0012644141408866506, 'MAG_x_max': 0.001237127167730276, 'norm_gyr_peak_frequency': 0.0011807634876396414, 'norm_gyr_energy': 0.0011564434899369335, 'speed_dlt': 0.0011218911383835913, 'MAG_z_median': 0.0010471377492677059, 'MAG_z_avg_frequency': 0.0010347028815395974, 'norm_acc_skewness': 0.0009669242910645487, 'norm_gyr_cal_range': 0.0009166980297714319, 'MAG_x_median': 0.0009048168329688996, 'GYR_y_max': 0.0009033198304731321, 'distance_London_change': 0.0008425632865422338, 'ACC_z_avg_frequency': 0.0008025912260246658, 'norm_acc_median': 0.0006835184063437368, 'ACC_z_skewness': 0.0006682259207980196, 'MAG_z_energy': 0.0006473206685618416, 'distance_railways_change': 0.0006361081372201644, 'ACC_y_kurtosis': 0.0006255215745893656, 'distance_Brighton_change': 0.00062366603375246, 'GYR_x_cal_range': 0.0005560739716695065, 'GYR_z_kurtosis': 0.0004493164704278906, 'norm_mag_entropy': 0.00043303133211394535, 'distance_bus_routes_change': 0.00040673485568254073, 'ACC_z_kurtosis': 0.0004060736190282351, 'norm_gyr_min': 0.00039380442062284177, 'GYR_x_max': 0.00038949836502153573, 'gps_snr_min': 0.00037893106614610557, 'norm_mag_peak_frequency': 0.0003653825636894452, 'GYR_x_kurtosis': 0.0003594236772278948, 'GYR_x_energy': 0.0002862807401186395, 'GYR_x_min': 0.00024465942507318796, 'GYR_z_max': 0.00024206037730142662, 'time_dlt': 0.00021636521181274973, 'MAG_x_std': 0.00021541857913288338, 'valid_dlt': 0.0001895122522618386, 'GYR_y_energy': 0.00015330978758059925, 'MAG_x_energy': 8.263964536283565e-05, 'distance_parks_change': 7.265217384198107e-05, 'MAG_x_entropy': 5.7370682720073917e-05, 'error_change': 1.3477436957029726e-05, 'distance_change': 1.2682487293054437e-05, 'GYR_y_median': 4.152350843117767e-06}
importance feature add well
training set : Hips ; testing set : Bag; test order: 1
X_val  : (143960, 176)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.08
predict lgb
Time elapsed for testing lgb: 1.16
predict xgb
Time elapsed for testing xgb: 2.39
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Hips ; testing set : Bag  testing result
tree_model.pred_mean
[[27502     6     0   127   266   263   489  1187]
 [ 4296  1689     0 15074   645  2181   592  1666]
 [    0  1572     0  1202     0     0     0     0]
 [  967    23     0  6356  3859   827     0     0]
 [   93     0     0    10 18036  2335     0     0]
 [   41     0     0   508  2405  5776   450     0]
 [  658     0     0   104  2292   828 16877  1051]
 [    0     0     0     0     0     0  2289 19418]]
/home/jnli/.conda/envs/zhaoyayart/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1318: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
/home/jnli/.conda/envs/zhaoyayart/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1318: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
/home/jnli/.conda/envs/zhaoyayart/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1318: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
              precision    recall  f1-score   support

       Still       0.82      0.92      0.87     29840
     Walking       0.51      0.06      0.11     26143
         Run       0.00      0.00      0.00      2774
        Bike       0.27      0.53      0.36     12032
         Car       0.66      0.88      0.75     20474
         Bus       0.47      0.63      0.54      9180
       Train       0.82      0.77      0.79     21810
      Subway       0.83      0.89      0.86     21707

    accuracy                           0.66    143960
   macro avg       0.55      0.59      0.54    143960
weighted avg       0.66      0.66      0.62    143960

test over
get importance point
single experiment feature importance :{'ACC_y_std_window_20_mean': 0.2642534213708173, 'distance_railways': 0.15862842236840421, 'distance_subway': 0.14938115684225464, 'speed_wd_max_log': 0.14508548872616425, 'ACC_z_cal_range': 0.13137278664677535, 'GYR_y_entropy': 0.11685551840215196, 'ACC_y_std': 0.1111515453807647, 'GYR_y_std_window_20_mean': 0.09579853585704937, 'distance_bus_routes': 0.09558628052597976, 'code': 0.0939694000554838, 'GYR_y_std': 0.07903100491459752, 'norm_acc_energy': 0.07847116960069031, 'norm_acc_std_window_20_mean': 0.07795629217804247, 'norm_mag_peak_frequency_window_20_mean': 0.06075896559419576, 'norm_acc_entropy': 0.05930422498876553, 'norm_gyr_median_window_20_mean': 0.04892716960054913, 'distance_London': 0.044705086382667146, 'distance_bus_stops': 0.0432250061030871, 'ACC_y_energy': 0.04023588332596002, 'distance_Brighton': 0.03762447828725944, 'ACC_y_min': 0.03648967142242994, 'ACC_z_mean': 0.033512514633142, 'speed_square': 0.033511450673116984, 'norm_gyr_entropy': 0.033086628021182285, 'speed_log': 0.029663473872057568, 'GYR_x_entropy': 0.02854967858472082, 'norm_acc_std': 0.028462280960313384, 'ACC_y_mean': 0.02736939050597595, 'acc': 0.025774280887710513, 'norm_gyr_std': 0.023834306781059314, 'latitude': 0.023168289781601285, 'GYR_z_entropy': 0.02234459609594365, 'norm_gyr_min_window_20_mean': 0.022003222254688558, 'distance_parks': 0.02030983112567689, 'ACC_y_entropy': 0.019902619782931716, 'north': 0.0190787631487246, 'ACC_x_cal_range': 0.018787709243989387, 'gps_snr_mean_window_20_mean': 0.018474646791370224, 'ACC_y_cal_range': 0.017361301266951797, 'ACC_y_median': 0.01700869617075415, 'norm_gyr_median': 0.016560487504313114, 'norm_acc_mean': 0.016202163748755025, 'number_window_20_mean': 0.016080774887661103, 'speed_dif': 0.01471082735986196, 'distance': 0.013220009250972702, 'norm_acc_cal_range': 0.013112380794632778, 'GYR_z_energy': 0.013088707463788558, 'is_stop': 0.012921003084129537, 'longitude': 0.012700059334713416, 'ACC_x_std': 0.01201617053360924, 'ACC_x_peak_frequency': 0.01183146802979122, 'ACC_z_median': 0.01126505341525378, 'GYR_x_peak_frequency': 0.011122420770856328, 'ACC_z_energy': 0.010771762508476009, 'number': 0.010551633534542425, 'MAG_y_cal_range': 0.010395288423302727, 'longitude_window_20_mean': 0.010238138617940184, 'speed': 0.009945911857860857, 'ACC_y_peak_frequency': 0.009863455399970498, 'MAG_z_std': 0.009378701285466712, 'MAG_z_cal_range': 0.009261233386548568, 'east': 0.008922132947005992, 'norm_gyr_mean': 0.008688736623310489, 'GYR_z_min': 0.00858999948514537, 'longitude_window_20_std': 0.00824168510468944, 'norm_mag_std': 0.008163432419483078, 'ACC_y_max': 0.008017561109621821, 'ACC_z_entropy': 0.007529506403538164, 'speed_wd_std': 0.007335201982047687, 'ACC_z_std': 0.007314396220631927, 'error': 0.00712559133518818, 'altitude': 0.006800038236314374, 'ACC_x_energy': 0.006712026542555734, 'ACC_z_peak_frequency': 0.006531497316136224, 'gps_snr_max': 0.006298196888888595, 'gps_snr_mean': 0.006256060257358254, 'norm_mag_cal_range': 0.0061049173394900095, 'GYR_z_peak_frequency': 0.005889614903383758, 'norm_acc_min': 0.005800849004572082, 'north_speed': 0.005676608632789707, 'ACC_z_min': 0.005527563927565609, 'GYR_z_std': 0.005380476368215991, 'MAG_y_energy': 0.004785989662563006, 'accuracy': 0.004748898784255454, 'acc_wd_max_log': 0.004317156442518093, 'norm_mag_max': 0.00428652939734238, 'GYR_z_avg_frequency': 0.004095275445870841, 'ACC_x_max': 0.00408771823921282, 'norm_acc_peak_frequency': 0.0039314912085287364, 'north_dlt': 0.0038508449310286673, 'norm_gyr_avg_frequency': 0.0038250317925212236, 'MAG_y_std': 0.0038106731141662534, 'east_speed': 0.0036810819658349907, 'gps_snr_std': 0.003586801011052702, 'GYR_y_min': 0.003507287639016085, 'ACC_z_max': 0.0034908388420048534, 'norm_mag_mean': 0.0034276535284432984, 'availability': 0.0033189918794741787, 'GYR_x_avg_frequency': 0.00314013570848584, 'acc_wd_std': 0.0031386138636723526, 'MAG_x_min': 0.00313569954269193, 'MAG_z_entropy': 0.0031090312686400346, 'norm_mag_energy': 0.0031032551471987984, 'norm_mag_avg_frequency': 0.0030456338872364977, 'norm_gyr_max': 0.0030298589165528517, 'norm_mag_median': 0.0029387599904246563, 'norm_acc_max': 0.002896175298226763, 'MAG_y_max': 0.0028908085844247134, 'MAG_x_avg_frequency': 0.0028335258786041147, 'ACC_x_mean': 0.002807318693637328, 'MAG_z_min': 0.0026377531798805138, 'GYR_z_cal_range': 0.002609750702913153, 'GYR_y_peak_frequency': 0.002553227635889799, 'norm_mag_min': 0.0025057091638412098, 'MAG_y_min': 0.0024520509548164554, 'MAG_y_avg_frequency': 0.0024303997741235567, 'GYR_y_avg_frequency': 0.0023482270170219564, 'ACC_x_entropy': 0.0021612087980884616, 'MAG_y_median': 0.0020308999580385422, 'ACC_y_avg_frequency': 0.0019494803356838834, 'east_dlt': 0.0019437935920703809, 'MAG_z_max': 0.001858723188946231, 'GYR_x_std': 0.0016561285771043341, 'MAG_x_cal_range': 0.0016105818749193978, 'GYR_y_cal_range': 0.001550656716700447, 'MAG_y_mean': 0.0015156447591639175, 'MAG_x_mean': 0.0014937384788660773, 'norm_acc_kurtosis': 0.0014547559651282571, 'ACC_x_min': 0.0014046834537171553, 'ACC_x_median': 0.0013874864105716859, 'distance_subway_change': 0.0013708495698136745, 'MAG_y_entropy': 0.0013199486739160886, 'norm_acc_avg_frequency': 0.001303192666188174, 'MAG_z_mean': 0.0012785187104837222, 'ACC_x_avg_frequency': 0.0012644141408866506, 'MAG_x_max': 0.001237127167730276, 'norm_gyr_peak_frequency': 0.0011807634876396414, 'norm_gyr_energy': 0.0011564434899369335, 'speed_dlt': 0.0011218911383835913, 'MAG_z_median': 0.0010471377492677059, 'MAG_z_avg_frequency': 0.0010347028815395974, 'norm_acc_skewness': 0.0009669242910645487, 'norm_gyr_cal_range': 0.0009166980297714319, 'MAG_x_median': 0.0009048168329688996, 'GYR_y_max': 0.0009033198304731321, 'distance_London_change': 0.0008425632865422338, 'ACC_z_avg_frequency': 0.0008025912260246658, 'norm_acc_median': 0.0006835184063437368, 'ACC_z_skewness': 0.0006682259207980196, 'MAG_z_energy': 0.0006473206685618416, 'distance_railways_change': 0.0006361081372201644, 'ACC_y_kurtosis': 0.0006255215745893656, 'distance_Brighton_change': 0.00062366603375246, 'GYR_x_cal_range': 0.0005560739716695065, 'GYR_z_kurtosis': 0.0004493164704278906, 'norm_mag_entropy': 0.00043303133211394535, 'distance_bus_routes_change': 0.00040673485568254073, 'ACC_z_kurtosis': 0.0004060736190282351, 'norm_gyr_min': 0.00039380442062284177, 'GYR_x_max': 0.00038949836502153573, 'gps_snr_min': 0.00037893106614610557, 'norm_mag_peak_frequency': 0.0003653825636894452, 'GYR_x_kurtosis': 0.0003594236772278948, 'GYR_x_energy': 0.0002862807401186395, 'GYR_x_min': 0.00024465942507318796, 'GYR_z_max': 0.00024206037730142662, 'time_dlt': 0.00021636521181274973, 'MAG_x_std': 0.00021541857913288338, 'valid_dlt': 0.0001895122522618386, 'GYR_y_energy': 0.00015330978758059925, 'MAG_x_energy': 8.263964536283565e-05, 'distance_parks_change': 7.265217384198107e-05, 'MAG_x_entropy': 5.7370682720073917e-05, 'error_change': 1.3477436957029726e-05, 'distance_change': 1.2682487293054437e-05, 'GYR_y_median': 4.152350843117767e-06}
importance feature add well
training set : Hips ; testing set : Hand; test order: 2
X_val  : (143960, 176)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.12
predict lgb
Time elapsed for testing lgb: 1.14
predict xgb
Time elapsed for testing xgb: 2.42
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Hips ; testing set : Hand  testing result
tree_model.pred_mean
[[25983   354     0   583   531  1074   245  1070]
 [ 1113 12660     0 10795     0    26   287  1262]
 [    0  1341     0  1433     0     0     0     0]
 [    0     0     0 11953    79     0     0     0]
 [  564   193     0   274 18475   968     0     0]
 [   15     0     0   309  3043  5194   619     0]
 [  788    11     0   691  3142    59 15960  1159]
 [    0     0     0     0     0     0  2262 19445]]
/home/jnli/.conda/envs/zhaoyayart/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1318: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
/home/jnli/.conda/envs/zhaoyayart/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1318: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
/home/jnli/.conda/envs/zhaoyayart/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1318: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
              precision    recall  f1-score   support

       Still       0.91      0.87      0.89     29840
     Walking       0.87      0.48      0.62     26143
         Run       0.00      0.00      0.00      2774
        Bike       0.46      0.99      0.63     12032
         Car       0.73      0.90      0.81     20474
         Bus       0.71      0.57      0.63      9180
       Train       0.82      0.73      0.78     21810
      Subway       0.85      0.90      0.87     21707

    accuracy                           0.76    143960
   macro avg       0.67      0.68      0.65    143960
weighted avg       0.79      0.76      0.75    143960

test over
get importance point
single experiment feature importance :{'ACC_y_std_window_20_mean': 0.2642534213708173, 'distance_railways': 0.15862842236840421, 'distance_subway': 0.14938115684225464, 'speed_wd_max_log': 0.14508548872616425, 'ACC_z_cal_range': 0.13137278664677535, 'GYR_y_entropy': 0.11685551840215196, 'ACC_y_std': 0.1111515453807647, 'GYR_y_std_window_20_mean': 0.09579853585704937, 'distance_bus_routes': 0.09558628052597976, 'code': 0.0939694000554838, 'GYR_y_std': 0.07903100491459752, 'norm_acc_energy': 0.07847116960069031, 'norm_acc_std_window_20_mean': 0.07795629217804247, 'norm_mag_peak_frequency_window_20_mean': 0.06075896559419576, 'norm_acc_entropy': 0.05930422498876553, 'norm_gyr_median_window_20_mean': 0.04892716960054913, 'distance_London': 0.044705086382667146, 'distance_bus_stops': 0.0432250061030871, 'ACC_y_energy': 0.04023588332596002, 'distance_Brighton': 0.03762447828725944, 'ACC_y_min': 0.03648967142242994, 'ACC_z_mean': 0.033512514633142, 'speed_square': 0.033511450673116984, 'norm_gyr_entropy': 0.033086628021182285, 'speed_log': 0.029663473872057568, 'GYR_x_entropy': 0.02854967858472082, 'norm_acc_std': 0.028462280960313384, 'ACC_y_mean': 0.02736939050597595, 'acc': 0.025774280887710513, 'norm_gyr_std': 0.023834306781059314, 'latitude': 0.023168289781601285, 'GYR_z_entropy': 0.02234459609594365, 'norm_gyr_min_window_20_mean': 0.022003222254688558, 'distance_parks': 0.02030983112567689, 'ACC_y_entropy': 0.019902619782931716, 'north': 0.0190787631487246, 'ACC_x_cal_range': 0.018787709243989387, 'gps_snr_mean_window_20_mean': 0.018474646791370224, 'ACC_y_cal_range': 0.017361301266951797, 'ACC_y_median': 0.01700869617075415, 'norm_gyr_median': 0.016560487504313114, 'norm_acc_mean': 0.016202163748755025, 'number_window_20_mean': 0.016080774887661103, 'speed_dif': 0.01471082735986196, 'distance': 0.013220009250972702, 'norm_acc_cal_range': 0.013112380794632778, 'GYR_z_energy': 0.013088707463788558, 'is_stop': 0.012921003084129537, 'longitude': 0.012700059334713416, 'ACC_x_std': 0.01201617053360924, 'ACC_x_peak_frequency': 0.01183146802979122, 'ACC_z_median': 0.01126505341525378, 'GYR_x_peak_frequency': 0.011122420770856328, 'ACC_z_energy': 0.010771762508476009, 'number': 0.010551633534542425, 'MAG_y_cal_range': 0.010395288423302727, 'longitude_window_20_mean': 0.010238138617940184, 'speed': 0.009945911857860857, 'ACC_y_peak_frequency': 0.009863455399970498, 'MAG_z_std': 0.009378701285466712, 'MAG_z_cal_range': 0.009261233386548568, 'east': 0.008922132947005992, 'norm_gyr_mean': 0.008688736623310489, 'GYR_z_min': 0.00858999948514537, 'longitude_window_20_std': 0.00824168510468944, 'norm_mag_std': 0.008163432419483078, 'ACC_y_max': 0.008017561109621821, 'ACC_z_entropy': 0.007529506403538164, 'speed_wd_std': 0.007335201982047687, 'ACC_z_std': 0.007314396220631927, 'error': 0.00712559133518818, 'altitude': 0.006800038236314374, 'ACC_x_energy': 0.006712026542555734, 'ACC_z_peak_frequency': 0.006531497316136224, 'gps_snr_max': 0.006298196888888595, 'gps_snr_mean': 0.006256060257358254, 'norm_mag_cal_range': 0.0061049173394900095, 'GYR_z_peak_frequency': 0.005889614903383758, 'norm_acc_min': 0.005800849004572082, 'north_speed': 0.005676608632789707, 'ACC_z_min': 0.005527563927565609, 'GYR_z_std': 0.005380476368215991, 'MAG_y_energy': 0.004785989662563006, 'accuracy': 0.004748898784255454, 'acc_wd_max_log': 0.004317156442518093, 'norm_mag_max': 0.00428652939734238, 'GYR_z_avg_frequency': 0.004095275445870841, 'ACC_x_max': 0.00408771823921282, 'norm_acc_peak_frequency': 0.0039314912085287364, 'north_dlt': 0.0038508449310286673, 'norm_gyr_avg_frequency': 0.0038250317925212236, 'MAG_y_std': 0.0038106731141662534, 'east_speed': 0.0036810819658349907, 'gps_snr_std': 0.003586801011052702, 'GYR_y_min': 0.003507287639016085, 'ACC_z_max': 0.0034908388420048534, 'norm_mag_mean': 0.0034276535284432984, 'availability': 0.0033189918794741787, 'GYR_x_avg_frequency': 0.00314013570848584, 'acc_wd_std': 0.0031386138636723526, 'MAG_x_min': 0.00313569954269193, 'MAG_z_entropy': 0.0031090312686400346, 'norm_mag_energy': 0.0031032551471987984, 'norm_mag_avg_frequency': 0.0030456338872364977, 'norm_gyr_max': 0.0030298589165528517, 'norm_mag_median': 0.0029387599904246563, 'norm_acc_max': 0.002896175298226763, 'MAG_y_max': 0.0028908085844247134, 'MAG_x_avg_frequency': 0.0028335258786041147, 'ACC_x_mean': 0.002807318693637328, 'MAG_z_min': 0.0026377531798805138, 'GYR_z_cal_range': 0.002609750702913153, 'GYR_y_peak_frequency': 0.002553227635889799, 'norm_mag_min': 0.0025057091638412098, 'MAG_y_min': 0.0024520509548164554, 'MAG_y_avg_frequency': 0.0024303997741235567, 'GYR_y_avg_frequency': 0.0023482270170219564, 'ACC_x_entropy': 0.0021612087980884616, 'MAG_y_median': 0.0020308999580385422, 'ACC_y_avg_frequency': 0.0019494803356838834, 'east_dlt': 0.0019437935920703809, 'MAG_z_max': 0.001858723188946231, 'GYR_x_std': 0.0016561285771043341, 'MAG_x_cal_range': 0.0016105818749193978, 'GYR_y_cal_range': 0.001550656716700447, 'MAG_y_mean': 0.0015156447591639175, 'MAG_x_mean': 0.0014937384788660773, 'norm_acc_kurtosis': 0.0014547559651282571, 'ACC_x_min': 0.0014046834537171553, 'ACC_x_median': 0.0013874864105716859, 'distance_subway_change': 0.0013708495698136745, 'MAG_y_entropy': 0.0013199486739160886, 'norm_acc_avg_frequency': 0.001303192666188174, 'MAG_z_mean': 0.0012785187104837222, 'ACC_x_avg_frequency': 0.0012644141408866506, 'MAG_x_max': 0.001237127167730276, 'norm_gyr_peak_frequency': 0.0011807634876396414, 'norm_gyr_energy': 0.0011564434899369335, 'speed_dlt': 0.0011218911383835913, 'MAG_z_median': 0.0010471377492677059, 'MAG_z_avg_frequency': 0.0010347028815395974, 'norm_acc_skewness': 0.0009669242910645487, 'norm_gyr_cal_range': 0.0009166980297714319, 'MAG_x_median': 0.0009048168329688996, 'GYR_y_max': 0.0009033198304731321, 'distance_London_change': 0.0008425632865422338, 'ACC_z_avg_frequency': 0.0008025912260246658, 'norm_acc_median': 0.0006835184063437368, 'ACC_z_skewness': 0.0006682259207980196, 'MAG_z_energy': 0.0006473206685618416, 'distance_railways_change': 0.0006361081372201644, 'ACC_y_kurtosis': 0.0006255215745893656, 'distance_Brighton_change': 0.00062366603375246, 'GYR_x_cal_range': 0.0005560739716695065, 'GYR_z_kurtosis': 0.0004493164704278906, 'norm_mag_entropy': 0.00043303133211394535, 'distance_bus_routes_change': 0.00040673485568254073, 'ACC_z_kurtosis': 0.0004060736190282351, 'norm_gyr_min': 0.00039380442062284177, 'GYR_x_max': 0.00038949836502153573, 'gps_snr_min': 0.00037893106614610557, 'norm_mag_peak_frequency': 0.0003653825636894452, 'GYR_x_kurtosis': 0.0003594236772278948, 'GYR_x_energy': 0.0002862807401186395, 'GYR_x_min': 0.00024465942507318796, 'GYR_z_max': 0.00024206037730142662, 'time_dlt': 0.00021636521181274973, 'MAG_x_std': 0.00021541857913288338, 'valid_dlt': 0.0001895122522618386, 'GYR_y_energy': 0.00015330978758059925, 'MAG_x_energy': 8.263964536283565e-05, 'distance_parks_change': 7.265217384198107e-05, 'MAG_x_entropy': 5.7370682720073917e-05, 'error_change': 1.3477436957029726e-05, 'distance_change': 1.2682487293054437e-05, 'GYR_y_median': 4.152350843117767e-06}
importance feature add well
training set : Hips ; testing set : Hips; test order: 3
X_val  : (143960, 176)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.15
predict lgb
Time elapsed for testing lgb: 1.15
predict xgb
Time elapsed for testing xgb: 2.3
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Hips ; testing set : Hips  testing result
tree_model.pred_mean
[[25135   321     0   112   371    70  3604   227]
 [ 1112 20772     0  2894    23    41   899   402]
 [    0  1798   348   628     0     0     0     0]
 [  349   161     0 11522     0     0     0     0]
 [  490    86     0     0 18254  1644     0     0]
 [   42    50     0    43  2741  5926   378     0]
 [  385     3     0    98  4078   389 15842  1015]
 [    0     0     0     0     0     0 11099 10608]]
              precision    recall  f1-score   support

       Still       0.91      0.84      0.88     29840
     Walking       0.90      0.79      0.84     26143
         Run       1.00      0.13      0.22      2774
        Bike       0.75      0.96      0.84     12032
         Car       0.72      0.89      0.79     20474
         Bus       0.73      0.65      0.69      9180
       Train       0.50      0.73      0.59     21810
      Subway       0.87      0.49      0.62     21707

    accuracy                           0.75    143960
   macro avg       0.80      0.68      0.69    143960
weighted avg       0.79      0.75      0.75    143960

test over
get importance point
single experiment feature importance :{'ACC_y_std_window_20_mean': 0.2642534213708173, 'distance_railways': 0.15862842236840421, 'distance_subway': 0.14938115684225464, 'speed_wd_max_log': 0.14508548872616425, 'ACC_z_cal_range': 0.13137278664677535, 'GYR_y_entropy': 0.11685551840215196, 'ACC_y_std': 0.1111515453807647, 'GYR_y_std_window_20_mean': 0.09579853585704937, 'distance_bus_routes': 0.09558628052597976, 'code': 0.0939694000554838, 'GYR_y_std': 0.07903100491459752, 'norm_acc_energy': 0.07847116960069031, 'norm_acc_std_window_20_mean': 0.07795629217804247, 'norm_mag_peak_frequency_window_20_mean': 0.06075896559419576, 'norm_acc_entropy': 0.05930422498876553, 'norm_gyr_median_window_20_mean': 0.04892716960054913, 'distance_London': 0.044705086382667146, 'distance_bus_stops': 0.0432250061030871, 'ACC_y_energy': 0.04023588332596002, 'distance_Brighton': 0.03762447828725944, 'ACC_y_min': 0.03648967142242994, 'ACC_z_mean': 0.033512514633142, 'speed_square': 0.033511450673116984, 'norm_gyr_entropy': 0.033086628021182285, 'speed_log': 0.029663473872057568, 'GYR_x_entropy': 0.02854967858472082, 'norm_acc_std': 0.028462280960313384, 'ACC_y_mean': 0.02736939050597595, 'acc': 0.025774280887710513, 'norm_gyr_std': 0.023834306781059314, 'latitude': 0.023168289781601285, 'GYR_z_entropy': 0.02234459609594365, 'norm_gyr_min_window_20_mean': 0.022003222254688558, 'distance_parks': 0.02030983112567689, 'ACC_y_entropy': 0.019902619782931716, 'north': 0.0190787631487246, 'ACC_x_cal_range': 0.018787709243989387, 'gps_snr_mean_window_20_mean': 0.018474646791370224, 'ACC_y_cal_range': 0.017361301266951797, 'ACC_y_median': 0.01700869617075415, 'norm_gyr_median': 0.016560487504313114, 'norm_acc_mean': 0.016202163748755025, 'number_window_20_mean': 0.016080774887661103, 'speed_dif': 0.01471082735986196, 'distance': 0.013220009250972702, 'norm_acc_cal_range': 0.013112380794632778, 'GYR_z_energy': 0.013088707463788558, 'is_stop': 0.012921003084129537, 'longitude': 0.012700059334713416, 'ACC_x_std': 0.01201617053360924, 'ACC_x_peak_frequency': 0.01183146802979122, 'ACC_z_median': 0.01126505341525378, 'GYR_x_peak_frequency': 0.011122420770856328, 'ACC_z_energy': 0.010771762508476009, 'number': 0.010551633534542425, 'MAG_y_cal_range': 0.010395288423302727, 'longitude_window_20_mean': 0.010238138617940184, 'speed': 0.009945911857860857, 'ACC_y_peak_frequency': 0.009863455399970498, 'MAG_z_std': 0.009378701285466712, 'MAG_z_cal_range': 0.009261233386548568, 'east': 0.008922132947005992, 'norm_gyr_mean': 0.008688736623310489, 'GYR_z_min': 0.00858999948514537, 'longitude_window_20_std': 0.00824168510468944, 'norm_mag_std': 0.008163432419483078, 'ACC_y_max': 0.008017561109621821, 'ACC_z_entropy': 0.007529506403538164, 'speed_wd_std': 0.007335201982047687, 'ACC_z_std': 0.007314396220631927, 'error': 0.00712559133518818, 'altitude': 0.006800038236314374, 'ACC_x_energy': 0.006712026542555734, 'ACC_z_peak_frequency': 0.006531497316136224, 'gps_snr_max': 0.006298196888888595, 'gps_snr_mean': 0.006256060257358254, 'norm_mag_cal_range': 0.0061049173394900095, 'GYR_z_peak_frequency': 0.005889614903383758, 'norm_acc_min': 0.005800849004572082, 'north_speed': 0.005676608632789707, 'ACC_z_min': 0.005527563927565609, 'GYR_z_std': 0.005380476368215991, 'MAG_y_energy': 0.004785989662563006, 'accuracy': 0.004748898784255454, 'acc_wd_max_log': 0.004317156442518093, 'norm_mag_max': 0.00428652939734238, 'GYR_z_avg_frequency': 0.004095275445870841, 'ACC_x_max': 0.00408771823921282, 'norm_acc_peak_frequency': 0.0039314912085287364, 'north_dlt': 0.0038508449310286673, 'norm_gyr_avg_frequency': 0.0038250317925212236, 'MAG_y_std': 0.0038106731141662534, 'east_speed': 0.0036810819658349907, 'gps_snr_std': 0.003586801011052702, 'GYR_y_min': 0.003507287639016085, 'ACC_z_max': 0.0034908388420048534, 'norm_mag_mean': 0.0034276535284432984, 'availability': 0.0033189918794741787, 'GYR_x_avg_frequency': 0.00314013570848584, 'acc_wd_std': 0.0031386138636723526, 'MAG_x_min': 0.00313569954269193, 'MAG_z_entropy': 0.0031090312686400346, 'norm_mag_energy': 0.0031032551471987984, 'norm_mag_avg_frequency': 0.0030456338872364977, 'norm_gyr_max': 0.0030298589165528517, 'norm_mag_median': 0.0029387599904246563, 'norm_acc_max': 0.002896175298226763, 'MAG_y_max': 0.0028908085844247134, 'MAG_x_avg_frequency': 0.0028335258786041147, 'ACC_x_mean': 0.002807318693637328, 'MAG_z_min': 0.0026377531798805138, 'GYR_z_cal_range': 0.002609750702913153, 'GYR_y_peak_frequency': 0.002553227635889799, 'norm_mag_min': 0.0025057091638412098, 'MAG_y_min': 0.0024520509548164554, 'MAG_y_avg_frequency': 0.0024303997741235567, 'GYR_y_avg_frequency': 0.0023482270170219564, 'ACC_x_entropy': 0.0021612087980884616, 'MAG_y_median': 0.0020308999580385422, 'ACC_y_avg_frequency': 0.0019494803356838834, 'east_dlt': 0.0019437935920703809, 'MAG_z_max': 0.001858723188946231, 'GYR_x_std': 0.0016561285771043341, 'MAG_x_cal_range': 0.0016105818749193978, 'GYR_y_cal_range': 0.001550656716700447, 'MAG_y_mean': 0.0015156447591639175, 'MAG_x_mean': 0.0014937384788660773, 'norm_acc_kurtosis': 0.0014547559651282571, 'ACC_x_min': 0.0014046834537171553, 'ACC_x_median': 0.0013874864105716859, 'distance_subway_change': 0.0013708495698136745, 'MAG_y_entropy': 0.0013199486739160886, 'norm_acc_avg_frequency': 0.001303192666188174, 'MAG_z_mean': 0.0012785187104837222, 'ACC_x_avg_frequency': 0.0012644141408866506, 'MAG_x_max': 0.001237127167730276, 'norm_gyr_peak_frequency': 0.0011807634876396414, 'norm_gyr_energy': 0.0011564434899369335, 'speed_dlt': 0.0011218911383835913, 'MAG_z_median': 0.0010471377492677059, 'MAG_z_avg_frequency': 0.0010347028815395974, 'norm_acc_skewness': 0.0009669242910645487, 'norm_gyr_cal_range': 0.0009166980297714319, 'MAG_x_median': 0.0009048168329688996, 'GYR_y_max': 0.0009033198304731321, 'distance_London_change': 0.0008425632865422338, 'ACC_z_avg_frequency': 0.0008025912260246658, 'norm_acc_median': 0.0006835184063437368, 'ACC_z_skewness': 0.0006682259207980196, 'MAG_z_energy': 0.0006473206685618416, 'distance_railways_change': 0.0006361081372201644, 'ACC_y_kurtosis': 0.0006255215745893656, 'distance_Brighton_change': 0.00062366603375246, 'GYR_x_cal_range': 0.0005560739716695065, 'GYR_z_kurtosis': 0.0004493164704278906, 'norm_mag_entropy': 0.00043303133211394535, 'distance_bus_routes_change': 0.00040673485568254073, 'ACC_z_kurtosis': 0.0004060736190282351, 'norm_gyr_min': 0.00039380442062284177, 'GYR_x_max': 0.00038949836502153573, 'gps_snr_min': 0.00037893106614610557, 'norm_mag_peak_frequency': 0.0003653825636894452, 'GYR_x_kurtosis': 0.0003594236772278948, 'GYR_x_energy': 0.0002862807401186395, 'GYR_x_min': 0.00024465942507318796, 'GYR_z_max': 0.00024206037730142662, 'time_dlt': 0.00021636521181274973, 'MAG_x_std': 0.00021541857913288338, 'valid_dlt': 0.0001895122522618386, 'GYR_y_energy': 0.00015330978758059925, 'MAG_x_energy': 8.263964536283565e-05, 'distance_parks_change': 7.265217384198107e-05, 'MAG_x_entropy': 5.7370682720073917e-05, 'error_change': 1.3477436957029726e-05, 'distance_change': 1.2682487293054437e-05, 'GYR_y_median': 4.152350843117767e-06}
importance feature add well
training set:Bag,the 1th training set
begin training
X_train: (1050526, 176)
y_train: 1050526
Training rf...
Time elapsed for training rf: 223.88
Training LightGBM...
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Warning] Auto-choosing col-wise multi-threading, the overhead of testing was 0.510274 seconds.
You can set `force_col_wise=true` to remove the overhead.
[LightGBM] [Info] Total Bins 41420
[LightGBM] [Info] Number of data points in the train set: 840420, number of used features: 176
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Info] Start training from score -2.151151
[LightGBM] [Info] Start training from score -2.145369
[LightGBM] [Info] Start training from score -2.236773
[LightGBM] [Info] Start training from score -2.189639
[LightGBM] [Info] Start training from score -1.891764
[LightGBM] [Info] Start training from score -2.002531
[LightGBM] [Info] Start training from score -1.904804
[LightGBM] [Info] Start training from score -2.178468
[1]	valid_0's multi_logloss: 1.49947
[2]	valid_0's multi_logloss: 1.1969
[3]	valid_0's multi_logloss: 0.988793
[4]	valid_0's multi_logloss: 0.830297
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[5]	valid_0's multi_logloss: 0.705322
[6]	valid_0's multi_logloss: 0.604551
[7]	valid_0's multi_logloss: 0.521393
[8]	valid_0's multi_logloss: 0.452697
[9]	valid_0's multi_logloss: 0.395597
[10]	valid_0's multi_logloss: 0.347171
[11]	valid_0's multi_logloss: 0.306435
[12]	valid_0's multi_logloss: 0.271456
[13]	valid_0's multi_logloss: 0.241416
[14]	valid_0's multi_logloss: 0.216376
[15]	valid_0's multi_logloss: 0.194398
[16]	valid_0's multi_logloss: 0.175513
[17]	valid_0's multi_logloss: 0.158755
[18]	valid_0's multi_logloss: 0.144301
[19]	valid_0's multi_logloss: 0.131472
[20]	valid_0's multi_logloss: 0.120579
[21]	valid_0's multi_logloss: 0.111097
[22]	valid_0's multi_logloss: 0.10245
[23]	valid_0's multi_logloss: 0.0945137
[24]	valid_0's multi_logloss: 0.0880172
[25]	valid_0's multi_logloss: 0.0821243
[26]	valid_0's multi_logloss: 0.0764241
[27]	valid_0's multi_logloss: 0.0716236
[28]	valid_0's multi_logloss: 0.0675456
[29]	valid_0's multi_logloss: 0.0638192
[30]	valid_0's multi_logloss: 0.0607056
[31]	valid_0's multi_logloss: 0.0572134
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[32]	valid_0's multi_logloss: 0.0545045
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[33]	valid_0's multi_logloss: 0.0518944
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[34]	valid_0's multi_logloss: 0.048942
[35]	valid_0's multi_logloss: 0.0464607
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[36]	valid_0's multi_logloss: 0.0444256
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[37]	valid_0's multi_logloss: 0.0424538
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[38]	valid_0's multi_logloss: 0.0405486
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[39]	valid_0's multi_logloss: 0.0389069
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[40]	valid_0's multi_logloss: 0.0372645
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[41]	valid_0's multi_logloss: 0.0356279
[42]	valid_0's multi_logloss: 0.0341437
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[43]	valid_0's multi_logloss: 0.0327581
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[44]	valid_0's multi_logloss: 0.0314252
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[45]	valid_0's multi_logloss: 0.0303457
[46]	valid_0's multi_logloss: 0.0292738
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[47]	valid_0's multi_logloss: 0.0282558
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[48]	valid_0's multi_logloss: 0.0271931
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[49]	valid_0's multi_logloss: 0.0261363
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[50]	valid_0's multi_logloss: 0.0253287
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[51]	valid_0's multi_logloss: 0.0244962
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[52]	valid_0's multi_logloss: 0.0235479
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[53]	valid_0's multi_logloss: 0.0227809
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[54]	valid_0's multi_logloss: 0.0220337
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[55]	valid_0's multi_logloss: 0.0213889
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[56]	valid_0's multi_logloss: 0.0206894
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[57]	valid_0's multi_logloss: 0.0200564
[58]	valid_0's multi_logloss: 0.0193878
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[59]	valid_0's multi_logloss: 0.0187642
[60]	valid_0's multi_logloss: 0.0182357
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[61]	valid_0's multi_logloss: 0.0178151
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[62]	valid_0's multi_logloss: 0.0173427
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[63]	valid_0's multi_logloss: 0.0169426
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[64]	valid_0's multi_logloss: 0.0164133
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[65]	valid_0's multi_logloss: 0.0159441
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[66]	valid_0's multi_logloss: 0.015466
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[67]	valid_0's multi_logloss: 0.0149981
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[68]	valid_0's multi_logloss: 0.0146925
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[69]	valid_0's multi_logloss: 0.014333
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[70]	valid_0's multi_logloss: 0.0138767
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[71]	valid_0's multi_logloss: 0.0134951
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[72]	valid_0's multi_logloss: 0.0131762
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[73]	valid_0's multi_logloss: 0.012823
[74]	valid_0's multi_logloss: 0.0125147
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[75]	valid_0's multi_logloss: 0.0122197
[76]	valid_0's multi_logloss: 0.0119286
[77]	valid_0's multi_logloss: 0.0116625
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[78]	valid_0's multi_logloss: 0.0113964
[79]	valid_0's multi_logloss: 0.0111052
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[80]	valid_0's multi_logloss: 0.0108268
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[81]	valid_0's multi_logloss: 0.0106186
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[82]	valid_0's multi_logloss: 0.0102912
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[83]	valid_0's multi_logloss: 0.0100696
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[84]	valid_0's multi_logloss: 0.00978499
[85]	valid_0's multi_logloss: 0.00959213
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[86]	valid_0's multi_logloss: 0.00942361
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[87]	valid_0's multi_logloss: 0.00923489
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[88]	valid_0's multi_logloss: 0.00904265
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[89]	valid_0's multi_logloss: 0.0088555
[90]	valid_0's multi_logloss: 0.00867217
[91]	valid_0's multi_logloss: 0.00848289
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[92]	valid_0's multi_logloss: 0.00830538
[93]	valid_0's multi_logloss: 0.00809729
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[94]	valid_0's multi_logloss: 0.00788549
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[95]	valid_0's multi_logloss: 0.00776619
[96]	valid_0's multi_logloss: 0.0076003
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[97]	valid_0's multi_logloss: 0.00744951
[98]	valid_0's multi_logloss: 0.00729389
[99]	valid_0's multi_logloss: 0.00716492
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[100]	valid_0's multi_logloss: 0.0070287
Time elapsed for training LightGBM: 96.93
Training XGBoost...
Time elapsed for training XGBoost: 461.54
begin testing
training set : Bag ; testing set : Torso; test order: 0
X_val  : (143960, 176)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.15
predict lgb
Time elapsed for testing lgb: 1.26
predict xgb
Time elapsed for testing xgb: 2.29
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Bag ; testing set : Torso  testing result
tree_model.pred_mean
[[21659   907     0    93    82  2226  4552   321]
 [  727 24644     9   107    41   239   235   141]
 [    0  1879   895     0     0     0     0     0]
 [  283  2786     0  6194  2311   249   209     0]
 [  318   176     0     0  7375  5406  7199     0]
 [   63    35     0     0     0  8644   438     0]
 [ 1945   136     0     0   968  2437 16087   237]
 [    0     3     0     0     0     0 11099 10605]]
              precision    recall  f1-score   support

       Still       0.87      0.73      0.79     29840
     Walking       0.81      0.94      0.87     26143
         Run       0.99      0.32      0.49      2774
        Bike       0.97      0.51      0.67     12032
         Car       0.68      0.36      0.47     20474
         Bus       0.45      0.94      0.61      9180
       Train       0.40      0.74      0.52     21810
      Subway       0.94      0.49      0.64     21707

    accuracy                           0.67    143960
   macro avg       0.76      0.63      0.63    143960
weighted avg       0.75      0.67      0.67    143960

test over
get importance point
single experiment feature importance :{'norm_acc_std_window_20_mean': 0.24573920461967838, 'distance_railways': 0.21186207102320234, 'distance_subway': 0.1510873834917686, 'code': 0.12987016228773718, 'norm_gyr_median_window_20_mean': 0.11888889157957803, 'distance_bus_routes': 0.11823165876814966, 'speed_wd_max_log': 0.10787264476759302, 'norm_acc_energy': 0.10646905273416157, 'norm_acc_max': 0.0955180123647829, 'norm_acc_avg_frequency': 0.09406036621113162, 'GYR_z_entropy': 0.08547766065344327, 'norm_acc_std': 0.07075966909432686, 'ACC_y_std_window_20_mean': 0.059542781369082066, 'gps_snr_mean_window_20_mean': 0.04708131306113035, 'speed_square': 0.04605464353686581, 'GYR_z_std': 0.037829560542436254, 'ACC_y_entropy': 0.03746997742072859, 'GYR_z_avg_frequency': 0.037096854088412026, 'is_stop': 0.035614843570933766, 'distance_Brighton': 0.03451183059715586, 'distance_London': 0.03419016947846039, 'GYR_x_entropy': 0.034023626667043505, 'norm_mag_peak_frequency_window_20_mean': 0.03214962031953665, 'norm_acc_peak_frequency': 0.03173317308859215, 'norm_gyr_median': 0.03130177251529377, 'norm_acc_cal_range': 0.030638931991672304, 'ACC_y_std': 0.030125970308884253, 'distance_bus_stops': 0.029766348768688493, 'speed_log': 0.02973686599979851, 'ACC_z_mean': 0.028962601073602615, 'norm_acc_entropy': 0.026451476109935885, 'ACC_x_avg_frequency': 0.02583187956935819, 'GYR_z_energy': 0.0250883112498929, 'distance': 0.02445540425539045, 'latitude': 0.022095646572943384, 'ACC_z_median': 0.021585160561195433, 'norm_gyr_mean': 0.020839172731008018, 'acc_wd_std': 0.020535443385920962, 'ACC_x_cal_range': 0.02009810825469309, 'GYR_y_peak_frequency': 0.017414768124005036, 'gps_snr_max': 0.017196469714064147, 'north': 0.017049011115058774, 'ACC_y_energy': 0.01653817329278677, 'gps_snr_mean': 0.01553213836565773, 'MAG_x_std': 0.015351015354044895, 'distance_parks': 0.015194966175020141, 'MAG_y_max': 0.014551034489970858, 'acc_wd_max_log': 0.013997416599355586, 'GYR_y_std_window_20_mean': 0.013583911197671336, 'norm_gyr_std': 0.013108397786646676, 'ACC_x_entropy': 0.012937694255653186, 'speed_dif': 0.01252877754741982, 'ACC_x_max': 0.012027197731667497, 'number_window_20_mean': 0.011930388810691816, 'accuracy': 0.011022317801765606, 'ACC_x_median': 0.011021192601095058, 'MAG_y_min': 0.010600432950476609, 'number': 0.010274421654186242, 'GYR_y_std': 0.009650662653075737, 'ACC_y_cal_range': 0.00964676509065614, 'MAG_y_energy': 0.009237888837444558, 'speed_wd_std': 0.008975231695535641, 'GYR_y_entropy': 0.008808395042599209, 'ACC_x_mean': 0.008736345192471021, 'ACC_z_skewness': 0.008500997936802875, 'ACC_z_std': 0.008119142297240561, 'GYR_x_peak_frequency': 0.007746625686517445, 'east': 0.007654918317069189, 'ACC_x_energy': 0.007592140703319643, 'norm_acc_min': 0.007542291939741272, 'norm_gyr_max': 0.007451596256363978, 'longitude': 0.007257697163163188, 'longitude_window_20_mean': 0.007231827533934521, 'norm_gyr_min_window_20_mean': 0.006782420995659364, 'norm_gyr_energy': 0.006385703320519385, 'norm_gyr_entropy': 0.006218064219075814, 'north_dlt': 0.00575931044995349, 'GYR_y_avg_frequency': 0.0056665407845520694, 'speed': 0.005422083143729561, 'norm_mag_min': 0.005268521797315318, 'ACC_y_avg_frequency': 0.0051867166443559575, 'ACC_z_cal_range': 0.005139659661169031, 'GYR_x_min': 0.004999362005811877, 'altitude': 0.004981222462518208, 'gps_snr_std': 0.004955876338602214, 'norm_mag_max': 0.004939344551812292, 'ACC_y_peak_frequency': 0.004852840948357346, 'longitude_window_20_std': 0.004745314003440371, 'GYR_y_cal_range': 0.004574060999571848, 'MAG_z_std': 0.004313867865734753, 'ACC_z_min': 0.004284508849324173, 'MAG_x_median': 0.004200052653725707, 'ACC_x_min': 0.004083038611340549, 'ACC_y_mean': 0.00407383154357838, 'ACC_x_std': 0.0037024544131067988, 'norm_gyr_avg_frequency': 0.0036639510815474874, 'GYR_x_avg_frequency': 0.003589848477932921, 'ACC_y_min': 0.003576872090092561, 'norm_mag_median': 0.003561355755734443, 'norm_mag_mean': 0.003514904546928228, 'ACC_z_max': 0.0034752050689845723, 'norm_acc_mean': 0.003367481450130998, 'MAG_y_cal_range': 0.0033591548214860745, 'MAG_z_max': 0.0031160535776508297, 'norm_mag_entropy': 0.003072762132134698, 'north_speed': 0.0030322335937829747, 'MAG_x_avg_frequency': 0.003031979819656705, 'MAG_x_entropy': 0.0029622356326259917, 'ACC_x_peak_frequency': 0.002934393224649468, 'norm_mag_cal_range': 0.002890992056863413, 'MAG_z_min': 0.0027300003747947024, 'GYR_z_peak_frequency': 0.0026209242504764995, 'MAG_x_min': 0.002499317249806424, 'MAG_x_energy': 0.0024490373956116886, 'ACC_z_avg_frequency': 0.0023868659927177532, 'MAG_x_max': 0.0023391092875820647, 'MAG_x_mean': 0.002178415552900108, 'MAG_y_median': 0.0021538641833317505, 'MAG_x_cal_range': 0.002073111199551828, 'MAG_z_mean': 0.0019682007553394557, 'norm_mag_std': 0.001967596624865796, 'norm_gyr_cal_range': 0.0019582822888177466, 'MAG_z_median': 0.0019402031739485632, 'ACC_y_median': 0.0018892377862573641, 'availability': 0.0018766354283469965, 'ACC_y_max': 0.0018708719854933472, 'ACC_z_energy': 0.0016983866328035388, 'MAG_z_energy': 0.0016133854816377398, 'distance_bus_routes_change': 0.0015750133851881107, 'east_dlt': 0.0015510048721830943, 'GYR_x_std': 0.0014181280230210129, 'norm_gyr_peak_frequency': 0.001331419009771707, 'GYR_y_min': 0.0012488227870655858, 'norm_acc_kurtosis': 0.00118270666866471, 'GYR_x_cal_range': 0.0011822152389357808, 'error': 0.001176423115613179, 'east_speed': 0.0010996522284729194, 'acc': 0.0010521064786757051, 'GYR_z_cal_range': 0.0010293510193539513, 'norm_mag_energy': 0.0009940730686827063, 'norm_mag_avg_frequency': 0.000987394764667443, 'MAG_y_std': 0.0009643287537923356, 'distance_Brighton_change': 0.0009194097531817209, 'ACC_z_peak_frequency': 0.0009173098693411774, 'ACC_z_kurtosis': 0.0009094547032708126, 'MAG_y_mean': 0.000841533048453462, 'GYR_y_energy': 0.0005438350055383028, 'GYR_z_min': 0.0004899063046912844, 'speed_dlt': 0.0004875912384606786, 'distance_London_change': 0.0004735143989145886, 'norm_gyr_min': 0.0003681187000151195, 'time_dlt': 0.0002966823555068788, 'ACC_z_entropy': 0.0002946143992699206, 'distance_subway_change': 0.00024111205794461843, 'GYR_y_max': 0.0002236895585732097, 'distance_railways_change': 0.00022322516900516147, 'norm_acc_median': 0.00021566871195216033, 'distance_parks_change': 0.0001828407577675035, 'valid_dlt': 0.00015203040571562572, 'GYR_x_max': 0.0001458208061077099, 'MAG_z_entropy': 0.00011072783557556018, 'GYR_z_max': 8.869900638397054e-05, 'GYR_x_energy': 8.14733285511597e-05, 'GYR_x_kurtosis': 6.177520556998651e-05, 'MAG_y_entropy': 6.067345318807556e-05, 'error_change': 5.823531867306111e-05, 'distance_change': 5.6353465766266126e-05, 'MAG_z_cal_range': 5.329202093960124e-05, 'GYR_y_median': 5.266433428296893e-05, 'gps_snr_min': 2.4720601571035137e-05, 'GYR_z_kurtosis': 2.2106188574794812e-05, 'ACC_y_kurtosis': 2.0220393597229485e-05, 'norm_acc_skewness': 1.505051828255562e-05, 'MAG_y_avg_frequency': 9.928745946148027e-06, 'MAG_z_avg_frequency': 6.0997606282313445e-06, 'norm_mag_peak_frequency': 8.21654937607405e-07}
importance feature add well
training set : Bag ; testing set : Bag; test order: 1
X_val  : (143960, 176)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.04
predict lgb
Time elapsed for testing lgb: 1.2
predict xgb
Time elapsed for testing xgb: 2.39
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Bag ; testing set : Bag  testing result
tree_model.pred_mean
[[26461   747     0    31   229   202  2005   165]
 [  747 24277    11   626    73    42   212   155]
 [    0  1112  1662     0     0     0     0     0]
 [   96  2314     0  9368    98    71    85     0]
 [  319    53     0     0 18294  1555   253     0]
 [    1    81     0     0  1968  6593   537     0]
 [  587    85     0    68  2441   749 17357   523]
 [    0     1     0     0     0     0  2289 19417]]
              precision    recall  f1-score   support

       Still       0.94      0.89      0.91     29840
     Walking       0.85      0.93      0.89     26143
         Run       0.99      0.60      0.75      2774
        Bike       0.93      0.78      0.85     12032
         Car       0.79      0.89      0.84     20474
         Bus       0.72      0.72      0.72      9180
       Train       0.76      0.80      0.78     21810
      Subway       0.96      0.89      0.93     21707

    accuracy                           0.86    143960
   macro avg       0.87      0.81      0.83    143960
weighted avg       0.86      0.86      0.86    143960

test over
get importance point
single experiment feature importance :{'norm_acc_std_window_20_mean': 0.24573920461967838, 'distance_railways': 0.21186207102320234, 'distance_subway': 0.1510873834917686, 'code': 0.12987016228773718, 'norm_gyr_median_window_20_mean': 0.11888889157957803, 'distance_bus_routes': 0.11823165876814966, 'speed_wd_max_log': 0.10787264476759302, 'norm_acc_energy': 0.10646905273416157, 'norm_acc_max': 0.0955180123647829, 'norm_acc_avg_frequency': 0.09406036621113162, 'GYR_z_entropy': 0.08547766065344327, 'norm_acc_std': 0.07075966909432686, 'ACC_y_std_window_20_mean': 0.059542781369082066, 'gps_snr_mean_window_20_mean': 0.04708131306113035, 'speed_square': 0.04605464353686581, 'GYR_z_std': 0.037829560542436254, 'ACC_y_entropy': 0.03746997742072859, 'GYR_z_avg_frequency': 0.037096854088412026, 'is_stop': 0.035614843570933766, 'distance_Brighton': 0.03451183059715586, 'distance_London': 0.03419016947846039, 'GYR_x_entropy': 0.034023626667043505, 'norm_mag_peak_frequency_window_20_mean': 0.03214962031953665, 'norm_acc_peak_frequency': 0.03173317308859215, 'norm_gyr_median': 0.03130177251529377, 'norm_acc_cal_range': 0.030638931991672304, 'ACC_y_std': 0.030125970308884253, 'distance_bus_stops': 0.029766348768688493, 'speed_log': 0.02973686599979851, 'ACC_z_mean': 0.028962601073602615, 'norm_acc_entropy': 0.026451476109935885, 'ACC_x_avg_frequency': 0.02583187956935819, 'GYR_z_energy': 0.0250883112498929, 'distance': 0.02445540425539045, 'latitude': 0.022095646572943384, 'ACC_z_median': 0.021585160561195433, 'norm_gyr_mean': 0.020839172731008018, 'acc_wd_std': 0.020535443385920962, 'ACC_x_cal_range': 0.02009810825469309, 'GYR_y_peak_frequency': 0.017414768124005036, 'gps_snr_max': 0.017196469714064147, 'north': 0.017049011115058774, 'ACC_y_energy': 0.01653817329278677, 'gps_snr_mean': 0.01553213836565773, 'MAG_x_std': 0.015351015354044895, 'distance_parks': 0.015194966175020141, 'MAG_y_max': 0.014551034489970858, 'acc_wd_max_log': 0.013997416599355586, 'GYR_y_std_window_20_mean': 0.013583911197671336, 'norm_gyr_std': 0.013108397786646676, 'ACC_x_entropy': 0.012937694255653186, 'speed_dif': 0.01252877754741982, 'ACC_x_max': 0.012027197731667497, 'number_window_20_mean': 0.011930388810691816, 'accuracy': 0.011022317801765606, 'ACC_x_median': 0.011021192601095058, 'MAG_y_min': 0.010600432950476609, 'number': 0.010274421654186242, 'GYR_y_std': 0.009650662653075737, 'ACC_y_cal_range': 0.00964676509065614, 'MAG_y_energy': 0.009237888837444558, 'speed_wd_std': 0.008975231695535641, 'GYR_y_entropy': 0.008808395042599209, 'ACC_x_mean': 0.008736345192471021, 'ACC_z_skewness': 0.008500997936802875, 'ACC_z_std': 0.008119142297240561, 'GYR_x_peak_frequency': 0.007746625686517445, 'east': 0.007654918317069189, 'ACC_x_energy': 0.007592140703319643, 'norm_acc_min': 0.007542291939741272, 'norm_gyr_max': 0.007451596256363978, 'longitude': 0.007257697163163188, 'longitude_window_20_mean': 0.007231827533934521, 'norm_gyr_min_window_20_mean': 0.006782420995659364, 'norm_gyr_energy': 0.006385703320519385, 'norm_gyr_entropy': 0.006218064219075814, 'north_dlt': 0.00575931044995349, 'GYR_y_avg_frequency': 0.0056665407845520694, 'speed': 0.005422083143729561, 'norm_mag_min': 0.005268521797315318, 'ACC_y_avg_frequency': 0.0051867166443559575, 'ACC_z_cal_range': 0.005139659661169031, 'GYR_x_min': 0.004999362005811877, 'altitude': 0.004981222462518208, 'gps_snr_std': 0.004955876338602214, 'norm_mag_max': 0.004939344551812292, 'ACC_y_peak_frequency': 0.004852840948357346, 'longitude_window_20_std': 0.004745314003440371, 'GYR_y_cal_range': 0.004574060999571848, 'MAG_z_std': 0.004313867865734753, 'ACC_z_min': 0.004284508849324173, 'MAG_x_median': 0.004200052653725707, 'ACC_x_min': 0.004083038611340549, 'ACC_y_mean': 0.00407383154357838, 'ACC_x_std': 0.0037024544131067988, 'norm_gyr_avg_frequency': 0.0036639510815474874, 'GYR_x_avg_frequency': 0.003589848477932921, 'ACC_y_min': 0.003576872090092561, 'norm_mag_median': 0.003561355755734443, 'norm_mag_mean': 0.003514904546928228, 'ACC_z_max': 0.0034752050689845723, 'norm_acc_mean': 0.003367481450130998, 'MAG_y_cal_range': 0.0033591548214860745, 'MAG_z_max': 0.0031160535776508297, 'norm_mag_entropy': 0.003072762132134698, 'north_speed': 0.0030322335937829747, 'MAG_x_avg_frequency': 0.003031979819656705, 'MAG_x_entropy': 0.0029622356326259917, 'ACC_x_peak_frequency': 0.002934393224649468, 'norm_mag_cal_range': 0.002890992056863413, 'MAG_z_min': 0.0027300003747947024, 'GYR_z_peak_frequency': 0.0026209242504764995, 'MAG_x_min': 0.002499317249806424, 'MAG_x_energy': 0.0024490373956116886, 'ACC_z_avg_frequency': 0.0023868659927177532, 'MAG_x_max': 0.0023391092875820647, 'MAG_x_mean': 0.002178415552900108, 'MAG_y_median': 0.0021538641833317505, 'MAG_x_cal_range': 0.002073111199551828, 'MAG_z_mean': 0.0019682007553394557, 'norm_mag_std': 0.001967596624865796, 'norm_gyr_cal_range': 0.0019582822888177466, 'MAG_z_median': 0.0019402031739485632, 'ACC_y_median': 0.0018892377862573641, 'availability': 0.0018766354283469965, 'ACC_y_max': 0.0018708719854933472, 'ACC_z_energy': 0.0016983866328035388, 'MAG_z_energy': 0.0016133854816377398, 'distance_bus_routes_change': 0.0015750133851881107, 'east_dlt': 0.0015510048721830943, 'GYR_x_std': 0.0014181280230210129, 'norm_gyr_peak_frequency': 0.001331419009771707, 'GYR_y_min': 0.0012488227870655858, 'norm_acc_kurtosis': 0.00118270666866471, 'GYR_x_cal_range': 0.0011822152389357808, 'error': 0.001176423115613179, 'east_speed': 0.0010996522284729194, 'acc': 0.0010521064786757051, 'GYR_z_cal_range': 0.0010293510193539513, 'norm_mag_energy': 0.0009940730686827063, 'norm_mag_avg_frequency': 0.000987394764667443, 'MAG_y_std': 0.0009643287537923356, 'distance_Brighton_change': 0.0009194097531817209, 'ACC_z_peak_frequency': 0.0009173098693411774, 'ACC_z_kurtosis': 0.0009094547032708126, 'MAG_y_mean': 0.000841533048453462, 'GYR_y_energy': 0.0005438350055383028, 'GYR_z_min': 0.0004899063046912844, 'speed_dlt': 0.0004875912384606786, 'distance_London_change': 0.0004735143989145886, 'norm_gyr_min': 0.0003681187000151195, 'time_dlt': 0.0002966823555068788, 'ACC_z_entropy': 0.0002946143992699206, 'distance_subway_change': 0.00024111205794461843, 'GYR_y_max': 0.0002236895585732097, 'distance_railways_change': 0.00022322516900516147, 'norm_acc_median': 0.00021566871195216033, 'distance_parks_change': 0.0001828407577675035, 'valid_dlt': 0.00015203040571562572, 'GYR_x_max': 0.0001458208061077099, 'MAG_z_entropy': 0.00011072783557556018, 'GYR_z_max': 8.869900638397054e-05, 'GYR_x_energy': 8.14733285511597e-05, 'GYR_x_kurtosis': 6.177520556998651e-05, 'MAG_y_entropy': 6.067345318807556e-05, 'error_change': 5.823531867306111e-05, 'distance_change': 5.6353465766266126e-05, 'MAG_z_cal_range': 5.329202093960124e-05, 'GYR_y_median': 5.266433428296893e-05, 'gps_snr_min': 2.4720601571035137e-05, 'GYR_z_kurtosis': 2.2106188574794812e-05, 'ACC_y_kurtosis': 2.0220393597229485e-05, 'norm_acc_skewness': 1.505051828255562e-05, 'MAG_y_avg_frequency': 9.928745946148027e-06, 'MAG_z_avg_frequency': 6.0997606282313445e-06, 'norm_mag_peak_frequency': 8.21654937607405e-07}
importance feature add well
training set : Bag ; testing set : Hand; test order: 2
X_val  : (143960, 176)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.17
predict lgb
Time elapsed for testing lgb: 1.18
predict xgb
Time elapsed for testing xgb: 2.37
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Bag ; testing set : Hand  testing result
tree_model.pred_mean
[[25112  1293     0   857     0   686   932   960]
 [  779 23575     7  1223     0    56   161   342]
 [    0  1344  1430     0     0     0     0     0]
 [   51  1303     0 10570    77    31     0     0]
 [  576   661     0  1028 15611  2200   398     0]
 [    4    10     0   206  2961  5949    50     0]
 [  696   134     0   472  2110   212 18087    99]
 [    0     0     0     0     0     0  2266 19441]]
              precision    recall  f1-score   support

       Still       0.92      0.84      0.88     29840
     Walking       0.83      0.90      0.87     26143
         Run       1.00      0.52      0.68      2774
        Bike       0.74      0.88      0.80     12032
         Car       0.75      0.76      0.76     20474
         Bus       0.65      0.65      0.65      9180
       Train       0.83      0.83      0.83     21810
      Subway       0.93      0.90      0.91     21707

    accuracy                           0.83    143960
   macro avg       0.83      0.78      0.80    143960
weighted avg       0.84      0.83      0.83    143960

test over
get importance point
single experiment feature importance :{'norm_acc_std_window_20_mean': 0.24573920461967838, 'distance_railways': 0.21186207102320234, 'distance_subway': 0.1510873834917686, 'code': 0.12987016228773718, 'norm_gyr_median_window_20_mean': 0.11888889157957803, 'distance_bus_routes': 0.11823165876814966, 'speed_wd_max_log': 0.10787264476759302, 'norm_acc_energy': 0.10646905273416157, 'norm_acc_max': 0.0955180123647829, 'norm_acc_avg_frequency': 0.09406036621113162, 'GYR_z_entropy': 0.08547766065344327, 'norm_acc_std': 0.07075966909432686, 'ACC_y_std_window_20_mean': 0.059542781369082066, 'gps_snr_mean_window_20_mean': 0.04708131306113035, 'speed_square': 0.04605464353686581, 'GYR_z_std': 0.037829560542436254, 'ACC_y_entropy': 0.03746997742072859, 'GYR_z_avg_frequency': 0.037096854088412026, 'is_stop': 0.035614843570933766, 'distance_Brighton': 0.03451183059715586, 'distance_London': 0.03419016947846039, 'GYR_x_entropy': 0.034023626667043505, 'norm_mag_peak_frequency_window_20_mean': 0.03214962031953665, 'norm_acc_peak_frequency': 0.03173317308859215, 'norm_gyr_median': 0.03130177251529377, 'norm_acc_cal_range': 0.030638931991672304, 'ACC_y_std': 0.030125970308884253, 'distance_bus_stops': 0.029766348768688493, 'speed_log': 0.02973686599979851, 'ACC_z_mean': 0.028962601073602615, 'norm_acc_entropy': 0.026451476109935885, 'ACC_x_avg_frequency': 0.02583187956935819, 'GYR_z_energy': 0.0250883112498929, 'distance': 0.02445540425539045, 'latitude': 0.022095646572943384, 'ACC_z_median': 0.021585160561195433, 'norm_gyr_mean': 0.020839172731008018, 'acc_wd_std': 0.020535443385920962, 'ACC_x_cal_range': 0.02009810825469309, 'GYR_y_peak_frequency': 0.017414768124005036, 'gps_snr_max': 0.017196469714064147, 'north': 0.017049011115058774, 'ACC_y_energy': 0.01653817329278677, 'gps_snr_mean': 0.01553213836565773, 'MAG_x_std': 0.015351015354044895, 'distance_parks': 0.015194966175020141, 'MAG_y_max': 0.014551034489970858, 'acc_wd_max_log': 0.013997416599355586, 'GYR_y_std_window_20_mean': 0.013583911197671336, 'norm_gyr_std': 0.013108397786646676, 'ACC_x_entropy': 0.012937694255653186, 'speed_dif': 0.01252877754741982, 'ACC_x_max': 0.012027197731667497, 'number_window_20_mean': 0.011930388810691816, 'accuracy': 0.011022317801765606, 'ACC_x_median': 0.011021192601095058, 'MAG_y_min': 0.010600432950476609, 'number': 0.010274421654186242, 'GYR_y_std': 0.009650662653075737, 'ACC_y_cal_range': 0.00964676509065614, 'MAG_y_energy': 0.009237888837444558, 'speed_wd_std': 0.008975231695535641, 'GYR_y_entropy': 0.008808395042599209, 'ACC_x_mean': 0.008736345192471021, 'ACC_z_skewness': 0.008500997936802875, 'ACC_z_std': 0.008119142297240561, 'GYR_x_peak_frequency': 0.007746625686517445, 'east': 0.007654918317069189, 'ACC_x_energy': 0.007592140703319643, 'norm_acc_min': 0.007542291939741272, 'norm_gyr_max': 0.007451596256363978, 'longitude': 0.007257697163163188, 'longitude_window_20_mean': 0.007231827533934521, 'norm_gyr_min_window_20_mean': 0.006782420995659364, 'norm_gyr_energy': 0.006385703320519385, 'norm_gyr_entropy': 0.006218064219075814, 'north_dlt': 0.00575931044995349, 'GYR_y_avg_frequency': 0.0056665407845520694, 'speed': 0.005422083143729561, 'norm_mag_min': 0.005268521797315318, 'ACC_y_avg_frequency': 0.0051867166443559575, 'ACC_z_cal_range': 0.005139659661169031, 'GYR_x_min': 0.004999362005811877, 'altitude': 0.004981222462518208, 'gps_snr_std': 0.004955876338602214, 'norm_mag_max': 0.004939344551812292, 'ACC_y_peak_frequency': 0.004852840948357346, 'longitude_window_20_std': 0.004745314003440371, 'GYR_y_cal_range': 0.004574060999571848, 'MAG_z_std': 0.004313867865734753, 'ACC_z_min': 0.004284508849324173, 'MAG_x_median': 0.004200052653725707, 'ACC_x_min': 0.004083038611340549, 'ACC_y_mean': 0.00407383154357838, 'ACC_x_std': 0.0037024544131067988, 'norm_gyr_avg_frequency': 0.0036639510815474874, 'GYR_x_avg_frequency': 0.003589848477932921, 'ACC_y_min': 0.003576872090092561, 'norm_mag_median': 0.003561355755734443, 'norm_mag_mean': 0.003514904546928228, 'ACC_z_max': 0.0034752050689845723, 'norm_acc_mean': 0.003367481450130998, 'MAG_y_cal_range': 0.0033591548214860745, 'MAG_z_max': 0.0031160535776508297, 'norm_mag_entropy': 0.003072762132134698, 'north_speed': 0.0030322335937829747, 'MAG_x_avg_frequency': 0.003031979819656705, 'MAG_x_entropy': 0.0029622356326259917, 'ACC_x_peak_frequency': 0.002934393224649468, 'norm_mag_cal_range': 0.002890992056863413, 'MAG_z_min': 0.0027300003747947024, 'GYR_z_peak_frequency': 0.0026209242504764995, 'MAG_x_min': 0.002499317249806424, 'MAG_x_energy': 0.0024490373956116886, 'ACC_z_avg_frequency': 0.0023868659927177532, 'MAG_x_max': 0.0023391092875820647, 'MAG_x_mean': 0.002178415552900108, 'MAG_y_median': 0.0021538641833317505, 'MAG_x_cal_range': 0.002073111199551828, 'MAG_z_mean': 0.0019682007553394557, 'norm_mag_std': 0.001967596624865796, 'norm_gyr_cal_range': 0.0019582822888177466, 'MAG_z_median': 0.0019402031739485632, 'ACC_y_median': 0.0018892377862573641, 'availability': 0.0018766354283469965, 'ACC_y_max': 0.0018708719854933472, 'ACC_z_energy': 0.0016983866328035388, 'MAG_z_energy': 0.0016133854816377398, 'distance_bus_routes_change': 0.0015750133851881107, 'east_dlt': 0.0015510048721830943, 'GYR_x_std': 0.0014181280230210129, 'norm_gyr_peak_frequency': 0.001331419009771707, 'GYR_y_min': 0.0012488227870655858, 'norm_acc_kurtosis': 0.00118270666866471, 'GYR_x_cal_range': 0.0011822152389357808, 'error': 0.001176423115613179, 'east_speed': 0.0010996522284729194, 'acc': 0.0010521064786757051, 'GYR_z_cal_range': 0.0010293510193539513, 'norm_mag_energy': 0.0009940730686827063, 'norm_mag_avg_frequency': 0.000987394764667443, 'MAG_y_std': 0.0009643287537923356, 'distance_Brighton_change': 0.0009194097531817209, 'ACC_z_peak_frequency': 0.0009173098693411774, 'ACC_z_kurtosis': 0.0009094547032708126, 'MAG_y_mean': 0.000841533048453462, 'GYR_y_energy': 0.0005438350055383028, 'GYR_z_min': 0.0004899063046912844, 'speed_dlt': 0.0004875912384606786, 'distance_London_change': 0.0004735143989145886, 'norm_gyr_min': 0.0003681187000151195, 'time_dlt': 0.0002966823555068788, 'ACC_z_entropy': 0.0002946143992699206, 'distance_subway_change': 0.00024111205794461843, 'GYR_y_max': 0.0002236895585732097, 'distance_railways_change': 0.00022322516900516147, 'norm_acc_median': 0.00021566871195216033, 'distance_parks_change': 0.0001828407577675035, 'valid_dlt': 0.00015203040571562572, 'GYR_x_max': 0.0001458208061077099, 'MAG_z_entropy': 0.00011072783557556018, 'GYR_z_max': 8.869900638397054e-05, 'GYR_x_energy': 8.14733285511597e-05, 'GYR_x_kurtosis': 6.177520556998651e-05, 'MAG_y_entropy': 6.067345318807556e-05, 'error_change': 5.823531867306111e-05, 'distance_change': 5.6353465766266126e-05, 'MAG_z_cal_range': 5.329202093960124e-05, 'GYR_y_median': 5.266433428296893e-05, 'gps_snr_min': 2.4720601571035137e-05, 'GYR_z_kurtosis': 2.2106188574794812e-05, 'ACC_y_kurtosis': 2.0220393597229485e-05, 'norm_acc_skewness': 1.505051828255562e-05, 'MAG_y_avg_frequency': 9.928745946148027e-06, 'MAG_z_avg_frequency': 6.0997606282313445e-06, 'norm_mag_peak_frequency': 8.21654937607405e-07}
importance feature add well
training set : Bag ; testing set : Hips; test order: 3
X_val  : (143960, 176)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.33
predict lgb
Time elapsed for testing lgb: 1.28
predict xgb
Time elapsed for testing xgb: 2.49
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Bag ; testing set : Hips  testing result
tree_model.pred_mean
[[23107  2242     0    49    19   661  3640   122]
 [  490 23908    75   486     0   143   636   405]
 [    0   928  1846     0     0     0     0     0]
 [   88  4987     0  6826     0     0   131     0]
 [  365   100     0     0  9714  3603  6692     0]
 [   37    34     0     0   587  7907   615     0]
 [  649   107     0    31  1474  1104 18427    18]
 [    0     0     0     0     0     0 11099 10608]]
              precision    recall  f1-score   support

       Still       0.93      0.77      0.85     29840
     Walking       0.74      0.91      0.82     26143
         Run       0.96      0.67      0.79      2774
        Bike       0.92      0.57      0.70     12032
         Car       0.82      0.47      0.60     20474
         Bus       0.59      0.86      0.70      9180
       Train       0.45      0.84      0.58     21810
      Subway       0.95      0.49      0.65     21707

    accuracy                           0.71    143960
   macro avg       0.80      0.70      0.71    143960
weighted avg       0.79      0.71      0.71    143960

test over
get importance point
single experiment feature importance :{'norm_acc_std_window_20_mean': 0.24573920461967838, 'distance_railways': 0.21186207102320234, 'distance_subway': 0.1510873834917686, 'code': 0.12987016228773718, 'norm_gyr_median_window_20_mean': 0.11888889157957803, 'distance_bus_routes': 0.11823165876814966, 'speed_wd_max_log': 0.10787264476759302, 'norm_acc_energy': 0.10646905273416157, 'norm_acc_max': 0.0955180123647829, 'norm_acc_avg_frequency': 0.09406036621113162, 'GYR_z_entropy': 0.08547766065344327, 'norm_acc_std': 0.07075966909432686, 'ACC_y_std_window_20_mean': 0.059542781369082066, 'gps_snr_mean_window_20_mean': 0.04708131306113035, 'speed_square': 0.04605464353686581, 'GYR_z_std': 0.037829560542436254, 'ACC_y_entropy': 0.03746997742072859, 'GYR_z_avg_frequency': 0.037096854088412026, 'is_stop': 0.035614843570933766, 'distance_Brighton': 0.03451183059715586, 'distance_London': 0.03419016947846039, 'GYR_x_entropy': 0.034023626667043505, 'norm_mag_peak_frequency_window_20_mean': 0.03214962031953665, 'norm_acc_peak_frequency': 0.03173317308859215, 'norm_gyr_median': 0.03130177251529377, 'norm_acc_cal_range': 0.030638931991672304, 'ACC_y_std': 0.030125970308884253, 'distance_bus_stops': 0.029766348768688493, 'speed_log': 0.02973686599979851, 'ACC_z_mean': 0.028962601073602615, 'norm_acc_entropy': 0.026451476109935885, 'ACC_x_avg_frequency': 0.02583187956935819, 'GYR_z_energy': 0.0250883112498929, 'distance': 0.02445540425539045, 'latitude': 0.022095646572943384, 'ACC_z_median': 0.021585160561195433, 'norm_gyr_mean': 0.020839172731008018, 'acc_wd_std': 0.020535443385920962, 'ACC_x_cal_range': 0.02009810825469309, 'GYR_y_peak_frequency': 0.017414768124005036, 'gps_snr_max': 0.017196469714064147, 'north': 0.017049011115058774, 'ACC_y_energy': 0.01653817329278677, 'gps_snr_mean': 0.01553213836565773, 'MAG_x_std': 0.015351015354044895, 'distance_parks': 0.015194966175020141, 'MAG_y_max': 0.014551034489970858, 'acc_wd_max_log': 0.013997416599355586, 'GYR_y_std_window_20_mean': 0.013583911197671336, 'norm_gyr_std': 0.013108397786646676, 'ACC_x_entropy': 0.012937694255653186, 'speed_dif': 0.01252877754741982, 'ACC_x_max': 0.012027197731667497, 'number_window_20_mean': 0.011930388810691816, 'accuracy': 0.011022317801765606, 'ACC_x_median': 0.011021192601095058, 'MAG_y_min': 0.010600432950476609, 'number': 0.010274421654186242, 'GYR_y_std': 0.009650662653075737, 'ACC_y_cal_range': 0.00964676509065614, 'MAG_y_energy': 0.009237888837444558, 'speed_wd_std': 0.008975231695535641, 'GYR_y_entropy': 0.008808395042599209, 'ACC_x_mean': 0.008736345192471021, 'ACC_z_skewness': 0.008500997936802875, 'ACC_z_std': 0.008119142297240561, 'GYR_x_peak_frequency': 0.007746625686517445, 'east': 0.007654918317069189, 'ACC_x_energy': 0.007592140703319643, 'norm_acc_min': 0.007542291939741272, 'norm_gyr_max': 0.007451596256363978, 'longitude': 0.007257697163163188, 'longitude_window_20_mean': 0.007231827533934521, 'norm_gyr_min_window_20_mean': 0.006782420995659364, 'norm_gyr_energy': 0.006385703320519385, 'norm_gyr_entropy': 0.006218064219075814, 'north_dlt': 0.00575931044995349, 'GYR_y_avg_frequency': 0.0056665407845520694, 'speed': 0.005422083143729561, 'norm_mag_min': 0.005268521797315318, 'ACC_y_avg_frequency': 0.0051867166443559575, 'ACC_z_cal_range': 0.005139659661169031, 'GYR_x_min': 0.004999362005811877, 'altitude': 0.004981222462518208, 'gps_snr_std': 0.004955876338602214, 'norm_mag_max': 0.004939344551812292, 'ACC_y_peak_frequency': 0.004852840948357346, 'longitude_window_20_std': 0.004745314003440371, 'GYR_y_cal_range': 0.004574060999571848, 'MAG_z_std': 0.004313867865734753, 'ACC_z_min': 0.004284508849324173, 'MAG_x_median': 0.004200052653725707, 'ACC_x_min': 0.004083038611340549, 'ACC_y_mean': 0.00407383154357838, 'ACC_x_std': 0.0037024544131067988, 'norm_gyr_avg_frequency': 0.0036639510815474874, 'GYR_x_avg_frequency': 0.003589848477932921, 'ACC_y_min': 0.003576872090092561, 'norm_mag_median': 0.003561355755734443, 'norm_mag_mean': 0.003514904546928228, 'ACC_z_max': 0.0034752050689845723, 'norm_acc_mean': 0.003367481450130998, 'MAG_y_cal_range': 0.0033591548214860745, 'MAG_z_max': 0.0031160535776508297, 'norm_mag_entropy': 0.003072762132134698, 'north_speed': 0.0030322335937829747, 'MAG_x_avg_frequency': 0.003031979819656705, 'MAG_x_entropy': 0.0029622356326259917, 'ACC_x_peak_frequency': 0.002934393224649468, 'norm_mag_cal_range': 0.002890992056863413, 'MAG_z_min': 0.0027300003747947024, 'GYR_z_peak_frequency': 0.0026209242504764995, 'MAG_x_min': 0.002499317249806424, 'MAG_x_energy': 0.0024490373956116886, 'ACC_z_avg_frequency': 0.0023868659927177532, 'MAG_x_max': 0.0023391092875820647, 'MAG_x_mean': 0.002178415552900108, 'MAG_y_median': 0.0021538641833317505, 'MAG_x_cal_range': 0.002073111199551828, 'MAG_z_mean': 0.0019682007553394557, 'norm_mag_std': 0.001967596624865796, 'norm_gyr_cal_range': 0.0019582822888177466, 'MAG_z_median': 0.0019402031739485632, 'ACC_y_median': 0.0018892377862573641, 'availability': 0.0018766354283469965, 'ACC_y_max': 0.0018708719854933472, 'ACC_z_energy': 0.0016983866328035388, 'MAG_z_energy': 0.0016133854816377398, 'distance_bus_routes_change': 0.0015750133851881107, 'east_dlt': 0.0015510048721830943, 'GYR_x_std': 0.0014181280230210129, 'norm_gyr_peak_frequency': 0.001331419009771707, 'GYR_y_min': 0.0012488227870655858, 'norm_acc_kurtosis': 0.00118270666866471, 'GYR_x_cal_range': 0.0011822152389357808, 'error': 0.001176423115613179, 'east_speed': 0.0010996522284729194, 'acc': 0.0010521064786757051, 'GYR_z_cal_range': 0.0010293510193539513, 'norm_mag_energy': 0.0009940730686827063, 'norm_mag_avg_frequency': 0.000987394764667443, 'MAG_y_std': 0.0009643287537923356, 'distance_Brighton_change': 0.0009194097531817209, 'ACC_z_peak_frequency': 0.0009173098693411774, 'ACC_z_kurtosis': 0.0009094547032708126, 'MAG_y_mean': 0.000841533048453462, 'GYR_y_energy': 0.0005438350055383028, 'GYR_z_min': 0.0004899063046912844, 'speed_dlt': 0.0004875912384606786, 'distance_London_change': 0.0004735143989145886, 'norm_gyr_min': 0.0003681187000151195, 'time_dlt': 0.0002966823555068788, 'ACC_z_entropy': 0.0002946143992699206, 'distance_subway_change': 0.00024111205794461843, 'GYR_y_max': 0.0002236895585732097, 'distance_railways_change': 0.00022322516900516147, 'norm_acc_median': 0.00021566871195216033, 'distance_parks_change': 0.0001828407577675035, 'valid_dlt': 0.00015203040571562572, 'GYR_x_max': 0.0001458208061077099, 'MAG_z_entropy': 0.00011072783557556018, 'GYR_z_max': 8.869900638397054e-05, 'GYR_x_energy': 8.14733285511597e-05, 'GYR_x_kurtosis': 6.177520556998651e-05, 'MAG_y_entropy': 6.067345318807556e-05, 'error_change': 5.823531867306111e-05, 'distance_change': 5.6353465766266126e-05, 'MAG_z_cal_range': 5.329202093960124e-05, 'GYR_y_median': 5.266433428296893e-05, 'gps_snr_min': 2.4720601571035137e-05, 'GYR_z_kurtosis': 2.2106188574794812e-05, 'ACC_y_kurtosis': 2.0220393597229485e-05, 'norm_acc_skewness': 1.505051828255562e-05, 'MAG_y_avg_frequency': 9.928745946148027e-06, 'MAG_z_avg_frequency': 6.0997606282313445e-06, 'norm_mag_peak_frequency': 8.21654937607405e-07}
importance feature add well
training set:Hand,the 2th training set
begin training
X_train: (1050526, 176)
y_train: 1050526
Training rf...
Time elapsed for training rf: 220.99
Training LightGBM...
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Warning] Auto-choosing col-wise multi-threading, the overhead of testing was 0.479316 seconds.
You can set `force_col_wise=true` to remove the overhead.
[LightGBM] [Info] Total Bins 41275
[LightGBM] [Info] Number of data points in the train set: 840420, number of used features: 176
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Info] Start training from score -2.151386
[LightGBM] [Info] Start training from score -2.145766
[LightGBM] [Info] Start training from score -2.236551
[LightGBM] [Info] Start training from score -2.190979
[LightGBM] [Info] Start training from score -1.891023
[LightGBM] [Info] Start training from score -2.003157
[LightGBM] [Info] Start training from score -1.905716
[LightGBM] [Info] Start training from score -2.175750
[1]	valid_0's multi_logloss: 1.52082
[2]	valid_0's multi_logloss: 1.22701
[3]	valid_0's multi_logloss: 1.02118
[4]	valid_0's multi_logloss: 0.866644
[5]	valid_0's multi_logloss: 0.74514
[6]	valid_0's multi_logloss: 0.646852
[7]	valid_0's multi_logloss: 0.566493
[8]	valid_0's multi_logloss: 0.500052
[9]	valid_0's multi_logloss: 0.444412
[10]	valid_0's multi_logloss: 0.396858
[11]	valid_0's multi_logloss: 0.356646
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[12]	valid_0's multi_logloss: 0.32221
[13]	valid_0's multi_logloss: 0.29244
[14]	valid_0's multi_logloss: 0.266913
[15]	valid_0's multi_logloss: 0.244151
[16]	valid_0's multi_logloss: 0.224299
[17]	valid_0's multi_logloss: 0.207076
[18]	valid_0's multi_logloss: 0.191867
[19]	valid_0's multi_logloss: 0.17874
[20]	valid_0's multi_logloss: 0.166816
[21]	valid_0's multi_logloss: 0.156536
[22]	valid_0's multi_logloss: 0.147281
[23]	valid_0's multi_logloss: 0.138904
[24]	valid_0's multi_logloss: 0.131663
[25]	valid_0's multi_logloss: 0.125355
[26]	valid_0's multi_logloss: 0.119511
[27]	valid_0's multi_logloss: 0.114134
[28]	valid_0's multi_logloss: 0.108976
[29]	valid_0's multi_logloss: 0.104179
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[30]	valid_0's multi_logloss: 0.100181
[31]	valid_0's multi_logloss: 0.0962895
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[32]	valid_0's multi_logloss: 0.0926406
[33]	valid_0's multi_logloss: 0.0894074
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[34]	valid_0's multi_logloss: 0.0861586
[35]	valid_0's multi_logloss: 0.083233
[36]	valid_0's multi_logloss: 0.0801916
[37]	valid_0's multi_logloss: 0.077478
[38]	valid_0's multi_logloss: 0.0751623
[39]	valid_0's multi_logloss: 0.0728545
[40]	valid_0's multi_logloss: 0.070522
[41]	valid_0's multi_logloss: 0.0686305
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[42]	valid_0's multi_logloss: 0.0662697
[43]	valid_0's multi_logloss: 0.064569
[44]	valid_0's multi_logloss: 0.0627992
[45]	valid_0's multi_logloss: 0.0611979
[46]	valid_0's multi_logloss: 0.0596026
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[47]	valid_0's multi_logloss: 0.0580543
[48]	valid_0's multi_logloss: 0.0564195
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[49]	valid_0's multi_logloss: 0.0550462
[50]	valid_0's multi_logloss: 0.053461
[51]	valid_0's multi_logloss: 0.0521098
[52]	valid_0's multi_logloss: 0.0506247
[53]	valid_0's multi_logloss: 0.0493228
[54]	valid_0's multi_logloss: 0.0483646
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[55]	valid_0's multi_logloss: 0.0472652
[56]	valid_0's multi_logloss: 0.0462806
[57]	valid_0's multi_logloss: 0.0451547
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[58]	valid_0's multi_logloss: 0.0443208
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[59]	valid_0's multi_logloss: 0.0433573
[60]	valid_0's multi_logloss: 0.0420598
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[61]	valid_0's multi_logloss: 0.0412767
[62]	valid_0's multi_logloss: 0.0403751
[63]	valid_0's multi_logloss: 0.0393732
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[64]	valid_0's multi_logloss: 0.0386044
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[65]	valid_0's multi_logloss: 0.0377913
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[66]	valid_0's multi_logloss: 0.0370667
[67]	valid_0's multi_logloss: 0.036268
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[68]	valid_0's multi_logloss: 0.0356228
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[69]	valid_0's multi_logloss: 0.0349296
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[70]	valid_0's multi_logloss: 0.034367
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[71]	valid_0's multi_logloss: 0.0337214
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[72]	valid_0's multi_logloss: 0.0330036
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[73]	valid_0's multi_logloss: 0.0324435
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[74]	valid_0's multi_logloss: 0.0318597
[75]	valid_0's multi_logloss: 0.0312042
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[76]	valid_0's multi_logloss: 0.0307819
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[77]	valid_0's multi_logloss: 0.030283
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[78]	valid_0's multi_logloss: 0.0297897
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[79]	valid_0's multi_logloss: 0.0292915
[80]	valid_0's multi_logloss: 0.0286783
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[81]	valid_0's multi_logloss: 0.0280875
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[82]	valid_0's multi_logloss: 0.0275537
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[83]	valid_0's multi_logloss: 0.0269836
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[84]	valid_0's multi_logloss: 0.0265813
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[85]	valid_0's multi_logloss: 0.0260795
[86]	valid_0's multi_logloss: 0.0256867
[87]	valid_0's multi_logloss: 0.0253002
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[88]	valid_0's multi_logloss: 0.0248874
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[89]	valid_0's multi_logloss: 0.0244911
[90]	valid_0's multi_logloss: 0.0241833
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[91]	valid_0's multi_logloss: 0.0238673
[92]	valid_0's multi_logloss: 0.0235462
[93]	valid_0's multi_logloss: 0.023203
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[94]	valid_0's multi_logloss: 0.0228583
[95]	valid_0's multi_logloss: 0.022569
[96]	valid_0's multi_logloss: 0.0222114
[97]	valid_0's multi_logloss: 0.0218169
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[98]	valid_0's multi_logloss: 0.0215193
[99]	valid_0's multi_logloss: 0.0211684
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[100]	valid_0's multi_logloss: 0.0208743
Time elapsed for training LightGBM: 100.53
Training XGBoost...
Time elapsed for training XGBoost: 487.49
begin testing
training set : Hand ; testing set : Torso; test order: 0
X_val  : (143960, 176)
y_val  : 143960
predict rf
Time elapsed for testing rf 0.99
predict lgb
Time elapsed for testing lgb: 1.17
predict xgb
Time elapsed for testing xgb: 2.42
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Hand ; testing set : Torso  testing result
tree_model.pred_mean
[[25942    86     0     0   482   584  2394   352]
 [ 2549 19344     5   156   666  2505   462   456]
 [    0  1899   875     0     0     0     0     0]
 [ 1710   796     0   875  7915   736     0     0]
 [  492    32     0     0 15768  3968   214     0]
 [   53     3     0     0   777  7959   388     0]
 [ 2740    26     0     0  1182  1755 16080    27]
 [    0     0     0     0     0     0 11099 10608]]
              precision    recall  f1-score   support

       Still       0.77      0.87      0.82     29840
     Walking       0.87      0.74      0.80     26143
         Run       0.99      0.32      0.48      2774
        Bike       0.85      0.07      0.13     12032
         Car       0.59      0.77      0.67     20474
         Bus       0.45      0.87      0.60      9180
       Train       0.52      0.74      0.61     21810
      Subway       0.93      0.49      0.64     21707

    accuracy                           0.68    143960
   macro avg       0.75      0.61      0.59    143960
weighted avg       0.74      0.68      0.66    143960

test over
get importance point
single experiment feature importance :{'norm_acc_std_window_20_mean': 0.2887471615673107, 'distance_railways': 0.19458868714474245, 'speed_wd_max_log': 0.1662329061378681, 'code': 0.1626179577715342, 'distance_subway': 0.15517501671815376, 'distance_bus_routes': 0.13256214534440725, 'ACC_y_std_window_20_mean': 0.1274987127280753, 'speed_square': 0.10037960534524887, 'ACC_y_avg_frequency': 0.09736930510846552, 'ACC_x_avg_frequency': 0.06597927974240422, 'norm_mag_peak_frequency_window_20_mean': 0.060749844770352765, 'speed_log': 0.055541621099099575, 'distance_bus_stops': 0.054954114245330934, 'distance_London': 0.04513858019007807, 'gps_snr_mean_window_20_mean': 0.04357285819981254, 'distance_Brighton': 0.042505368446504536, 'ACC_x_energy': 0.039109929891902, 'norm_gyr_median': 0.03739010817491887, 'norm_acc_energy': 0.0329615492012897, 'distance_parks': 0.03210433069273609, 'longitude_window_20_std': 0.0317380470326745, 'number_window_20_mean': 0.03104922412373345, 'norm_gyr_median_window_20_mean': 0.02927893594794316, 'ACC_x_cal_range': 0.028903692994735695, 'MAG_y_energy': 0.027434509719234237, 'ACC_y_cal_range': 0.02710712896139703, 'latitude': 0.0271039440471193, 'ACC_x_entropy': 0.026797474883439164, 'GYR_y_std_window_20_mean': 0.026591101890702525, 'acc_wd_max_log': 0.026439743130735605, 'MAG_y_entropy': 0.026180532942626535, 'norm_gyr_min_window_20_mean': 0.025711836979573754, 'speed': 0.025428363775319422, 'norm_acc_avg_frequency': 0.024967804302940134, 'norm_acc_max': 0.023660908074880183, 'MAG_z_cal_range': 0.02268741943040771, 'speed_dif': 0.02237903761794236, 'north': 0.0213978996754586, 'ACC_z_max': 0.02093805040754797, 'east': 0.019346569651231542, 'number': 0.019100404935650947, 'norm_acc_cal_range': 0.018053141799002356, 'ACC_x_std': 0.017631921669382322, 'norm_acc_entropy': 0.01753842785491703, 'gps_snr_max': 0.01683999996948604, 'accuracy': 0.015943339041965772, 'ACC_z_min': 0.015795019810691015, 'gps_snr_mean': 0.015422911864973793, 'GYR_z_entropy': 0.01439675810941355, 'longitude_window_20_mean': 0.013357367744655227, 'norm_acc_std': 0.013095395468630094, 'longitude': 0.011495364212815301, 'MAG_y_cal_range': 0.01027371045652434, 'GYR_z_peak_frequency': 0.009786769308221336, 'GYR_x_peak_frequency': 0.009660994173525849, 'ACC_y_entropy': 0.009603196263713103, 'distance': 0.009346296160008217, 'speed_wd_std': 0.009045649957251392, 'norm_mag_avg_frequency': 0.008898508295528542, 'ACC_y_std': 0.008855775301614362, 'altitude': 0.008818924368409144, 'ACC_y_peak_frequency': 0.00868969491171898, 'ACC_x_peak_frequency': 0.00847518838897732, 'GYR_y_peak_frequency': 0.008319159732625252, 'norm_gyr_cal_range': 0.008227440241989617, 'ACC_y_mean': 0.008019361777934289, 'ACC_z_mean': 0.008004180628067395, 'ACC_z_energy': 0.007965501127422656, 'norm_mag_std': 0.007916359657356785, 'norm_gyr_mean': 0.007704850119385329, 'GYR_z_energy': 0.007146816998915602, 'ACC_z_median': 0.007023327652894286, 'norm_acc_peak_frequency': 0.006743332676115512, 'norm_mag_min': 0.006559150525989633, 'norm_acc_mean': 0.006431174015559013, 'GYR_z_avg_frequency': 0.005930632966386451, 'ACC_z_peak_frequency': 0.005764809467729583, 'ACC_y_energy': 0.005731532114073591, 'error': 0.005383034392553363, 'GYR_z_std': 0.005381983553189498, 'availability': 0.005366307825331172, 'east_dlt': 0.005184262587991847, 'gps_snr_std': 0.005042186145071594, 'GYR_x_avg_frequency': 0.005040086353076833, 'norm_gyr_avg_frequency': 0.004895464140745089, 'GYR_z_cal_range': 0.00461962758581984, 'east_speed': 0.004598281859904808, 'norm_mag_mean': 0.004361647011925386, 'acc_wd_std': 0.00416345159916905, 'ACC_z_avg_frequency': 0.0036882744153607003, 'ACC_y_median': 0.003454655895749698, 'norm_mag_cal_range': 0.0034456130268862295, 'ACC_y_min': 0.0033388149211560315, 'MAG_x_cal_range': 0.003147088542709789, 'GYR_y_avg_frequency': 0.0030236694906394714, 'norm_mag_max': 0.0029022098930926448, 'norm_mag_median': 0.0026652766594744593, 'MAG_y_max': 0.002398659149828779, 'MAG_z_min': 0.0023699841757851402, 'norm_mag_energy': 0.0023215761557211587, 'ACC_x_mean': 0.0022691892931771137, 'north_speed': 0.002247057175336137, 'ACC_x_max': 0.002213675824777598, 'ACC_z_entropy': 0.002198837514999353, 'ACC_y_max': 0.0021516646798496342, 'MAG_x_energy': 0.002098737909035274, 'GYR_x_std': 0.002005477212103185, 'MAG_y_min': 0.001921074190795549, 'MAG_x_min': 0.0018994036448229125, 'norm_gyr_min': 0.0018589394781140297, 'norm_acc_min': 0.001809786937350155, 'north_dlt': 0.0017630818259608309, 'distance_railways_change': 0.0017266384154499346, 'MAG_z_median': 0.001657516245489828, 'MAG_z_std': 0.0014890103894718456, 'MAG_z_mean': 0.0014302778535556727, 'is_stop': 0.0013832539866654222, 'MAG_x_std': 0.001353554476421352, 'norm_gyr_peak_frequency': 0.0013517045051186752, 'MAG_z_max': 0.0013349699702133058, 'MAG_z_entropy': 0.0013073996130387765, 'distance_parks_change': 0.0012799373864286676, 'distance_Brighton_change': 0.0012180137893890038, 'ACC_x_min': 0.0011507131240589175, 'distance_subway_change': 0.001138423014017549, 'distance_bus_routes_change': 0.001119368545378483, 'MAG_y_std': 0.0010713915508843716, 'MAG_z_energy': 0.0010635507910488368, 'norm_gyr_energy': 0.0010456294076431364, 'MAG_x_avg_frequency': 0.0010350181990195163, 'MAG_z_avg_frequency': 0.0010040563913813825, 'GYR_y_cal_range': 0.000992665347859131, 'acc': 0.0009870824617098806, 'MAG_x_mean': 0.0009656815028712242, 'ACC_z_std': 0.0008634881926882982, 'GYR_x_max': 0.0008338300175263043, 'ACC_x_median': 0.000805431756436001, 'GYR_x_cal_range': 0.0008000041588285124, 'GYR_x_energy': 0.0007941850503862886, 'MAG_y_mean': 0.0007798586557352871, 'norm_mag_entropy': 0.0007547502247142501, 'MAG_x_median': 0.0007130366724948324, 'norm_acc_median': 0.0007073707216662289, 'MAG_y_avg_frequency': 0.000674760385225967, 'speed_dlt': 0.0005106697856768682, 'norm_acc_kurtosis': 0.0005066879683783862, 'norm_gyr_entropy': 0.0004940162750846778, 'MAG_x_max': 0.0004623783942195797, 'valid_dlt': 0.00041912234955397714, 'GYR_x_min': 0.0003125481073493503, 'GYR_x_entropy': 0.00029950648061714363, 'MAG_y_median': 0.0002942690230006693, 'distance_London_change': 0.00028280002937184875, 'time_dlt': 0.0002823349410263897, 'ACC_z_kurtosis': 0.000277078326967263, 'distance_change': 0.00023695295908826325, 'GYR_z_min': 0.0002269892203808149, 'GYR_y_std': 0.0001977675824595518, 'MAG_x_entropy': 0.00018240345709524583, 'ACC_z_cal_range': 0.0001791726538541687, 'gps_snr_min': 0.00017139420056741568, 'ACC_y_kurtosis': 0.0001310280055705939, 'norm_gyr_max': 0.00012259604208562108, 'norm_gyr_std': 0.00011614522339544565, 'norm_acc_skewness': 8.61200817375141e-05, 'GYR_y_max': 5.996906452991923e-05, 'error_change': 4.4315373283626365e-05, 'GYR_y_entropy': 2.430288942363674e-05, 'GYR_y_energy': 1.9237155695631842e-05, 'GYR_z_kurtosis': 1.7689590295991777e-05, 'GYR_z_max': 1.6051276856634677e-05, 'norm_mag_peak_frequency': 1.4429456802470431e-05, 'GYR_x_kurtosis': 8.259484748254439e-06, 'ACC_z_skewness': 3.844563703397217e-06, 'GYR_y_min': 3.6946454402150518e-06, 'GYR_y_median': 9.189248504798875e-07}
importance feature add well
training set : Hand ; testing set : Bag; test order: 1
X_val  : (143960, 176)
y_val  : 143960
predict rf
Time elapsed for testing rf 0.97
predict lgb
Time elapsed for testing lgb: 1.16
predict xgb
Time elapsed for testing xgb: 2.42
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Hand ; testing set : Bag  testing result
tree_model.pred_mean
[[25406    87     0     0  1094   958  1207  1088]
 [ 2173 21522     0   319   943   420   320   446]
 [    0   961   818   995     0     0     0     0]
 [ 1527   322     0     0  8943  1240     0     0]
 [  532     0     0     2 18638  1235    67     0]
 [    0     0     0     0  2415  6480   285     0]
 [  815    40     0     0  3029   842 17063    21]
 [    0     0     0     0     0     0  2298 19409]]
              precision    recall  f1-score   support

       Still       0.83      0.85      0.84     29840
     Walking       0.94      0.82      0.88     26143
         Run       1.00      0.29      0.46      2774
        Bike       0.00      0.00      0.00     12032
         Car       0.53      0.91      0.67     20474
         Bus       0.58      0.71      0.64      9180
       Train       0.80      0.78      0.79     21810
      Subway       0.93      0.89      0.91     21707

    accuracy                           0.76    143960
   macro avg       0.70      0.66      0.65    143960
weighted avg       0.74      0.76      0.74    143960

test over
get importance point
single experiment feature importance :{'norm_acc_std_window_20_mean': 0.2887471615673107, 'distance_railways': 0.19458868714474245, 'speed_wd_max_log': 0.1662329061378681, 'code': 0.1626179577715342, 'distance_subway': 0.15517501671815376, 'distance_bus_routes': 0.13256214534440725, 'ACC_y_std_window_20_mean': 0.1274987127280753, 'speed_square': 0.10037960534524887, 'ACC_y_avg_frequency': 0.09736930510846552, 'ACC_x_avg_frequency': 0.06597927974240422, 'norm_mag_peak_frequency_window_20_mean': 0.060749844770352765, 'speed_log': 0.055541621099099575, 'distance_bus_stops': 0.054954114245330934, 'distance_London': 0.04513858019007807, 'gps_snr_mean_window_20_mean': 0.04357285819981254, 'distance_Brighton': 0.042505368446504536, 'ACC_x_energy': 0.039109929891902, 'norm_gyr_median': 0.03739010817491887, 'norm_acc_energy': 0.0329615492012897, 'distance_parks': 0.03210433069273609, 'longitude_window_20_std': 0.0317380470326745, 'number_window_20_mean': 0.03104922412373345, 'norm_gyr_median_window_20_mean': 0.02927893594794316, 'ACC_x_cal_range': 0.028903692994735695, 'MAG_y_energy': 0.027434509719234237, 'ACC_y_cal_range': 0.02710712896139703, 'latitude': 0.0271039440471193, 'ACC_x_entropy': 0.026797474883439164, 'GYR_y_std_window_20_mean': 0.026591101890702525, 'acc_wd_max_log': 0.026439743130735605, 'MAG_y_entropy': 0.026180532942626535, 'norm_gyr_min_window_20_mean': 0.025711836979573754, 'speed': 0.025428363775319422, 'norm_acc_avg_frequency': 0.024967804302940134, 'norm_acc_max': 0.023660908074880183, 'MAG_z_cal_range': 0.02268741943040771, 'speed_dif': 0.02237903761794236, 'north': 0.0213978996754586, 'ACC_z_max': 0.02093805040754797, 'east': 0.019346569651231542, 'number': 0.019100404935650947, 'norm_acc_cal_range': 0.018053141799002356, 'ACC_x_std': 0.017631921669382322, 'norm_acc_entropy': 0.01753842785491703, 'gps_snr_max': 0.01683999996948604, 'accuracy': 0.015943339041965772, 'ACC_z_min': 0.015795019810691015, 'gps_snr_mean': 0.015422911864973793, 'GYR_z_entropy': 0.01439675810941355, 'longitude_window_20_mean': 0.013357367744655227, 'norm_acc_std': 0.013095395468630094, 'longitude': 0.011495364212815301, 'MAG_y_cal_range': 0.01027371045652434, 'GYR_z_peak_frequency': 0.009786769308221336, 'GYR_x_peak_frequency': 0.009660994173525849, 'ACC_y_entropy': 0.009603196263713103, 'distance': 0.009346296160008217, 'speed_wd_std': 0.009045649957251392, 'norm_mag_avg_frequency': 0.008898508295528542, 'ACC_y_std': 0.008855775301614362, 'altitude': 0.008818924368409144, 'ACC_y_peak_frequency': 0.00868969491171898, 'ACC_x_peak_frequency': 0.00847518838897732, 'GYR_y_peak_frequency': 0.008319159732625252, 'norm_gyr_cal_range': 0.008227440241989617, 'ACC_y_mean': 0.008019361777934289, 'ACC_z_mean': 0.008004180628067395, 'ACC_z_energy': 0.007965501127422656, 'norm_mag_std': 0.007916359657356785, 'norm_gyr_mean': 0.007704850119385329, 'GYR_z_energy': 0.007146816998915602, 'ACC_z_median': 0.007023327652894286, 'norm_acc_peak_frequency': 0.006743332676115512, 'norm_mag_min': 0.006559150525989633, 'norm_acc_mean': 0.006431174015559013, 'GYR_z_avg_frequency': 0.005930632966386451, 'ACC_z_peak_frequency': 0.005764809467729583, 'ACC_y_energy': 0.005731532114073591, 'error': 0.005383034392553363, 'GYR_z_std': 0.005381983553189498, 'availability': 0.005366307825331172, 'east_dlt': 0.005184262587991847, 'gps_snr_std': 0.005042186145071594, 'GYR_x_avg_frequency': 0.005040086353076833, 'norm_gyr_avg_frequency': 0.004895464140745089, 'GYR_z_cal_range': 0.00461962758581984, 'east_speed': 0.004598281859904808, 'norm_mag_mean': 0.004361647011925386, 'acc_wd_std': 0.00416345159916905, 'ACC_z_avg_frequency': 0.0036882744153607003, 'ACC_y_median': 0.003454655895749698, 'norm_mag_cal_range': 0.0034456130268862295, 'ACC_y_min': 0.0033388149211560315, 'MAG_x_cal_range': 0.003147088542709789, 'GYR_y_avg_frequency': 0.0030236694906394714, 'norm_mag_max': 0.0029022098930926448, 'norm_mag_median': 0.0026652766594744593, 'MAG_y_max': 0.002398659149828779, 'MAG_z_min': 0.0023699841757851402, 'norm_mag_energy': 0.0023215761557211587, 'ACC_x_mean': 0.0022691892931771137, 'north_speed': 0.002247057175336137, 'ACC_x_max': 0.002213675824777598, 'ACC_z_entropy': 0.002198837514999353, 'ACC_y_max': 0.0021516646798496342, 'MAG_x_energy': 0.002098737909035274, 'GYR_x_std': 0.002005477212103185, 'MAG_y_min': 0.001921074190795549, 'MAG_x_min': 0.0018994036448229125, 'norm_gyr_min': 0.0018589394781140297, 'norm_acc_min': 0.001809786937350155, 'north_dlt': 0.0017630818259608309, 'distance_railways_change': 0.0017266384154499346, 'MAG_z_median': 0.001657516245489828, 'MAG_z_std': 0.0014890103894718456, 'MAG_z_mean': 0.0014302778535556727, 'is_stop': 0.0013832539866654222, 'MAG_x_std': 0.001353554476421352, 'norm_gyr_peak_frequency': 0.0013517045051186752, 'MAG_z_max': 0.0013349699702133058, 'MAG_z_entropy': 0.0013073996130387765, 'distance_parks_change': 0.0012799373864286676, 'distance_Brighton_change': 0.0012180137893890038, 'ACC_x_min': 0.0011507131240589175, 'distance_subway_change': 0.001138423014017549, 'distance_bus_routes_change': 0.001119368545378483, 'MAG_y_std': 0.0010713915508843716, 'MAG_z_energy': 0.0010635507910488368, 'norm_gyr_energy': 0.0010456294076431364, 'MAG_x_avg_frequency': 0.0010350181990195163, 'MAG_z_avg_frequency': 0.0010040563913813825, 'GYR_y_cal_range': 0.000992665347859131, 'acc': 0.0009870824617098806, 'MAG_x_mean': 0.0009656815028712242, 'ACC_z_std': 0.0008634881926882982, 'GYR_x_max': 0.0008338300175263043, 'ACC_x_median': 0.000805431756436001, 'GYR_x_cal_range': 0.0008000041588285124, 'GYR_x_energy': 0.0007941850503862886, 'MAG_y_mean': 0.0007798586557352871, 'norm_mag_entropy': 0.0007547502247142501, 'MAG_x_median': 0.0007130366724948324, 'norm_acc_median': 0.0007073707216662289, 'MAG_y_avg_frequency': 0.000674760385225967, 'speed_dlt': 0.0005106697856768682, 'norm_acc_kurtosis': 0.0005066879683783862, 'norm_gyr_entropy': 0.0004940162750846778, 'MAG_x_max': 0.0004623783942195797, 'valid_dlt': 0.00041912234955397714, 'GYR_x_min': 0.0003125481073493503, 'GYR_x_entropy': 0.00029950648061714363, 'MAG_y_median': 0.0002942690230006693, 'distance_London_change': 0.00028280002937184875, 'time_dlt': 0.0002823349410263897, 'ACC_z_kurtosis': 0.000277078326967263, 'distance_change': 0.00023695295908826325, 'GYR_z_min': 0.0002269892203808149, 'GYR_y_std': 0.0001977675824595518, 'MAG_x_entropy': 0.00018240345709524583, 'ACC_z_cal_range': 0.0001791726538541687, 'gps_snr_min': 0.00017139420056741568, 'ACC_y_kurtosis': 0.0001310280055705939, 'norm_gyr_max': 0.00012259604208562108, 'norm_gyr_std': 0.00011614522339544565, 'norm_acc_skewness': 8.61200817375141e-05, 'GYR_y_max': 5.996906452991923e-05, 'error_change': 4.4315373283626365e-05, 'GYR_y_entropy': 2.430288942363674e-05, 'GYR_y_energy': 1.9237155695631842e-05, 'GYR_z_kurtosis': 1.7689590295991777e-05, 'GYR_z_max': 1.6051276856634677e-05, 'norm_mag_peak_frequency': 1.4429456802470431e-05, 'GYR_x_kurtosis': 8.259484748254439e-06, 'ACC_z_skewness': 3.844563703397217e-06, 'GYR_y_min': 3.6946454402150518e-06, 'GYR_y_median': 9.189248504798875e-07}
importance feature add well
training set : Hand ; testing set : Hand; test order: 2
X_val  : (143960, 176)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.01
predict lgb
Time elapsed for testing lgb: 1.16
predict xgb
Time elapsed for testing xgb: 2.28
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Hand ; testing set : Hand  testing result
tree_model.pred_mean
[[26905   258     0     0   644   710   238  1085]
 [ 2577 21733     1   326   574   323   184   425]
 [    0   724  2050     0     0     0     0     0]
 [ 2816    59     0  2858  6199   100     0     0]
 [  540   125     0     0 17871  1912    26     0]
 [   11    11     0     0  2555  6393   210     0]
 [  883    81     0     0  3590   229 16979    48]
 [    0     0     0     0     0     0  2274 19433]]
              precision    recall  f1-score   support

       Still       0.80      0.90      0.85     29840
     Walking       0.95      0.83      0.88     26143
         Run       1.00      0.74      0.85      2774
        Bike       0.90      0.24      0.38     12032
         Car       0.57      0.87      0.69     20474
         Bus       0.66      0.70      0.68      9180
       Train       0.85      0.78      0.81     21810
      Subway       0.93      0.90      0.91     21707

    accuracy                           0.79    143960
   macro avg       0.83      0.74      0.76    143960
weighted avg       0.82      0.79      0.79    143960

test over
get importance point
single experiment feature importance :{'norm_acc_std_window_20_mean': 0.2887471615673107, 'distance_railways': 0.19458868714474245, 'speed_wd_max_log': 0.1662329061378681, 'code': 0.1626179577715342, 'distance_subway': 0.15517501671815376, 'distance_bus_routes': 0.13256214534440725, 'ACC_y_std_window_20_mean': 0.1274987127280753, 'speed_square': 0.10037960534524887, 'ACC_y_avg_frequency': 0.09736930510846552, 'ACC_x_avg_frequency': 0.06597927974240422, 'norm_mag_peak_frequency_window_20_mean': 0.060749844770352765, 'speed_log': 0.055541621099099575, 'distance_bus_stops': 0.054954114245330934, 'distance_London': 0.04513858019007807, 'gps_snr_mean_window_20_mean': 0.04357285819981254, 'distance_Brighton': 0.042505368446504536, 'ACC_x_energy': 0.039109929891902, 'norm_gyr_median': 0.03739010817491887, 'norm_acc_energy': 0.0329615492012897, 'distance_parks': 0.03210433069273609, 'longitude_window_20_std': 0.0317380470326745, 'number_window_20_mean': 0.03104922412373345, 'norm_gyr_median_window_20_mean': 0.02927893594794316, 'ACC_x_cal_range': 0.028903692994735695, 'MAG_y_energy': 0.027434509719234237, 'ACC_y_cal_range': 0.02710712896139703, 'latitude': 0.0271039440471193, 'ACC_x_entropy': 0.026797474883439164, 'GYR_y_std_window_20_mean': 0.026591101890702525, 'acc_wd_max_log': 0.026439743130735605, 'MAG_y_entropy': 0.026180532942626535, 'norm_gyr_min_window_20_mean': 0.025711836979573754, 'speed': 0.025428363775319422, 'norm_acc_avg_frequency': 0.024967804302940134, 'norm_acc_max': 0.023660908074880183, 'MAG_z_cal_range': 0.02268741943040771, 'speed_dif': 0.02237903761794236, 'north': 0.0213978996754586, 'ACC_z_max': 0.02093805040754797, 'east': 0.019346569651231542, 'number': 0.019100404935650947, 'norm_acc_cal_range': 0.018053141799002356, 'ACC_x_std': 0.017631921669382322, 'norm_acc_entropy': 0.01753842785491703, 'gps_snr_max': 0.01683999996948604, 'accuracy': 0.015943339041965772, 'ACC_z_min': 0.015795019810691015, 'gps_snr_mean': 0.015422911864973793, 'GYR_z_entropy': 0.01439675810941355, 'longitude_window_20_mean': 0.013357367744655227, 'norm_acc_std': 0.013095395468630094, 'longitude': 0.011495364212815301, 'MAG_y_cal_range': 0.01027371045652434, 'GYR_z_peak_frequency': 0.009786769308221336, 'GYR_x_peak_frequency': 0.009660994173525849, 'ACC_y_entropy': 0.009603196263713103, 'distance': 0.009346296160008217, 'speed_wd_std': 0.009045649957251392, 'norm_mag_avg_frequency': 0.008898508295528542, 'ACC_y_std': 0.008855775301614362, 'altitude': 0.008818924368409144, 'ACC_y_peak_frequency': 0.00868969491171898, 'ACC_x_peak_frequency': 0.00847518838897732, 'GYR_y_peak_frequency': 0.008319159732625252, 'norm_gyr_cal_range': 0.008227440241989617, 'ACC_y_mean': 0.008019361777934289, 'ACC_z_mean': 0.008004180628067395, 'ACC_z_energy': 0.007965501127422656, 'norm_mag_std': 0.007916359657356785, 'norm_gyr_mean': 0.007704850119385329, 'GYR_z_energy': 0.007146816998915602, 'ACC_z_median': 0.007023327652894286, 'norm_acc_peak_frequency': 0.006743332676115512, 'norm_mag_min': 0.006559150525989633, 'norm_acc_mean': 0.006431174015559013, 'GYR_z_avg_frequency': 0.005930632966386451, 'ACC_z_peak_frequency': 0.005764809467729583, 'ACC_y_energy': 0.005731532114073591, 'error': 0.005383034392553363, 'GYR_z_std': 0.005381983553189498, 'availability': 0.005366307825331172, 'east_dlt': 0.005184262587991847, 'gps_snr_std': 0.005042186145071594, 'GYR_x_avg_frequency': 0.005040086353076833, 'norm_gyr_avg_frequency': 0.004895464140745089, 'GYR_z_cal_range': 0.00461962758581984, 'east_speed': 0.004598281859904808, 'norm_mag_mean': 0.004361647011925386, 'acc_wd_std': 0.00416345159916905, 'ACC_z_avg_frequency': 0.0036882744153607003, 'ACC_y_median': 0.003454655895749698, 'norm_mag_cal_range': 0.0034456130268862295, 'ACC_y_min': 0.0033388149211560315, 'MAG_x_cal_range': 0.003147088542709789, 'GYR_y_avg_frequency': 0.0030236694906394714, 'norm_mag_max': 0.0029022098930926448, 'norm_mag_median': 0.0026652766594744593, 'MAG_y_max': 0.002398659149828779, 'MAG_z_min': 0.0023699841757851402, 'norm_mag_energy': 0.0023215761557211587, 'ACC_x_mean': 0.0022691892931771137, 'north_speed': 0.002247057175336137, 'ACC_x_max': 0.002213675824777598, 'ACC_z_entropy': 0.002198837514999353, 'ACC_y_max': 0.0021516646798496342, 'MAG_x_energy': 0.002098737909035274, 'GYR_x_std': 0.002005477212103185, 'MAG_y_min': 0.001921074190795549, 'MAG_x_min': 0.0018994036448229125, 'norm_gyr_min': 0.0018589394781140297, 'norm_acc_min': 0.001809786937350155, 'north_dlt': 0.0017630818259608309, 'distance_railways_change': 0.0017266384154499346, 'MAG_z_median': 0.001657516245489828, 'MAG_z_std': 0.0014890103894718456, 'MAG_z_mean': 0.0014302778535556727, 'is_stop': 0.0013832539866654222, 'MAG_x_std': 0.001353554476421352, 'norm_gyr_peak_frequency': 0.0013517045051186752, 'MAG_z_max': 0.0013349699702133058, 'MAG_z_entropy': 0.0013073996130387765, 'distance_parks_change': 0.0012799373864286676, 'distance_Brighton_change': 0.0012180137893890038, 'ACC_x_min': 0.0011507131240589175, 'distance_subway_change': 0.001138423014017549, 'distance_bus_routes_change': 0.001119368545378483, 'MAG_y_std': 0.0010713915508843716, 'MAG_z_energy': 0.0010635507910488368, 'norm_gyr_energy': 0.0010456294076431364, 'MAG_x_avg_frequency': 0.0010350181990195163, 'MAG_z_avg_frequency': 0.0010040563913813825, 'GYR_y_cal_range': 0.000992665347859131, 'acc': 0.0009870824617098806, 'MAG_x_mean': 0.0009656815028712242, 'ACC_z_std': 0.0008634881926882982, 'GYR_x_max': 0.0008338300175263043, 'ACC_x_median': 0.000805431756436001, 'GYR_x_cal_range': 0.0008000041588285124, 'GYR_x_energy': 0.0007941850503862886, 'MAG_y_mean': 0.0007798586557352871, 'norm_mag_entropy': 0.0007547502247142501, 'MAG_x_median': 0.0007130366724948324, 'norm_acc_median': 0.0007073707216662289, 'MAG_y_avg_frequency': 0.000674760385225967, 'speed_dlt': 0.0005106697856768682, 'norm_acc_kurtosis': 0.0005066879683783862, 'norm_gyr_entropy': 0.0004940162750846778, 'MAG_x_max': 0.0004623783942195797, 'valid_dlt': 0.00041912234955397714, 'GYR_x_min': 0.0003125481073493503, 'GYR_x_entropy': 0.00029950648061714363, 'MAG_y_median': 0.0002942690230006693, 'distance_London_change': 0.00028280002937184875, 'time_dlt': 0.0002823349410263897, 'ACC_z_kurtosis': 0.000277078326967263, 'distance_change': 0.00023695295908826325, 'GYR_z_min': 0.0002269892203808149, 'GYR_y_std': 0.0001977675824595518, 'MAG_x_entropy': 0.00018240345709524583, 'ACC_z_cal_range': 0.0001791726538541687, 'gps_snr_min': 0.00017139420056741568, 'ACC_y_kurtosis': 0.0001310280055705939, 'norm_gyr_max': 0.00012259604208562108, 'norm_gyr_std': 0.00011614522339544565, 'norm_acc_skewness': 8.61200817375141e-05, 'GYR_y_max': 5.996906452991923e-05, 'error_change': 4.4315373283626365e-05, 'GYR_y_entropy': 2.430288942363674e-05, 'GYR_y_energy': 1.9237155695631842e-05, 'GYR_z_kurtosis': 1.7689590295991777e-05, 'GYR_z_max': 1.6051276856634677e-05, 'norm_mag_peak_frequency': 1.4429456802470431e-05, 'GYR_x_kurtosis': 8.259484748254439e-06, 'ACC_z_skewness': 3.844563703397217e-06, 'GYR_y_min': 3.6946454402150518e-06, 'GYR_y_median': 9.189248504798875e-07}
importance feature add well
training set : Hand ; testing set : Hips; test order: 3
X_val  : (143960, 176)
y_val  : 143960
predict rf
Time elapsed for testing rf 0.96
predict lgb
Time elapsed for testing lgb: 1.13
predict xgb
Time elapsed for testing xgb: 2.23
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Hand ; testing set : Hips  testing result
tree_model.pred_mean
[[22857   127     0    49  1322  1537  3609   339]
 [ 1341 21959     0   964   303   400   810   366]
 [    0   432   684  1658     0     0     0     0]
 [  997  5273     0  2776  2668   318     0     0]
 [  414    32     0     0 17083  2886    59     0]
 [  276    16     0     0   720  7467   701     0]
 [ 1291    51     0    35  2002   944 17444    43]
 [    0     0     0     0     0     0 11099 10608]]
              precision    recall  f1-score   support

       Still       0.84      0.77      0.80     29840
     Walking       0.79      0.84      0.81     26143
         Run       1.00      0.25      0.40      2774
        Bike       0.51      0.23      0.32     12032
         Car       0.71      0.83      0.77     20474
         Bus       0.55      0.81      0.66      9180
       Train       0.52      0.80      0.63     21810
      Subway       0.93      0.49      0.64     21707

    accuracy                           0.70    143960
   macro avg       0.73      0.63      0.63    143960
weighted avg       0.73      0.70      0.69    143960

test over
get importance point
single experiment feature importance :{'norm_acc_std_window_20_mean': 0.2887471615673107, 'distance_railways': 0.19458868714474245, 'speed_wd_max_log': 0.1662329061378681, 'code': 0.1626179577715342, 'distance_subway': 0.15517501671815376, 'distance_bus_routes': 0.13256214534440725, 'ACC_y_std_window_20_mean': 0.1274987127280753, 'speed_square': 0.10037960534524887, 'ACC_y_avg_frequency': 0.09736930510846552, 'ACC_x_avg_frequency': 0.06597927974240422, 'norm_mag_peak_frequency_window_20_mean': 0.060749844770352765, 'speed_log': 0.055541621099099575, 'distance_bus_stops': 0.054954114245330934, 'distance_London': 0.04513858019007807, 'gps_snr_mean_window_20_mean': 0.04357285819981254, 'distance_Brighton': 0.042505368446504536, 'ACC_x_energy': 0.039109929891902, 'norm_gyr_median': 0.03739010817491887, 'norm_acc_energy': 0.0329615492012897, 'distance_parks': 0.03210433069273609, 'longitude_window_20_std': 0.0317380470326745, 'number_window_20_mean': 0.03104922412373345, 'norm_gyr_median_window_20_mean': 0.02927893594794316, 'ACC_x_cal_range': 0.028903692994735695, 'MAG_y_energy': 0.027434509719234237, 'ACC_y_cal_range': 0.02710712896139703, 'latitude': 0.0271039440471193, 'ACC_x_entropy': 0.026797474883439164, 'GYR_y_std_window_20_mean': 0.026591101890702525, 'acc_wd_max_log': 0.026439743130735605, 'MAG_y_entropy': 0.026180532942626535, 'norm_gyr_min_window_20_mean': 0.025711836979573754, 'speed': 0.025428363775319422, 'norm_acc_avg_frequency': 0.024967804302940134, 'norm_acc_max': 0.023660908074880183, 'MAG_z_cal_range': 0.02268741943040771, 'speed_dif': 0.02237903761794236, 'north': 0.0213978996754586, 'ACC_z_max': 0.02093805040754797, 'east': 0.019346569651231542, 'number': 0.019100404935650947, 'norm_acc_cal_range': 0.018053141799002356, 'ACC_x_std': 0.017631921669382322, 'norm_acc_entropy': 0.01753842785491703, 'gps_snr_max': 0.01683999996948604, 'accuracy': 0.015943339041965772, 'ACC_z_min': 0.015795019810691015, 'gps_snr_mean': 0.015422911864973793, 'GYR_z_entropy': 0.01439675810941355, 'longitude_window_20_mean': 0.013357367744655227, 'norm_acc_std': 0.013095395468630094, 'longitude': 0.011495364212815301, 'MAG_y_cal_range': 0.01027371045652434, 'GYR_z_peak_frequency': 0.009786769308221336, 'GYR_x_peak_frequency': 0.009660994173525849, 'ACC_y_entropy': 0.009603196263713103, 'distance': 0.009346296160008217, 'speed_wd_std': 0.009045649957251392, 'norm_mag_avg_frequency': 0.008898508295528542, 'ACC_y_std': 0.008855775301614362, 'altitude': 0.008818924368409144, 'ACC_y_peak_frequency': 0.00868969491171898, 'ACC_x_peak_frequency': 0.00847518838897732, 'GYR_y_peak_frequency': 0.008319159732625252, 'norm_gyr_cal_range': 0.008227440241989617, 'ACC_y_mean': 0.008019361777934289, 'ACC_z_mean': 0.008004180628067395, 'ACC_z_energy': 0.007965501127422656, 'norm_mag_std': 0.007916359657356785, 'norm_gyr_mean': 0.007704850119385329, 'GYR_z_energy': 0.007146816998915602, 'ACC_z_median': 0.007023327652894286, 'norm_acc_peak_frequency': 0.006743332676115512, 'norm_mag_min': 0.006559150525989633, 'norm_acc_mean': 0.006431174015559013, 'GYR_z_avg_frequency': 0.005930632966386451, 'ACC_z_peak_frequency': 0.005764809467729583, 'ACC_y_energy': 0.005731532114073591, 'error': 0.005383034392553363, 'GYR_z_std': 0.005381983553189498, 'availability': 0.005366307825331172, 'east_dlt': 0.005184262587991847, 'gps_snr_std': 0.005042186145071594, 'GYR_x_avg_frequency': 0.005040086353076833, 'norm_gyr_avg_frequency': 0.004895464140745089, 'GYR_z_cal_range': 0.00461962758581984, 'east_speed': 0.004598281859904808, 'norm_mag_mean': 0.004361647011925386, 'acc_wd_std': 0.00416345159916905, 'ACC_z_avg_frequency': 0.0036882744153607003, 'ACC_y_median': 0.003454655895749698, 'norm_mag_cal_range': 0.0034456130268862295, 'ACC_y_min': 0.0033388149211560315, 'MAG_x_cal_range': 0.003147088542709789, 'GYR_y_avg_frequency': 0.0030236694906394714, 'norm_mag_max': 0.0029022098930926448, 'norm_mag_median': 0.0026652766594744593, 'MAG_y_max': 0.002398659149828779, 'MAG_z_min': 0.0023699841757851402, 'norm_mag_energy': 0.0023215761557211587, 'ACC_x_mean': 0.0022691892931771137, 'north_speed': 0.002247057175336137, 'ACC_x_max': 0.002213675824777598, 'ACC_z_entropy': 0.002198837514999353, 'ACC_y_max': 0.0021516646798496342, 'MAG_x_energy': 0.002098737909035274, 'GYR_x_std': 0.002005477212103185, 'MAG_y_min': 0.001921074190795549, 'MAG_x_min': 0.0018994036448229125, 'norm_gyr_min': 0.0018589394781140297, 'norm_acc_min': 0.001809786937350155, 'north_dlt': 0.0017630818259608309, 'distance_railways_change': 0.0017266384154499346, 'MAG_z_median': 0.001657516245489828, 'MAG_z_std': 0.0014890103894718456, 'MAG_z_mean': 0.0014302778535556727, 'is_stop': 0.0013832539866654222, 'MAG_x_std': 0.001353554476421352, 'norm_gyr_peak_frequency': 0.0013517045051186752, 'MAG_z_max': 0.0013349699702133058, 'MAG_z_entropy': 0.0013073996130387765, 'distance_parks_change': 0.0012799373864286676, 'distance_Brighton_change': 0.0012180137893890038, 'ACC_x_min': 0.0011507131240589175, 'distance_subway_change': 0.001138423014017549, 'distance_bus_routes_change': 0.001119368545378483, 'MAG_y_std': 0.0010713915508843716, 'MAG_z_energy': 0.0010635507910488368, 'norm_gyr_energy': 0.0010456294076431364, 'MAG_x_avg_frequency': 0.0010350181990195163, 'MAG_z_avg_frequency': 0.0010040563913813825, 'GYR_y_cal_range': 0.000992665347859131, 'acc': 0.0009870824617098806, 'MAG_x_mean': 0.0009656815028712242, 'ACC_z_std': 0.0008634881926882982, 'GYR_x_max': 0.0008338300175263043, 'ACC_x_median': 0.000805431756436001, 'GYR_x_cal_range': 0.0008000041588285124, 'GYR_x_energy': 0.0007941850503862886, 'MAG_y_mean': 0.0007798586557352871, 'norm_mag_entropy': 0.0007547502247142501, 'MAG_x_median': 0.0007130366724948324, 'norm_acc_median': 0.0007073707216662289, 'MAG_y_avg_frequency': 0.000674760385225967, 'speed_dlt': 0.0005106697856768682, 'norm_acc_kurtosis': 0.0005066879683783862, 'norm_gyr_entropy': 0.0004940162750846778, 'MAG_x_max': 0.0004623783942195797, 'valid_dlt': 0.00041912234955397714, 'GYR_x_min': 0.0003125481073493503, 'GYR_x_entropy': 0.00029950648061714363, 'MAG_y_median': 0.0002942690230006693, 'distance_London_change': 0.00028280002937184875, 'time_dlt': 0.0002823349410263897, 'ACC_z_kurtosis': 0.000277078326967263, 'distance_change': 0.00023695295908826325, 'GYR_z_min': 0.0002269892203808149, 'GYR_y_std': 0.0001977675824595518, 'MAG_x_entropy': 0.00018240345709524583, 'ACC_z_cal_range': 0.0001791726538541687, 'gps_snr_min': 0.00017139420056741568, 'ACC_y_kurtosis': 0.0001310280055705939, 'norm_gyr_max': 0.00012259604208562108, 'norm_gyr_std': 0.00011614522339544565, 'norm_acc_skewness': 8.61200817375141e-05, 'GYR_y_max': 5.996906452991923e-05, 'error_change': 4.4315373283626365e-05, 'GYR_y_entropy': 2.430288942363674e-05, 'GYR_y_energy': 1.9237155695631842e-05, 'GYR_z_kurtosis': 1.7689590295991777e-05, 'GYR_z_max': 1.6051276856634677e-05, 'norm_mag_peak_frequency': 1.4429456802470431e-05, 'GYR_x_kurtosis': 8.259484748254439e-06, 'ACC_z_skewness': 3.844563703397217e-06, 'GYR_y_min': 3.6946454402150518e-06, 'GYR_y_median': 9.189248504798875e-07}
importance feature add well
training set:Torso,the 3th training set
begin training
X_train: (1050526, 176)
y_train: 1050526
Training rf...
Time elapsed for training rf: 215.61
Training LightGBM...
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Warning] Auto-choosing col-wise multi-threading, the overhead of testing was 0.456160 seconds.
You can set `force_col_wise=true` to remove the overhead.
[LightGBM] [Info] Total Bins 41347
[LightGBM] [Info] Number of data points in the train set: 840420, number of used features: 176
[LightGBM] [Warning] Accuracy may be bad since you didn't explicitly set num_leaves OR 2^max_depth > num_leaves. (num_leaves=31).
[LightGBM] [Info] Start training from score -2.151836
[LightGBM] [Info] Start training from score -2.146458
[LightGBM] [Info] Start training from score -2.238245
[LightGBM] [Info] Start training from score -2.190394
[LightGBM] [Info] Start training from score -1.890227
[LightGBM] [Info] Start training from score -2.002513
[LightGBM] [Info] Start training from score -1.905708
[LightGBM] [Info] Start training from score -2.175394
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[1]	valid_0's multi_logloss: 1.50788
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[2]	valid_0's multi_logloss: 1.21023
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[3]	valid_0's multi_logloss: 1.00187
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[4]	valid_0's multi_logloss: 0.845354
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[5]	valid_0's multi_logloss: 0.720278
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[6]	valid_0's multi_logloss: 0.619811
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[7]	valid_0's multi_logloss: 0.537691
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[8]	valid_0's multi_logloss: 0.469122
[9]	valid_0's multi_logloss: 0.411266
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[10]	valid_0's multi_logloss: 0.362518
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[11]	valid_0's multi_logloss: 0.320959
[12]	valid_0's multi_logloss: 0.285789
[13]	valid_0's multi_logloss: 0.255989
[14]	valid_0's multi_logloss: 0.2304
[15]	valid_0's multi_logloss: 0.208328
[16]	valid_0's multi_logloss: 0.189305
[17]	valid_0's multi_logloss: 0.172775
[18]	valid_0's multi_logloss: 0.157602
[19]	valid_0's multi_logloss: 0.144903
[20]	valid_0's multi_logloss: 0.133494
[21]	valid_0's multi_logloss: 0.123075
[22]	valid_0's multi_logloss: 0.114151
[23]	valid_0's multi_logloss: 0.106174
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[24]	valid_0's multi_logloss: 0.0994084
[25]	valid_0's multi_logloss: 0.0928021
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[26]	valid_0's multi_logloss: 0.0873925
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[27]	valid_0's multi_logloss: 0.082289
[28]	valid_0's multi_logloss: 0.0777519
[29]	valid_0's multi_logloss: 0.0733482
[30]	valid_0's multi_logloss: 0.0693747
[31]	valid_0's multi_logloss: 0.0659676
[32]	valid_0's multi_logloss: 0.0629262
[33]	valid_0's multi_logloss: 0.0601611
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[34]	valid_0's multi_logloss: 0.0573539
[35]	valid_0's multi_logloss: 0.0545452
[36]	valid_0's multi_logloss: 0.0521802
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[37]	valid_0's multi_logloss: 0.050216
[38]	valid_0's multi_logloss: 0.0482465
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[39]	valid_0's multi_logloss: 0.0459827
[40]	valid_0's multi_logloss: 0.0440533
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[41]	valid_0's multi_logloss: 0.0424442
[42]	valid_0's multi_logloss: 0.0409653
[43]	valid_0's multi_logloss: 0.0394792
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[44]	valid_0's multi_logloss: 0.0380883
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[45]	valid_0's multi_logloss: 0.0367265
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[46]	valid_0's multi_logloss: 0.0354447
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[47]	valid_0's multi_logloss: 0.0340313
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[48]	valid_0's multi_logloss: 0.0328388
[49]	valid_0's multi_logloss: 0.0318552
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[50]	valid_0's multi_logloss: 0.0307695
[51]	valid_0's multi_logloss: 0.0296513
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[52]	valid_0's multi_logloss: 0.0287437
[53]	valid_0's multi_logloss: 0.0277883
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[54]	valid_0's multi_logloss: 0.0269022
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[55]	valid_0's multi_logloss: 0.0260319
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[56]	valid_0's multi_logloss: 0.0252776
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[57]	valid_0's multi_logloss: 0.0244769
[58]	valid_0's multi_logloss: 0.0237864
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[59]	valid_0's multi_logloss: 0.0231406
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[60]	valid_0's multi_logloss: 0.0224159
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[61]	valid_0's multi_logloss: 0.0218321
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[62]	valid_0's multi_logloss: 0.0212519
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[63]	valid_0's multi_logloss: 0.0207188
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[64]	valid_0's multi_logloss: 0.0202538
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[65]	valid_0's multi_logloss: 0.0196935
[66]	valid_0's multi_logloss: 0.0191937
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[67]	valid_0's multi_logloss: 0.0186741
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[68]	valid_0's multi_logloss: 0.0181264
[69]	valid_0's multi_logloss: 0.017707
[70]	valid_0's multi_logloss: 0.0172911
[71]	valid_0's multi_logloss: 0.0168907
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[72]	valid_0's multi_logloss: 0.0164654
[73]	valid_0's multi_logloss: 0.0160758
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[74]	valid_0's multi_logloss: 0.0157279
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[75]	valid_0's multi_logloss: 0.0153606
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[76]	valid_0's multi_logloss: 0.0149955
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[77]	valid_0's multi_logloss: 0.0147186
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[78]	valid_0's multi_logloss: 0.0142994
[79]	valid_0's multi_logloss: 0.013998
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[80]	valid_0's multi_logloss: 0.013684
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[81]	valid_0's multi_logloss: 0.0134123
[82]	valid_0's multi_logloss: 0.0130316
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[83]	valid_0's multi_logloss: 0.0127449
[84]	valid_0's multi_logloss: 0.0125234
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[85]	valid_0's multi_logloss: 0.0122857
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[86]	valid_0's multi_logloss: 0.0119934
[87]	valid_0's multi_logloss: 0.0116953
[88]	valid_0's multi_logloss: 0.0114522
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[89]	valid_0's multi_logloss: 0.0112201
[90]	valid_0's multi_logloss: 0.01095
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[91]	valid_0's multi_logloss: 0.0107426
[92]	valid_0's multi_logloss: 0.0105408
[93]	valid_0's multi_logloss: 0.0103545
[94]	valid_0's multi_logloss: 0.0101387
[95]	valid_0's multi_logloss: 0.00995481
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[96]	valid_0's multi_logloss: 0.00978653
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[97]	valid_0's multi_logloss: 0.00960009
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[98]	valid_0's multi_logloss: 0.00947293
[99]	valid_0's multi_logloss: 0.0093156
[LightGBM] [Warning] No further splits with positive gain, best gain: -inf
[100]	valid_0's multi_logloss: 0.00911369
Time elapsed for training LightGBM: 100.7
Training XGBoost...
Time elapsed for training XGBoost: 470.28
begin testing
training set : Torso ; testing set : Torso; test order: 0
X_val  : (143960, 176)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.04
predict lgb
Time elapsed for testing lgb: 1.14
predict xgb
Time elapsed for testing xgb: 2.18
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Torso ; testing set : Torso  testing result
tree_model.pred_mean
[[25767   201     0   132   691    42  2415   592]
 [ 1514 22558    19   578   284   234   587   369]
 [    0   893   895   986     0     0     0     0]
 [  315   188     0  7943  3586     0     0     0]
 [  303    34     0     0 18682  1243   212     0]
 [    5    46     0     0  2163  6548   418     0]
 [ 2291    17     0    83  1238  1924 15185  1072]
 [    0     0     0     0     0     0 11099 10608]]
              precision    recall  f1-score   support

       Still       0.85      0.86      0.86     29840
     Walking       0.94      0.86      0.90     26143
         Run       0.98      0.32      0.49      2774
        Bike       0.82      0.66      0.73     12032
         Car       0.70      0.91      0.79     20474
         Bus       0.66      0.71      0.68      9180
       Train       0.51      0.70      0.59     21810
      Subway       0.84      0.49      0.62     21707

    accuracy                           0.75    143960
   macro avg       0.79      0.69      0.71    143960
weighted avg       0.78      0.75      0.75    143960

test over
get importance point
single experiment feature importance :{'ACC_y_std': 0.21099224585902043, 'ACC_y_std_window_20_mean': 0.1860327445091421, 'distance_railways': 0.1680490469696562, 'distance_subway': 0.13991505322615042, 'code': 0.1350840063499034, 'ACC_y_max': 0.1277281028507017, 'GYR_y_std_window_20_mean': 0.12449656847564783, 'distance_bus_routes': 0.10155556078177909, 'speed_wd_max_log': 0.09966819095233895, 'norm_acc_std_window_20_mean': 0.09702281659913364, 'norm_acc_peak_frequency': 0.08635055126640409, 'norm_mag_avg_frequency': 0.08621474940757523, 'norm_gyr_median_window_20_mean': 0.06625351759879461, 'norm_mag_peak_frequency_window_20_mean': 0.059382604117214396, 'distance_bus_stops': 0.05290247997775258, 'distance_London': 0.052735198712446946, 'GYR_x_entropy': 0.0471171376293665, 'ACC_z_mean': 0.04636341381083853, 'distance_Brighton': 0.04472493761234033, 'speed_square': 0.04159203191569734, 'speed_log': 0.03655894958964602, 'latitude': 0.03379163953065982, 'ACC_y_entropy': 0.03242167840209988, 'gps_snr_mean_window_20_mean': 0.029243715065408148, 'number_window_20_mean': 0.02569995532247027, 'north': 0.0253922752841915, 'ACC_y_mean': 0.02533359722323826, 'GYR_y_entropy': 0.025074864013434534, 'norm_acc_std': 0.023627325448497032, 'number': 0.02304690607326762, 'speed': 0.021907962915640393, 'norm_acc_entropy': 0.0218515449835621, 'gps_snr_max': 0.020453703362482503, 'ACC_y_energy': 0.020402686403052546, 'ACC_z_median': 0.019350646109804803, 'distance': 0.019148443960536693, 'accuracy': 0.018496677743936468, 'acc_wd_std': 0.018404809685083474, 'distance_parks': 0.018321240917245053, 'GYR_z_avg_frequency': 0.01827676700269848, 'longitude_window_20_std': 0.017898457198214878, 'norm_gyr_mean': 0.017304673021080446, 'norm_gyr_median': 0.01702122095301519, 'norm_gyr_min_window_20_mean': 0.016899926627638496, 'gps_snr_mean': 0.015380820000655777, 'is_stop': 0.014747340100137096, 'norm_gyr_max': 0.014644333603974703, 'speed_dif': 0.014360523714706534, 'norm_acc_cal_range': 0.013286452753795776, 'GYR_z_entropy': 0.013167156165009393, 'norm_acc_energy': 0.011377976173558657, 'norm_mag_min': 0.01115202134062749, 'ACC_x_min': 0.010710135211268436, 'ACC_x_cal_range': 0.010232378613827775, 'speed_wd_std': 0.010161461232102209, 'ACC_y_cal_range': 0.010063645172684436, 'norm_mag_max': 0.009769737446797492, 'ACC_z_std': 0.00915198099185265, 'MAG_y_entropy': 0.009122271382205949, 'GYR_z_energy': 0.008860907932553657, 'GYR_y_std': 0.008544194397095953, 'GYR_y_avg_frequency': 0.008187998394942152, 'longitude': 0.007912260251425881, 'norm_gyr_std': 0.007805496274461269, 'longitude_window_20_mean': 0.0077644468422778355, 'ACC_y_median': 0.007549755767214759, 'east': 0.007492674947614726, 'ACC_z_min': 0.007392160790550807, 'acc_wd_max_log': 0.007338098107253102, 'GYR_z_cal_range': 0.007303108369184903, 'ACC_x_max': 0.007247808789937876, 'norm_mag_mean': 0.006771474792977509, 'altitude': 0.006656202002013973, 'MAG_y_std': 0.006435403510093387, 'ACC_y_peak_frequency': 0.006329884239244103, 'norm_mag_median': 0.005615041177454795, 'error': 0.005483915873209353, 'norm_acc_max': 0.005431693914364207, 'MAG_z_max': 0.005363726180697727, 'GYR_z_min': 0.005282717026814392, 'GYR_y_min': 0.0049709494570396445, 'MAG_y_min': 0.004807397894417623, 'GYR_z_std': 0.0047965840717562516, 'ACC_x_median': 0.004624093846942806, 'gps_snr_std': 0.004606062444818449, 'norm_mag_std': 0.004571699299843461, 'ACC_x_peak_frequency': 0.004499613335900471, 'ACC_x_mean': 0.004457825987508865, 'MAG_z_median': 0.00432980285614841, 'norm_mag_cal_range': 0.004177098005374727, 'north_speed': 0.0038804955316917487, 'ACC_z_energy': 0.0037415672093166607, 'MAG_y_cal_range': 0.003726553555838901, 'norm_acc_min': 0.0037165718505203517, 'GYR_y_peak_frequency': 0.003638424473339166, 'MAG_y_max': 0.003594664678888387, 'norm_gyr_avg_frequency': 0.0035530952850569807, 'MAG_x_energy': 0.003151096439512429, 'MAG_y_median': 0.003145595378108468, 'speed_dlt': 0.0031118029008548476, 'MAG_z_cal_range': 0.0030591900181270834, 'MAG_x_std': 0.0029542350476591344, 'north_dlt': 0.002933222108734038, 'availability': 0.002926718669325925, 'ACC_z_max': 0.0027614600769415368, 'ACC_z_cal_range': 0.002734754100368072, 'ACC_y_min': 0.0027311997477371397, 'GYR_z_peak_frequency': 0.002705804828886337, 'norm_mag_energy': 0.002624894344914368, 'MAG_x_min': 0.002621109636570625, 'MAG_y_energy': 0.0025115187974658728, 'ACC_z_peak_frequency': 0.002494599966908105, 'ACC_y_avg_frequency': 0.0024107892461364315, 'MAG_z_min': 0.0021949793250314793, 'MAG_y_mean': 0.0021760184695961567, 'MAG_x_max': 0.0021520070852730916, 'GYR_x_peak_frequency': 0.0020093094924430325, 'norm_acc_avg_frequency': 0.0019201739671850246, 'ACC_z_avg_frequency': 0.0016858763989489097, 'east_speed': 0.00156745658847042, 'MAG_x_entropy': 0.0015585084246070697, 'east_dlt': 0.001397748316537861, 'GYR_x_cal_range': 0.0013490473144166367, 'MAG_x_mean': 0.0013346163716551247, 'MAG_x_cal_range': 0.0013156088499939366, 'MAG_z_avg_frequency': 0.0011376289971409992, 'ACC_x_energy': 0.0010185006282664255, 'MAG_z_mean': 0.0010166364613288913, 'MAG_x_avg_frequency': 0.0009818347204509747, 'norm_acc_mean': 0.0009662514604642111, 'MAG_x_median': 0.000882741934396094, 'ACC_x_std': 0.0008354271640674158, 'distance_subway_change': 0.0007964579518561265, 'GYR_x_std': 0.0007601045605477498, 'ACC_y_kurtosis': 0.0007484711109614657, 'ACC_x_avg_frequency': 0.0007430270873855514, 'norm_acc_kurtosis': 0.0007395796873151962, 'acc': 0.0006767610100499649, 'norm_mag_entropy': 0.0006181540094711847, 'GYR_x_avg_frequency': 0.0005924136007973498, 'distance_bus_routes_change': 0.0005548484456956675, 'GYR_z_max': 0.000526212403246537, 'MAG_z_std': 0.0005136485254296861, 'norm_gyr_cal_range': 0.0004858899442104096, 'distance_railways_change': 0.0004667007859284529, 'distance_Brighton_change': 0.00044289426274596354, 'gps_snr_min': 0.0003678617444099651, 'distance_parks_change': 0.00035704530677554855, 'time_dlt': 0.00028666324225907634, 'norm_acc_median': 0.0002796468476936138, 'ACC_x_entropy': 0.00025633155855738686, 'error_change': 0.0002176522392137594, 'ACC_z_skewness': 0.00020481911595244295, 'MAG_y_avg_frequency': 0.00019161652880577868, 'GYR_x_energy': 0.00011919582534363236, 'GYR_x_min': 0.00011460320018213721, 'ACC_z_kurtosis': 8.766889717232057e-05, 'norm_mag_peak_frequency': 7.806177660826852e-05, 'norm_gyr_entropy': 6.030318877413052e-05, 'MAG_z_entropy': 5.017025291344557e-05, 'distance_London_change': 4.92980908348789e-05, 'distance_change': 4.4984839044930466e-05, 'MAG_z_energy': 4.3562120655474057e-05, 'ACC_z_entropy': 4.334674211807617e-05, 'GYR_y_cal_range': 3.7202195622679345e-05, 'norm_gyr_min': 3.513940101645414e-05, 'GYR_y_energy': 3.3779023100060753e-05, 'GYR_y_max': 2.1104672588404452e-05, 'valid_dlt': 1.7865224509207977e-05, 'GYR_y_median': 1.7370447966815133e-05, 'norm_gyr_energy': 1.4476736223631425e-05, 'norm_acc_skewness': 8.576946577409343e-06, 'GYR_x_kurtosis': 7.808770887246023e-06, 'GYR_x_max': 5.133735766614309e-06, 'GYR_z_kurtosis': 3.7598328989870552e-06, 'norm_gyr_peak_frequency': 1.163592617983854e-06}
importance feature add well
training set : Torso ; testing set : Bag; test order: 1
X_val  : (143960, 176)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.1
predict lgb
Time elapsed for testing lgb: 1.16
predict xgb
Time elapsed for testing xgb: 2.39
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Torso ; testing set : Bag  testing result
tree_model.pred_mean
[[23174   152  3494   238   399   286   833  1264]
 [ 1281 16752     5  6058   645   162   740   500]
 [    0  1292  1482     0     0     0     0     0]
 [  275    91     0  6530  5072    64     0     0]
 [  197    32     0     0 17794  2234   217     0]
 [   22    37     0  1458   628  6552   483     0]
 [  112     0     0   101  4175   661 15681  1080]
 [    0     0     0     0     0     0  2318 19389]]
              precision    recall  f1-score   support

       Still       0.92      0.78      0.84     29840
     Walking       0.91      0.64      0.75     26143
         Run       0.30      0.53      0.38      2774
        Bike       0.45      0.54      0.49     12032
         Car       0.62      0.87      0.72     20474
         Bus       0.66      0.71      0.68      9180
       Train       0.77      0.72      0.75     21810
      Subway       0.87      0.89      0.88     21707

    accuracy                           0.75    143960
   macro avg       0.69      0.71      0.69    143960
weighted avg       0.78      0.75      0.75    143960

test over
get importance point
single experiment feature importance :{'ACC_y_std': 0.21099224585902043, 'ACC_y_std_window_20_mean': 0.1860327445091421, 'distance_railways': 0.1680490469696562, 'distance_subway': 0.13991505322615042, 'code': 0.1350840063499034, 'ACC_y_max': 0.1277281028507017, 'GYR_y_std_window_20_mean': 0.12449656847564783, 'distance_bus_routes': 0.10155556078177909, 'speed_wd_max_log': 0.09966819095233895, 'norm_acc_std_window_20_mean': 0.09702281659913364, 'norm_acc_peak_frequency': 0.08635055126640409, 'norm_mag_avg_frequency': 0.08621474940757523, 'norm_gyr_median_window_20_mean': 0.06625351759879461, 'norm_mag_peak_frequency_window_20_mean': 0.059382604117214396, 'distance_bus_stops': 0.05290247997775258, 'distance_London': 0.052735198712446946, 'GYR_x_entropy': 0.0471171376293665, 'ACC_z_mean': 0.04636341381083853, 'distance_Brighton': 0.04472493761234033, 'speed_square': 0.04159203191569734, 'speed_log': 0.03655894958964602, 'latitude': 0.03379163953065982, 'ACC_y_entropy': 0.03242167840209988, 'gps_snr_mean_window_20_mean': 0.029243715065408148, 'number_window_20_mean': 0.02569995532247027, 'north': 0.0253922752841915, 'ACC_y_mean': 0.02533359722323826, 'GYR_y_entropy': 0.025074864013434534, 'norm_acc_std': 0.023627325448497032, 'number': 0.02304690607326762, 'speed': 0.021907962915640393, 'norm_acc_entropy': 0.0218515449835621, 'gps_snr_max': 0.020453703362482503, 'ACC_y_energy': 0.020402686403052546, 'ACC_z_median': 0.019350646109804803, 'distance': 0.019148443960536693, 'accuracy': 0.018496677743936468, 'acc_wd_std': 0.018404809685083474, 'distance_parks': 0.018321240917245053, 'GYR_z_avg_frequency': 0.01827676700269848, 'longitude_window_20_std': 0.017898457198214878, 'norm_gyr_mean': 0.017304673021080446, 'norm_gyr_median': 0.01702122095301519, 'norm_gyr_min_window_20_mean': 0.016899926627638496, 'gps_snr_mean': 0.015380820000655777, 'is_stop': 0.014747340100137096, 'norm_gyr_max': 0.014644333603974703, 'speed_dif': 0.014360523714706534, 'norm_acc_cal_range': 0.013286452753795776, 'GYR_z_entropy': 0.013167156165009393, 'norm_acc_energy': 0.011377976173558657, 'norm_mag_min': 0.01115202134062749, 'ACC_x_min': 0.010710135211268436, 'ACC_x_cal_range': 0.010232378613827775, 'speed_wd_std': 0.010161461232102209, 'ACC_y_cal_range': 0.010063645172684436, 'norm_mag_max': 0.009769737446797492, 'ACC_z_std': 0.00915198099185265, 'MAG_y_entropy': 0.009122271382205949, 'GYR_z_energy': 0.008860907932553657, 'GYR_y_std': 0.008544194397095953, 'GYR_y_avg_frequency': 0.008187998394942152, 'longitude': 0.007912260251425881, 'norm_gyr_std': 0.007805496274461269, 'longitude_window_20_mean': 0.0077644468422778355, 'ACC_y_median': 0.007549755767214759, 'east': 0.007492674947614726, 'ACC_z_min': 0.007392160790550807, 'acc_wd_max_log': 0.007338098107253102, 'GYR_z_cal_range': 0.007303108369184903, 'ACC_x_max': 0.007247808789937876, 'norm_mag_mean': 0.006771474792977509, 'altitude': 0.006656202002013973, 'MAG_y_std': 0.006435403510093387, 'ACC_y_peak_frequency': 0.006329884239244103, 'norm_mag_median': 0.005615041177454795, 'error': 0.005483915873209353, 'norm_acc_max': 0.005431693914364207, 'MAG_z_max': 0.005363726180697727, 'GYR_z_min': 0.005282717026814392, 'GYR_y_min': 0.0049709494570396445, 'MAG_y_min': 0.004807397894417623, 'GYR_z_std': 0.0047965840717562516, 'ACC_x_median': 0.004624093846942806, 'gps_snr_std': 0.004606062444818449, 'norm_mag_std': 0.004571699299843461, 'ACC_x_peak_frequency': 0.004499613335900471, 'ACC_x_mean': 0.004457825987508865, 'MAG_z_median': 0.00432980285614841, 'norm_mag_cal_range': 0.004177098005374727, 'north_speed': 0.0038804955316917487, 'ACC_z_energy': 0.0037415672093166607, 'MAG_y_cal_range': 0.003726553555838901, 'norm_acc_min': 0.0037165718505203517, 'GYR_y_peak_frequency': 0.003638424473339166, 'MAG_y_max': 0.003594664678888387, 'norm_gyr_avg_frequency': 0.0035530952850569807, 'MAG_x_energy': 0.003151096439512429, 'MAG_y_median': 0.003145595378108468, 'speed_dlt': 0.0031118029008548476, 'MAG_z_cal_range': 0.0030591900181270834, 'MAG_x_std': 0.0029542350476591344, 'north_dlt': 0.002933222108734038, 'availability': 0.002926718669325925, 'ACC_z_max': 0.0027614600769415368, 'ACC_z_cal_range': 0.002734754100368072, 'ACC_y_min': 0.0027311997477371397, 'GYR_z_peak_frequency': 0.002705804828886337, 'norm_mag_energy': 0.002624894344914368, 'MAG_x_min': 0.002621109636570625, 'MAG_y_energy': 0.0025115187974658728, 'ACC_z_peak_frequency': 0.002494599966908105, 'ACC_y_avg_frequency': 0.0024107892461364315, 'MAG_z_min': 0.0021949793250314793, 'MAG_y_mean': 0.0021760184695961567, 'MAG_x_max': 0.0021520070852730916, 'GYR_x_peak_frequency': 0.0020093094924430325, 'norm_acc_avg_frequency': 0.0019201739671850246, 'ACC_z_avg_frequency': 0.0016858763989489097, 'east_speed': 0.00156745658847042, 'MAG_x_entropy': 0.0015585084246070697, 'east_dlt': 0.001397748316537861, 'GYR_x_cal_range': 0.0013490473144166367, 'MAG_x_mean': 0.0013346163716551247, 'MAG_x_cal_range': 0.0013156088499939366, 'MAG_z_avg_frequency': 0.0011376289971409992, 'ACC_x_energy': 0.0010185006282664255, 'MAG_z_mean': 0.0010166364613288913, 'MAG_x_avg_frequency': 0.0009818347204509747, 'norm_acc_mean': 0.0009662514604642111, 'MAG_x_median': 0.000882741934396094, 'ACC_x_std': 0.0008354271640674158, 'distance_subway_change': 0.0007964579518561265, 'GYR_x_std': 0.0007601045605477498, 'ACC_y_kurtosis': 0.0007484711109614657, 'ACC_x_avg_frequency': 0.0007430270873855514, 'norm_acc_kurtosis': 0.0007395796873151962, 'acc': 0.0006767610100499649, 'norm_mag_entropy': 0.0006181540094711847, 'GYR_x_avg_frequency': 0.0005924136007973498, 'distance_bus_routes_change': 0.0005548484456956675, 'GYR_z_max': 0.000526212403246537, 'MAG_z_std': 0.0005136485254296861, 'norm_gyr_cal_range': 0.0004858899442104096, 'distance_railways_change': 0.0004667007859284529, 'distance_Brighton_change': 0.00044289426274596354, 'gps_snr_min': 0.0003678617444099651, 'distance_parks_change': 0.00035704530677554855, 'time_dlt': 0.00028666324225907634, 'norm_acc_median': 0.0002796468476936138, 'ACC_x_entropy': 0.00025633155855738686, 'error_change': 0.0002176522392137594, 'ACC_z_skewness': 0.00020481911595244295, 'MAG_y_avg_frequency': 0.00019161652880577868, 'GYR_x_energy': 0.00011919582534363236, 'GYR_x_min': 0.00011460320018213721, 'ACC_z_kurtosis': 8.766889717232057e-05, 'norm_mag_peak_frequency': 7.806177660826852e-05, 'norm_gyr_entropy': 6.030318877413052e-05, 'MAG_z_entropy': 5.017025291344557e-05, 'distance_London_change': 4.92980908348789e-05, 'distance_change': 4.4984839044930466e-05, 'MAG_z_energy': 4.3562120655474057e-05, 'ACC_z_entropy': 4.334674211807617e-05, 'GYR_y_cal_range': 3.7202195622679345e-05, 'norm_gyr_min': 3.513940101645414e-05, 'GYR_y_energy': 3.3779023100060753e-05, 'GYR_y_max': 2.1104672588404452e-05, 'valid_dlt': 1.7865224509207977e-05, 'GYR_y_median': 1.7370447966815133e-05, 'norm_gyr_energy': 1.4476736223631425e-05, 'norm_acc_skewness': 8.576946577409343e-06, 'GYR_x_kurtosis': 7.808770887246023e-06, 'GYR_x_max': 5.133735766614309e-06, 'GYR_z_kurtosis': 3.7598328989870552e-06, 'norm_gyr_peak_frequency': 1.163592617983854e-06}
importance feature add well
training set : Torso ; testing set : Hand; test order: 2
X_val  : (143960, 176)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.07
predict lgb
Time elapsed for testing lgb: 1.21
predict xgb
Time elapsed for testing xgb: 2.33
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Torso ; testing set : Hand  testing result
tree_model.pred_mean
[[22244   756  2641  2014   243     0   614  1328]
 [  539 16983     0  7749     0     0   331   541]
 [    0   440  1695   639     0     0     0     0]
 [    0     0     0 11926   106     0     0     0]
 [  227   233     0  2842 15199  1844   129     0]
 [   10     0     0  2169   932  5957   112     0]
 [  586    35    29  1606  3669     0 14739  1146]
 [    0     0     0     0     0     0  2302 19405]]
              precision    recall  f1-score   support

       Still       0.94      0.75      0.83     29840
     Walking       0.92      0.65      0.76     26143
         Run       0.39      0.61      0.47      2774
        Bike       0.41      0.99      0.58     12032
         Car       0.75      0.74      0.75     20474
         Bus       0.76      0.65      0.70      9180
       Train       0.81      0.68      0.74     21810
      Subway       0.87      0.89      0.88     21707

    accuracy                           0.75    143960
   macro avg       0.73      0.74      0.71    143960
weighted avg       0.81      0.75      0.76    143960

test over
get importance point
single experiment feature importance :{'ACC_y_std': 0.21099224585902043, 'ACC_y_std_window_20_mean': 0.1860327445091421, 'distance_railways': 0.1680490469696562, 'distance_subway': 0.13991505322615042, 'code': 0.1350840063499034, 'ACC_y_max': 0.1277281028507017, 'GYR_y_std_window_20_mean': 0.12449656847564783, 'distance_bus_routes': 0.10155556078177909, 'speed_wd_max_log': 0.09966819095233895, 'norm_acc_std_window_20_mean': 0.09702281659913364, 'norm_acc_peak_frequency': 0.08635055126640409, 'norm_mag_avg_frequency': 0.08621474940757523, 'norm_gyr_median_window_20_mean': 0.06625351759879461, 'norm_mag_peak_frequency_window_20_mean': 0.059382604117214396, 'distance_bus_stops': 0.05290247997775258, 'distance_London': 0.052735198712446946, 'GYR_x_entropy': 0.0471171376293665, 'ACC_z_mean': 0.04636341381083853, 'distance_Brighton': 0.04472493761234033, 'speed_square': 0.04159203191569734, 'speed_log': 0.03655894958964602, 'latitude': 0.03379163953065982, 'ACC_y_entropy': 0.03242167840209988, 'gps_snr_mean_window_20_mean': 0.029243715065408148, 'number_window_20_mean': 0.02569995532247027, 'north': 0.0253922752841915, 'ACC_y_mean': 0.02533359722323826, 'GYR_y_entropy': 0.025074864013434534, 'norm_acc_std': 0.023627325448497032, 'number': 0.02304690607326762, 'speed': 0.021907962915640393, 'norm_acc_entropy': 0.0218515449835621, 'gps_snr_max': 0.020453703362482503, 'ACC_y_energy': 0.020402686403052546, 'ACC_z_median': 0.019350646109804803, 'distance': 0.019148443960536693, 'accuracy': 0.018496677743936468, 'acc_wd_std': 0.018404809685083474, 'distance_parks': 0.018321240917245053, 'GYR_z_avg_frequency': 0.01827676700269848, 'longitude_window_20_std': 0.017898457198214878, 'norm_gyr_mean': 0.017304673021080446, 'norm_gyr_median': 0.01702122095301519, 'norm_gyr_min_window_20_mean': 0.016899926627638496, 'gps_snr_mean': 0.015380820000655777, 'is_stop': 0.014747340100137096, 'norm_gyr_max': 0.014644333603974703, 'speed_dif': 0.014360523714706534, 'norm_acc_cal_range': 0.013286452753795776, 'GYR_z_entropy': 0.013167156165009393, 'norm_acc_energy': 0.011377976173558657, 'norm_mag_min': 0.01115202134062749, 'ACC_x_min': 0.010710135211268436, 'ACC_x_cal_range': 0.010232378613827775, 'speed_wd_std': 0.010161461232102209, 'ACC_y_cal_range': 0.010063645172684436, 'norm_mag_max': 0.009769737446797492, 'ACC_z_std': 0.00915198099185265, 'MAG_y_entropy': 0.009122271382205949, 'GYR_z_energy': 0.008860907932553657, 'GYR_y_std': 0.008544194397095953, 'GYR_y_avg_frequency': 0.008187998394942152, 'longitude': 0.007912260251425881, 'norm_gyr_std': 0.007805496274461269, 'longitude_window_20_mean': 0.0077644468422778355, 'ACC_y_median': 0.007549755767214759, 'east': 0.007492674947614726, 'ACC_z_min': 0.007392160790550807, 'acc_wd_max_log': 0.007338098107253102, 'GYR_z_cal_range': 0.007303108369184903, 'ACC_x_max': 0.007247808789937876, 'norm_mag_mean': 0.006771474792977509, 'altitude': 0.006656202002013973, 'MAG_y_std': 0.006435403510093387, 'ACC_y_peak_frequency': 0.006329884239244103, 'norm_mag_median': 0.005615041177454795, 'error': 0.005483915873209353, 'norm_acc_max': 0.005431693914364207, 'MAG_z_max': 0.005363726180697727, 'GYR_z_min': 0.005282717026814392, 'GYR_y_min': 0.0049709494570396445, 'MAG_y_min': 0.004807397894417623, 'GYR_z_std': 0.0047965840717562516, 'ACC_x_median': 0.004624093846942806, 'gps_snr_std': 0.004606062444818449, 'norm_mag_std': 0.004571699299843461, 'ACC_x_peak_frequency': 0.004499613335900471, 'ACC_x_mean': 0.004457825987508865, 'MAG_z_median': 0.00432980285614841, 'norm_mag_cal_range': 0.004177098005374727, 'north_speed': 0.0038804955316917487, 'ACC_z_energy': 0.0037415672093166607, 'MAG_y_cal_range': 0.003726553555838901, 'norm_acc_min': 0.0037165718505203517, 'GYR_y_peak_frequency': 0.003638424473339166, 'MAG_y_max': 0.003594664678888387, 'norm_gyr_avg_frequency': 0.0035530952850569807, 'MAG_x_energy': 0.003151096439512429, 'MAG_y_median': 0.003145595378108468, 'speed_dlt': 0.0031118029008548476, 'MAG_z_cal_range': 0.0030591900181270834, 'MAG_x_std': 0.0029542350476591344, 'north_dlt': 0.002933222108734038, 'availability': 0.002926718669325925, 'ACC_z_max': 0.0027614600769415368, 'ACC_z_cal_range': 0.002734754100368072, 'ACC_y_min': 0.0027311997477371397, 'GYR_z_peak_frequency': 0.002705804828886337, 'norm_mag_energy': 0.002624894344914368, 'MAG_x_min': 0.002621109636570625, 'MAG_y_energy': 0.0025115187974658728, 'ACC_z_peak_frequency': 0.002494599966908105, 'ACC_y_avg_frequency': 0.0024107892461364315, 'MAG_z_min': 0.0021949793250314793, 'MAG_y_mean': 0.0021760184695961567, 'MAG_x_max': 0.0021520070852730916, 'GYR_x_peak_frequency': 0.0020093094924430325, 'norm_acc_avg_frequency': 0.0019201739671850246, 'ACC_z_avg_frequency': 0.0016858763989489097, 'east_speed': 0.00156745658847042, 'MAG_x_entropy': 0.0015585084246070697, 'east_dlt': 0.001397748316537861, 'GYR_x_cal_range': 0.0013490473144166367, 'MAG_x_mean': 0.0013346163716551247, 'MAG_x_cal_range': 0.0013156088499939366, 'MAG_z_avg_frequency': 0.0011376289971409992, 'ACC_x_energy': 0.0010185006282664255, 'MAG_z_mean': 0.0010166364613288913, 'MAG_x_avg_frequency': 0.0009818347204509747, 'norm_acc_mean': 0.0009662514604642111, 'MAG_x_median': 0.000882741934396094, 'ACC_x_std': 0.0008354271640674158, 'distance_subway_change': 0.0007964579518561265, 'GYR_x_std': 0.0007601045605477498, 'ACC_y_kurtosis': 0.0007484711109614657, 'ACC_x_avg_frequency': 0.0007430270873855514, 'norm_acc_kurtosis': 0.0007395796873151962, 'acc': 0.0006767610100499649, 'norm_mag_entropy': 0.0006181540094711847, 'GYR_x_avg_frequency': 0.0005924136007973498, 'distance_bus_routes_change': 0.0005548484456956675, 'GYR_z_max': 0.000526212403246537, 'MAG_z_std': 0.0005136485254296861, 'norm_gyr_cal_range': 0.0004858899442104096, 'distance_railways_change': 0.0004667007859284529, 'distance_Brighton_change': 0.00044289426274596354, 'gps_snr_min': 0.0003678617444099651, 'distance_parks_change': 0.00035704530677554855, 'time_dlt': 0.00028666324225907634, 'norm_acc_median': 0.0002796468476936138, 'ACC_x_entropy': 0.00025633155855738686, 'error_change': 0.0002176522392137594, 'ACC_z_skewness': 0.00020481911595244295, 'MAG_y_avg_frequency': 0.00019161652880577868, 'GYR_x_energy': 0.00011919582534363236, 'GYR_x_min': 0.00011460320018213721, 'ACC_z_kurtosis': 8.766889717232057e-05, 'norm_mag_peak_frequency': 7.806177660826852e-05, 'norm_gyr_entropy': 6.030318877413052e-05, 'MAG_z_entropy': 5.017025291344557e-05, 'distance_London_change': 4.92980908348789e-05, 'distance_change': 4.4984839044930466e-05, 'MAG_z_energy': 4.3562120655474057e-05, 'ACC_z_entropy': 4.334674211807617e-05, 'GYR_y_cal_range': 3.7202195622679345e-05, 'norm_gyr_min': 3.513940101645414e-05, 'GYR_y_energy': 3.3779023100060753e-05, 'GYR_y_max': 2.1104672588404452e-05, 'valid_dlt': 1.7865224509207977e-05, 'GYR_y_median': 1.7370447966815133e-05, 'norm_gyr_energy': 1.4476736223631425e-05, 'norm_acc_skewness': 8.576946577409343e-06, 'GYR_x_kurtosis': 7.808770887246023e-06, 'GYR_x_max': 5.133735766614309e-06, 'GYR_z_kurtosis': 3.7598328989870552e-06, 'norm_gyr_peak_frequency': 1.163592617983854e-06}
importance feature add well
training set : Torso ; testing set : Hips; test order: 3
X_val  : (143960, 176)
y_val  : 143960
predict rf
Time elapsed for testing rf 1.02
predict lgb
Time elapsed for testing lgb: 1.15
predict xgb
Time elapsed for testing xgb: 2.32
----------------------------rf bag lgb xgb catboost  ---------------------------------
training set : Torso ; testing set : Hips  testing result
tree_model.pred_mean
[[23665   818     0   282   510   291  3761   513]
 [  708 21765     1  2238     0   121   908   402]
 [    0   122  1841   811     0     0     0     0]
 [  105  2088     0  9826    13     0     0     0]
 [  554    57     0     0 16405  3011   447     0]
 [  246     0     0    81  1595  6465   793     0]
 [  721    42     0    52  2874   803 16264  1054]
 [    0     0     0     0     0     0 11099 10608]]
              precision    recall  f1-score   support

       Still       0.91      0.79      0.85     29840
     Walking       0.87      0.83      0.85     26143
         Run       1.00      0.66      0.80      2774
        Bike       0.74      0.82      0.78     12032
         Car       0.77      0.80      0.78     20474
         Bus       0.60      0.70      0.65      9180
       Train       0.49      0.75      0.59     21810
      Subway       0.84      0.49      0.62     21707

    accuracy                           0.74    143960
   macro avg       0.78      0.73      0.74    143960
weighted avg       0.78      0.74      0.75    143960

test over
get importance point
single experiment feature importance :{'ACC_y_std': 0.21099224585902043, 'ACC_y_std_window_20_mean': 0.1860327445091421, 'distance_railways': 0.1680490469696562, 'distance_subway': 0.13991505322615042, 'code': 0.1350840063499034, 'ACC_y_max': 0.1277281028507017, 'GYR_y_std_window_20_mean': 0.12449656847564783, 'distance_bus_routes': 0.10155556078177909, 'speed_wd_max_log': 0.09966819095233895, 'norm_acc_std_window_20_mean': 0.09702281659913364, 'norm_acc_peak_frequency': 0.08635055126640409, 'norm_mag_avg_frequency': 0.08621474940757523, 'norm_gyr_median_window_20_mean': 0.06625351759879461, 'norm_mag_peak_frequency_window_20_mean': 0.059382604117214396, 'distance_bus_stops': 0.05290247997775258, 'distance_London': 0.052735198712446946, 'GYR_x_entropy': 0.0471171376293665, 'ACC_z_mean': 0.04636341381083853, 'distance_Brighton': 0.04472493761234033, 'speed_square': 0.04159203191569734, 'speed_log': 0.03655894958964602, 'latitude': 0.03379163953065982, 'ACC_y_entropy': 0.03242167840209988, 'gps_snr_mean_window_20_mean': 0.029243715065408148, 'number_window_20_mean': 0.02569995532247027, 'north': 0.0253922752841915, 'ACC_y_mean': 0.02533359722323826, 'GYR_y_entropy': 0.025074864013434534, 'norm_acc_std': 0.023627325448497032, 'number': 0.02304690607326762, 'speed': 0.021907962915640393, 'norm_acc_entropy': 0.0218515449835621, 'gps_snr_max': 0.020453703362482503, 'ACC_y_energy': 0.020402686403052546, 'ACC_z_median': 0.019350646109804803, 'distance': 0.019148443960536693, 'accuracy': 0.018496677743936468, 'acc_wd_std': 0.018404809685083474, 'distance_parks': 0.018321240917245053, 'GYR_z_avg_frequency': 0.01827676700269848, 'longitude_window_20_std': 0.017898457198214878, 'norm_gyr_mean': 0.017304673021080446, 'norm_gyr_median': 0.01702122095301519, 'norm_gyr_min_window_20_mean': 0.016899926627638496, 'gps_snr_mean': 0.015380820000655777, 'is_stop': 0.014747340100137096, 'norm_gyr_max': 0.014644333603974703, 'speed_dif': 0.014360523714706534, 'norm_acc_cal_range': 0.013286452753795776, 'GYR_z_entropy': 0.013167156165009393, 'norm_acc_energy': 0.011377976173558657, 'norm_mag_min': 0.01115202134062749, 'ACC_x_min': 0.010710135211268436, 'ACC_x_cal_range': 0.010232378613827775, 'speed_wd_std': 0.010161461232102209, 'ACC_y_cal_range': 0.010063645172684436, 'norm_mag_max': 0.009769737446797492, 'ACC_z_std': 0.00915198099185265, 'MAG_y_entropy': 0.009122271382205949, 'GYR_z_energy': 0.008860907932553657, 'GYR_y_std': 0.008544194397095953, 'GYR_y_avg_frequency': 0.008187998394942152, 'longitude': 0.007912260251425881, 'norm_gyr_std': 0.007805496274461269, 'longitude_window_20_mean': 0.0077644468422778355, 'ACC_y_median': 0.007549755767214759, 'east': 0.007492674947614726, 'ACC_z_min': 0.007392160790550807, 'acc_wd_max_log': 0.007338098107253102, 'GYR_z_cal_range': 0.007303108369184903, 'ACC_x_max': 0.007247808789937876, 'norm_mag_mean': 0.006771474792977509, 'altitude': 0.006656202002013973, 'MAG_y_std': 0.006435403510093387, 'ACC_y_peak_frequency': 0.006329884239244103, 'norm_mag_median': 0.005615041177454795, 'error': 0.005483915873209353, 'norm_acc_max': 0.005431693914364207, 'MAG_z_max': 0.005363726180697727, 'GYR_z_min': 0.005282717026814392, 'GYR_y_min': 0.0049709494570396445, 'MAG_y_min': 0.004807397894417623, 'GYR_z_std': 0.0047965840717562516, 'ACC_x_median': 0.004624093846942806, 'gps_snr_std': 0.004606062444818449, 'norm_mag_std': 0.004571699299843461, 'ACC_x_peak_frequency': 0.004499613335900471, 'ACC_x_mean': 0.004457825987508865, 'MAG_z_median': 0.00432980285614841, 'norm_mag_cal_range': 0.004177098005374727, 'north_speed': 0.0038804955316917487, 'ACC_z_energy': 0.0037415672093166607, 'MAG_y_cal_range': 0.003726553555838901, 'norm_acc_min': 0.0037165718505203517, 'GYR_y_peak_frequency': 0.003638424473339166, 'MAG_y_max': 0.003594664678888387, 'norm_gyr_avg_frequency': 0.0035530952850569807, 'MAG_x_energy': 0.003151096439512429, 'MAG_y_median': 0.003145595378108468, 'speed_dlt': 0.0031118029008548476, 'MAG_z_cal_range': 0.0030591900181270834, 'MAG_x_std': 0.0029542350476591344, 'north_dlt': 0.002933222108734038, 'availability': 0.002926718669325925, 'ACC_z_max': 0.0027614600769415368, 'ACC_z_cal_range': 0.002734754100368072, 'ACC_y_min': 0.0027311997477371397, 'GYR_z_peak_frequency': 0.002705804828886337, 'norm_mag_energy': 0.002624894344914368, 'MAG_x_min': 0.002621109636570625, 'MAG_y_energy': 0.0025115187974658728, 'ACC_z_peak_frequency': 0.002494599966908105, 'ACC_y_avg_frequency': 0.0024107892461364315, 'MAG_z_min': 0.0021949793250314793, 'MAG_y_mean': 0.0021760184695961567, 'MAG_x_max': 0.0021520070852730916, 'GYR_x_peak_frequency': 0.0020093094924430325, 'norm_acc_avg_frequency': 0.0019201739671850246, 'ACC_z_avg_frequency': 0.0016858763989489097, 'east_speed': 0.00156745658847042, 'MAG_x_entropy': 0.0015585084246070697, 'east_dlt': 0.001397748316537861, 'GYR_x_cal_range': 0.0013490473144166367, 'MAG_x_mean': 0.0013346163716551247, 'MAG_x_cal_range': 0.0013156088499939366, 'MAG_z_avg_frequency': 0.0011376289971409992, 'ACC_x_energy': 0.0010185006282664255, 'MAG_z_mean': 0.0010166364613288913, 'MAG_x_avg_frequency': 0.0009818347204509747, 'norm_acc_mean': 0.0009662514604642111, 'MAG_x_median': 0.000882741934396094, 'ACC_x_std': 0.0008354271640674158, 'distance_subway_change': 0.0007964579518561265, 'GYR_x_std': 0.0007601045605477498, 'ACC_y_kurtosis': 0.0007484711109614657, 'ACC_x_avg_frequency': 0.0007430270873855514, 'norm_acc_kurtosis': 0.0007395796873151962, 'acc': 0.0006767610100499649, 'norm_mag_entropy': 0.0006181540094711847, 'GYR_x_avg_frequency': 0.0005924136007973498, 'distance_bus_routes_change': 0.0005548484456956675, 'GYR_z_max': 0.000526212403246537, 'MAG_z_std': 0.0005136485254296861, 'norm_gyr_cal_range': 0.0004858899442104096, 'distance_railways_change': 0.0004667007859284529, 'distance_Brighton_change': 0.00044289426274596354, 'gps_snr_min': 0.0003678617444099651, 'distance_parks_change': 0.00035704530677554855, 'time_dlt': 0.00028666324225907634, 'norm_acc_median': 0.0002796468476936138, 'ACC_x_entropy': 0.00025633155855738686, 'error_change': 0.0002176522392137594, 'ACC_z_skewness': 0.00020481911595244295, 'MAG_y_avg_frequency': 0.00019161652880577868, 'GYR_x_energy': 0.00011919582534363236, 'GYR_x_min': 0.00011460320018213721, 'ACC_z_kurtosis': 8.766889717232057e-05, 'norm_mag_peak_frequency': 7.806177660826852e-05, 'norm_gyr_entropy': 6.030318877413052e-05, 'MAG_z_entropy': 5.017025291344557e-05, 'distance_London_change': 4.92980908348789e-05, 'distance_change': 4.4984839044930466e-05, 'MAG_z_energy': 4.3562120655474057e-05, 'ACC_z_entropy': 4.334674211807617e-05, 'GYR_y_cal_range': 3.7202195622679345e-05, 'norm_gyr_min': 3.513940101645414e-05, 'GYR_y_energy': 3.3779023100060753e-05, 'GYR_y_max': 2.1104672588404452e-05, 'valid_dlt': 1.7865224509207977e-05, 'GYR_y_median': 1.7370447966815133e-05, 'norm_gyr_energy': 1.4476736223631425e-05, 'norm_acc_skewness': 8.576946577409343e-06, 'GYR_x_kurtosis': 7.808770887246023e-06, 'GYR_x_max': 5.133735766614309e-06, 'GYR_z_kurtosis': 3.7598328989870552e-06, 'norm_gyr_peak_frequency': 1.163592617983854e-06}
importance feature add well
